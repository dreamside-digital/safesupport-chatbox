(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(803)},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0}),exports.logger=void 0;var _loglevel=_interopRequireDefault(__webpack_require__(885));const logger=_loglevel.default.getLogger("matrix");exports.logger=logger,logger.setLevel(_loglevel.default.levels.DEBUG)},function(module,exports,__webpack_require__){var global=__webpack_require__(6),getOwnPropertyDescriptor=__webpack_require__(66).f,createNonEnumerableProperty=__webpack_require__(25),redefine=__webpack_require__(26),setGlobal=__webpack_require__(181),copyConstructorProperties=__webpack_require__(298),isForced=__webpack_require__(114);module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(884);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return cache},cache}module.exports=function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeParams=function encodeParams(params){let qs="";for(const key in params)params.hasOwnProperty(key)&&(qs+="&"+encodeURIComponent(key)+"="+encodeURIComponent(params[key]));return qs.substring(1)},exports.encodeUri=function encodeUri(pathTemplate,variables){for(const key in variables)variables.hasOwnProperty(key)&&(pathTemplate=pathTemplate.replace(key,encodeURIComponent(variables[key])));return pathTemplate},exports.map=function map(array,fn){const results=new Array(array.length);for(let i=0;i<array.length;i++)results[i]=fn(array[i]);return results},exports.filter=function filter(array,fn){const results=[];for(let i=0;i<array.length;i++)fn(array[i],i,array)&&results.push(array[i]);return results},exports.keys=function keys(obj){const keys=[];for(const key in obj)obj.hasOwnProperty(key)&&keys.push(key);return keys},exports.values=function values(obj){const values=[];for(const key in obj)obj.hasOwnProperty(key)&&values.push(obj[key]);return values},exports.forEach=function forEach(array,fn){for(let i=0;i<array.length;i++)fn(array[i],i)},exports.findElement=function findElement(array,fn,reverse){let i;if(reverse){for(i=array.length-1;i>=0;i--)if(fn(array[i],i,array))return array[i]}else for(i=0;i<array.length;i++)if(fn(array[i],i,array))return array[i]},exports.removeElement=function removeElement(array,fn,reverse){let i,removed;if(reverse){for(i=array.length-1;i>=0;i--)if(fn(array[i],i,array))return removed=array[i],array.splice(i,1),removed}else for(i=0;i<array.length;i++)if(fn(array[i],i,array))return removed=array[i],array.splice(i,1),removed;return!1},exports.isFunction=function isFunction(value){return"[object Function]"==Object.prototype.toString.call(value)},exports.isArray=function isArray(value){return Array.isArray?Array.isArray(value):Boolean(value&&value.constructor===Array)},exports.checkObjectHasKeys=function checkObjectHasKeys(obj,keys){for(let i=0;i<keys.length;i++)if(!obj.hasOwnProperty(keys[i]))throw new Error("Missing required key: "+keys[i])},exports.checkObjectHasNoAdditionalKeys=function checkObjectHasNoAdditionalKeys(obj,allowedKeys){for(const key in obj)if(obj.hasOwnProperty(key)&&-1===allowedKeys.indexOf(key))throw new Error("Unknown key: "+key)},exports.deepCopy=function deepCopy(obj){return JSON.parse(JSON.stringify(obj))},exports.deepCompare=function deepCompare(x,y){if(x===y)return!0;if(typeof x!=typeof y)return!1;if("number"==typeof x&&isNaN(x)&&isNaN(y))return!0;if(null===x||null===y)return x===y;if(!(x instanceof Object))return!1;if(x.constructor!==y.constructor||x.prototype!==y.prototype)return!1;if(x instanceof RegExp||x instanceof Date)return x.toString()===y.toString();if(x instanceof Array){if(x.length!==y.length)return!1;for(let i=0;i<x.length;i++)if(!deepCompare(x[i],y[i]))return!1}else{let p;for(p in y)if(y.hasOwnProperty(p)!==x.hasOwnProperty(p))return!1;for(p in y){if(y.hasOwnProperty(p)!==x.hasOwnProperty(p))return!1;if(!deepCompare(x[p],y[p]))return!1}}return!0},exports.extend=function extend(){const target=arguments[0]||{};for(let i=1;i<arguments.length;i++){const source=arguments[i];for(const propName in source)target[propName]=source[propName]}return target},exports.runPolyfills=function runPolyfills(){Array.prototype.filter||(Array.prototype.filter=function(fun){if(null==this)throw new TypeError;const t=Object(this),len=t.length>>>0;if("function"!=typeof fun)throw new TypeError;const res=[],thisArg=arguments.length>=2?arguments[1]:void 0;for(let i=0;i<len;i++)if(i in t){const val=t[i];fun.call(thisArg,val,i,t)&&res.push(val)}return res});Array.prototype.map||(Array.prototype.map=function(callback,thisArg){let T,k;if(null==this)throw new TypeError(" this is null or not defined");const O=Object(this),len=O.length>>>0;if("function"!=typeof callback)throw new TypeError(callback+" is not a function");arguments.length>1&&(T=thisArg);const A=new Array(len);for(k=0;k<len;){var kValue,mappedValue;k in O&&(kValue=O[k],mappedValue=callback.call(T,kValue,k,O),A[k]=mappedValue),k++}return A});Array.prototype.forEach||(Array.prototype.forEach=function(callback,thisArg){let T,k;if(null==this)throw new TypeError(" this is null or not defined");const O=Object(this),len=O.length>>>0;if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(arguments.length>1&&(T=thisArg),k=0;k<len;){var kValue;k in O&&(kValue=O[k],callback.call(T,kValue,k,O)),k++}})},exports.inherits=function inherits(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.polyfillSuper=function polyfillSuper(thisArg,SuperType,...params){try{SuperType.call(thisArg,...params)}catch(e){const fakeSuper=new SuperType(...params);Object.assign(thisArg,fakeSuper)}},exports.isNumber=function isNumber(value){return"number"==typeof value&&isFinite(value)},exports.removeHiddenChars=function removeHiddenChars(str){return(0,_unhomoglyph.default)(str.normalize("NFD").replace(removeHiddenCharsRegex,""))},exports.escapeRegExp=escapeRegExp,exports.globToRegexp=function globToRegexp(glob,extended){extended="boolean"!=typeof extended||extended;let pat=escapeRegExp(glob);pat=(pat=pat.replace(/\\\*/g,".*")).replace(/\?/g,"."),extended&&(pat=pat.replace(/\\\[(!|)(.*)\\]/g,function(match,p1,p2,offset,string){return"["+(p1?"^":"")+p2.replace(/\\-/,"-")+"]"}));return pat},exports.ensureNoTrailingSlash=function ensureNoTrailingSlash(url){return url&&url.endsWith("/")?url.substr(0,url.length-1):url},exports.sleep=function sleep(ms,value){return new Promise(resolve=>{setTimeout(resolve,ms,value)})},exports.isNullOrUndefined=function isNullOrUndefined(val){return null==val},exports.defer=function defer(){let resolve,reject;const promise=new Promise((_resolve,_reject)=>{resolve=_resolve,reject=_reject});return{resolve:resolve,reject:reject,promise:promise}},exports.promiseMapSeries=async function promiseMapSeries(promises,fn){for(const o of await promises)await fn(await o)},exports.promiseTry=function promiseTry(fn){return new Promise(resolve=>resolve(fn()))};var _unhomoglyph=_interopRequireDefault(__webpack_require__(886));const removeHiddenCharsRegex=/[\u2000-\u200F\u202A-\u202F\u0300-\u036f\uFEFF\s]/g;function escapeRegExp(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},function(module,exports,__webpack_require__){(function(global){var check=function(it){return it&&it.Math==Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||Function("return this")()}).call(this,__webpack_require__(0))},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__(38),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),toStr=Object.prototype.toString,concat=Array.prototype.concat,origDefineProperty=Object.defineProperty,supportsDescriptors=origDefineProperty&&function(){var obj={};try{for(var _ in origDefineProperty(obj,"x",{enumerable:!1,value:obj}),obj)return!1;return obj.x===obj}catch(e){return!1}}(),defineProperty=function(object,name,value,predicate){var fn;name in object&&("function"!=typeof(fn=predicate)||"[object Function]"!==toStr.call(fn)||!predicate())||(supportsDescriptors?origDefineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value)},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=concat.call(props,Object.getOwnPropertySymbols(map)));for(var i=0;i<props.length;i+=1)defineProperty(object,props[i],map[props[i]],predicates[props[i]])};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(427);module.exports=Function.prototype.bind||implementation},function(module,exports,__webpack_require__){var global=__webpack_require__(6),shared=__webpack_require__(109),has=__webpack_require__(20),uid=__webpack_require__(111),NATIVE_SYMBOL=__webpack_require__(188),USE_SYMBOL_AS_UID=__webpack_require__(302),WellKnownSymbolsStore=shared("wks"),Symbol=global.Symbol,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol:uid;module.exports=function(name){return has(WellKnownSymbolsStore,name)||(NATIVE_SYMBOL&&has(Symbol,name)?WellKnownSymbolsStore[name]=Symbol[name]:WellKnownSymbolsStore[name]=createWellKnownSymbol("Symbol."+name)),WellKnownSymbolsStore[name]}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9);module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){var path=__webpack_require__(183),has=__webpack_require__(20),wrappedWellKnownSymbolModule=__webpack_require__(307),defineProperty=__webpack_require__(21).f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});has(Symbol,NAME)||defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},function(module,exports,__webpack_require__){"use strict";var $TypeError=TypeError,throwTypeError=function(){throw new $TypeError},ThrowTypeError=Object.getOwnPropertyDescriptor?function(){try{return arguments.callee,throwTypeError}catch(calleeThrows){try{return Object.getOwnPropertyDescriptor(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=__webpack_require__(175)(),getProto=Object.getPrototypeOf||function(x){return x.__proto__},asyncGenIterator=void 0,TypedArray="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"$ %JSON%":"object"==typeof JSON?JSON:void 0,"$ %JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":hasSymbols?Symbol:void 0,"$ %SymbolPrototype%":hasSymbols?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":ThrowTypeError,"$ %TypedArray%":TypedArray,"$ %TypedArrayPrototype%":TypedArray?TypedArray.prototype:void 0,"$ %TypeError%":$TypeError,"$ %TypeErrorPrototype%":$TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},$replace=__webpack_require__(9).call(Function.call,String.prototype.replace),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function stringToPath(string){var result=[];return $replace(string,rePropName,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match}),result},getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var key="$ "+name;if(!(key in INTRINSICS))throw new SyntaxError("intrinsic "+name+" does not exist!");if(void 0===INTRINSICS[key]&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return INTRINSICS[key]};module.exports=function GetIntrinsic(name,allowMissing){if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new TypeError('"allowMissing" argument must be a boolean');var parts=stringToPath(name);if(0===parts.length)return getBaseIntrinsic(name,allowMissing);for(var value=getBaseIntrinsic("%"+parts[0]+"%",allowMissing),i=1;i<parts.length;i+=1)null!=value&&(value=value[parts[i]]);return value}},function(module,exports,__webpack_require__){"use strict";var $TypeError=TypeError,throwTypeError=function(){throw new $TypeError},ThrowTypeError=Object.getOwnPropertyDescriptor?function(){try{return arguments.callee,throwTypeError}catch(calleeThrows){try{return Object.getOwnPropertyDescriptor(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=__webpack_require__(163)(),getProto=Object.getPrototypeOf||function(x){return x.__proto__},asyncGenIterator=void 0,TypedArray="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"$ %JSON%":"object"==typeof JSON?JSON:void 0,"$ %JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":hasSymbols?Symbol:void 0,"$ %SymbolPrototype%":hasSymbols?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":ThrowTypeError,"$ %TypedArray%":TypedArray,"$ %TypedArrayPrototype%":TypedArray?TypedArray.prototype:void 0,"$ %TypeError%":$TypeError,"$ %TypeErrorPrototype%":$TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},$replace=__webpack_require__(9).call(Function.call,String.prototype.replace),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function stringToPath(string){var result=[];return $replace(string,rePropName,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match}),result},getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var key="$ "+name;if(!(key in INTRINSICS))throw new SyntaxError("intrinsic "+name+" does not exist!");if(void 0===INTRINSICS[key]&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return INTRINSICS[key]};module.exports=function GetIntrinsic(name,allowMissing){if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new TypeError('"allowMissing" argument must be a boolean');var parts=stringToPath(name);if(0===parts.length)return getBaseIntrinsic(name,allowMissing);for(var value=getBaseIntrinsic("%"+parts[0]+"%",allowMissing),i=1;i<parts.length;i+=1)null!=value&&(value=value[parts[i]]);return value}},function(module,exports,__webpack_require__){"use strict";var $TypeError=TypeError,throwTypeError=function(){throw new $TypeError},ThrowTypeError=Object.getOwnPropertyDescriptor?function(){try{return arguments.callee,throwTypeError}catch(calleeThrows){try{return Object.getOwnPropertyDescriptor(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=__webpack_require__(169)(),getProto=Object.getPrototypeOf||function(x){return x.__proto__},asyncGenIterator=void 0,TypedArray="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"$ %JSON%":"object"==typeof JSON?JSON:void 0,"$ %JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":hasSymbols?Symbol:void 0,"$ %SymbolPrototype%":hasSymbols?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":ThrowTypeError,"$ %TypedArray%":TypedArray,"$ %TypedArrayPrototype%":TypedArray?TypedArray.prototype:void 0,"$ %TypeError%":$TypeError,"$ %TypeErrorPrototype%":$TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},$replace=__webpack_require__(9).call(Function.call,String.prototype.replace),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function stringToPath(string){var result=[];return $replace(string,rePropName,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match}),result},getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var key="$ "+name;if(!(key in INTRINSICS))throw new SyntaxError("intrinsic "+name+" does not exist!");if(void 0===INTRINSICS[key]&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return INTRINSICS[key]};module.exports=function GetIntrinsic(name,allowMissing){if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new TypeError('"allowMissing" argument must be a boolean');var parts=stringToPath(name);if(0===parts.length)return getBaseIntrinsic(name,allowMissing);for(var value=getBaseIntrinsic("%"+parts[0]+"%",allowMissing),i=1;i<parts.length;i+=1)null!=value&&(value=value[parts[i]]);return value}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12);module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},function(module,exports,__webpack_require__){"use strict";var ReflectOwnKeys,R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function ReflectApply(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function NumberIsNaN(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function $getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener);if(void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if("function"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=$getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=target,w.type=type,w.count=existing.length,function ProcessEmitWarning(warning){console&&console.warn&&console.warn(warning)}(w)}return target}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=function onceWrapper(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,ReflectApply(this.listener,this.target,args))}.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function unwrapListeners(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if("number"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function emit(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError="error"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function once(type,listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener);return this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener);return this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener);if(void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function spliceOne(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7);module.exports=!fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(19),IE8_DOM_DEFINE=__webpack_require__(296),anObject=__webpack_require__(17),toPrimitive=__webpack_require__(83),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){"use strict";var fnToStr=Function.prototype.toString,constructorRegex=/^\s*class\b/,isES6ClassFn=function isES6ClassFunction(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr)}catch(e){return!1}},toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isCallable(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if("function"==typeof value&&!value.prototype)return!0;if(hasToStringTag)return function tryFunctionToStr(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}}(value);if(isES6ClassFn(value))return!1;var strClass=toStr.call(value);return"[object Function]"===strClass||"[object GeneratorFunction]"===strClass}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),fails=__webpack_require__(7),isArray=__webpack_require__(85),isObject=__webpack_require__(12),toObject=__webpack_require__(28),toLength=__webpack_require__(27),createProperty=__webpack_require__(187),arraySpeciesCreate=__webpack_require__(301),arrayMethodHasSpeciesSupport=__webpack_require__(115),wellKnownSymbol=__webpack_require__(10),V8_VERSION=__webpack_require__(189),IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails(function(){var array=[];return array[IS_CONCAT_SPREADABLE]=!1,array.concat()[0]!==array}),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat"),isConcatSpreadable=function(O){if(!isObject(O))return!1;var spreadable=O[IS_CONCAT_SPREADABLE];return void 0!==spreadable?!!spreadable:isArray(O)};$({target:"Array",proto:!0,forced:!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT},{concat:function concat(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(E=-1===i?O:arguments[i],isConcatSpreadable(E)){if(n+(len=toLength(E.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k])}else{if(n>=9007199254740991)throw TypeError("Maximum allowed index exceeded");createProperty(A,n++,E)}return A.length=n,A}})},function(module,exports,__webpack_require__){var TO_STRING_TAG_SUPPORT=__webpack_require__(190),redefine=__webpack_require__(26),toString=__webpack_require__(552);TO_STRING_TAG_SUPPORT||redefine(Object.prototype,"toString",toString,{unsafe:!0})},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(19),definePropertyModule=__webpack_require__(21),createPropertyDescriptor=__webpack_require__(82);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var global=__webpack_require__(6),createNonEnumerableProperty=__webpack_require__(25),has=__webpack_require__(20),setGlobal=__webpack_require__(181),inspectSource=__webpack_require__(182),InternalStateModule=__webpack_require__(52),getInternalState=InternalStateModule.get,enforceInternalState=InternalStateModule.enforce,TEMPLATE=String(String).split("String");(module.exports=function(O,key,value,options){var unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet;"function"==typeof value&&("string"!=typeof key||has(value,"name")||createNonEnumerableProperty(value,"name",key),enforceInternalState(value).source=TEMPLATE.join("string"==typeof key?key:"")),O!==global?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:createNonEnumerableProperty(O,key,value)):simple?O[key]=value:setGlobal(key,value)})(Function.prototype,"toString",function toString(){return"function"==typeof this&&getInternalState(this).source||inspectSource(this)})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(113),min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},function(module,exports,__webpack_require__){var requireObjectCoercible=__webpack_require__(33);module.exports=function(argument){return Object(requireObjectCoercible(argument))}},function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__(51),addToUnscopables=__webpack_require__(191),Iterators=__webpack_require__(89),InternalStateModule=__webpack_require__(52),defineIterator=__webpack_require__(192),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=defineIterator(Array,"Array",function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind:kind})},function(){var state=getInternalState(this),target=state.target,kind=state.kind,index=state.index++;return!target||index>=target.length?(state.target=void 0,{value:void 0,done:!0}):"keys"==kind?{value:index,done:!1}:"values"==kind?{value:target[index],done:!1}:{value:[index,target[index]],done:!1}},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__webpack_require__){(function(global){var check=function(it){return it&&it.Math==Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||Function("return this")()}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(354),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){module.exports=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),global=__webpack_require__(6),getBuiltIn=__webpack_require__(68),IS_PURE=__webpack_require__(67),DESCRIPTORS=__webpack_require__(19),NATIVE_SYMBOL=__webpack_require__(188),USE_SYMBOL_AS_UID=__webpack_require__(302),fails=__webpack_require__(7),has=__webpack_require__(20),isArray=__webpack_require__(85),isObject=__webpack_require__(12),anObject=__webpack_require__(17),toObject=__webpack_require__(28),toIndexedObject=__webpack_require__(51),toPrimitive=__webpack_require__(83),createPropertyDescriptor=__webpack_require__(82),nativeObjectCreate=__webpack_require__(69),objectKeys=__webpack_require__(86),getOwnPropertyNamesModule=__webpack_require__(112),getOwnPropertyNamesExternal=__webpack_require__(553),getOwnPropertySymbolsModule=__webpack_require__(186),getOwnPropertyDescriptorModule=__webpack_require__(66),definePropertyModule=__webpack_require__(21),propertyIsEnumerableModule=__webpack_require__(107),createNonEnumerableProperty=__webpack_require__(25),redefine=__webpack_require__(26),shared=__webpack_require__(109),sharedKey=__webpack_require__(110),hiddenKeys=__webpack_require__(84),uid=__webpack_require__(111),wellKnownSymbol=__webpack_require__(10),wrappedWellKnownSymbolModule=__webpack_require__(307),defineWellKnownSymbol=__webpack_require__(13),setToStringTag=__webpack_require__(56),InternalStateModule=__webpack_require__(52),$forEach=__webpack_require__(57).forEach,HIDDEN=sharedKey("hidden"),TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Symbol"),ObjectPrototype=Object.prototype,$Symbol=global.Symbol,$stringify=getBuiltIn("JSON","stringify"),nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry"),WellKnownSymbolsStore=shared("wks"),QObject=global.QObject,USE_SETTER=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDescriptor=DESCRIPTORS&&fails(function(){return 7!=nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a})?function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,P);ObjectPrototypeDescriptor&&delete ObjectPrototype[P],nativeDefineProperty(O,P,Attributes),ObjectPrototypeDescriptor&&O!==ObjectPrototype&&nativeDefineProperty(ObjectPrototype,P,ObjectPrototypeDescriptor)}:nativeDefineProperty,wrap=function(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate($Symbol.prototype);return setInternalState(symbol,{type:"Symbol",tag:tag,description:description}),DESCRIPTORS||(symbol.description=description),symbol},isSymbol=NATIVE_SYMBOL&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return Object(it)instanceof $Symbol},$defineProperty=function defineProperty(O,P,Attributes){O===ObjectPrototype&&$defineProperty(ObjectPrototypeSymbols,P,Attributes),anObject(O);var key=toPrimitive(P,!0);return anObject(Attributes),has(AllSymbols,key)?(Attributes.enumerable?(has(O,HIDDEN)&&O[HIDDEN][key]&&(O[HIDDEN][key]=!1),Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor(0,!1)})):(has(O,HIDDEN)||nativeDefineProperty(O,HIDDEN,createPropertyDescriptor(1,{})),O[HIDDEN][key]=!0),setSymbolDescriptor(O,key,Attributes)):nativeDefineProperty(O,key,Attributes)},$defineProperties=function defineProperties(O,Properties){anObject(O);var properties=toIndexedObject(Properties),keys=objectKeys(properties).concat($getOwnPropertySymbols(properties));return $forEach(keys,function(key){DESCRIPTORS&&!$propertyIsEnumerable.call(properties,key)||$defineProperty(O,key,properties[key])}),O},$propertyIsEnumerable=function propertyIsEnumerable(V){var P=toPrimitive(V,!0),enumerable=nativePropertyIsEnumerable.call(this,P);return!(this===ObjectPrototype&&has(AllSymbols,P)&&!has(ObjectPrototypeSymbols,P))&&(!(enumerable||!has(this,P)||!has(AllSymbols,P)||has(this,HIDDEN)&&this[HIDDEN][P])||enumerable)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(O,P){var it=toIndexedObject(O),key=toPrimitive(P,!0);if(it!==ObjectPrototype||!has(AllSymbols,key)||has(ObjectPrototypeSymbols,key)){var descriptor=nativeGetOwnPropertyDescriptor(it,key);return!descriptor||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(descriptor.enumerable=!0),descriptor}},$getOwnPropertyNames=function getOwnPropertyNames(O){var names=nativeGetOwnPropertyNames(toIndexedObject(O)),result=[];return $forEach(names,function(key){has(AllSymbols,key)||has(hiddenKeys,key)||result.push(key)}),result},$getOwnPropertySymbols=function getOwnPropertySymbols(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype,names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O)),result=[];return $forEach(names,function(key){!has(AllSymbols,key)||IS_OBJECT_PROTOTYPE&&!has(ObjectPrototype,key)||result.push(AllSymbols[key])}),result};(NATIVE_SYMBOL||(redefine(($Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");var description=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,tag=uid(description),setter=function(value){this===ObjectPrototype&&setter.call(ObjectPrototypeSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value))};return DESCRIPTORS&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype,tag,{configurable:!0,set:setter}),wrap(tag,description)}).prototype,"toString",function toString(){return getInternalState(this).tag}),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule.f=$getOwnPropertySymbols,DESCRIPTORS&&(nativeDefineProperty($Symbol.prototype,"description",{configurable:!0,get:function description(){return getInternalState(this).description}}),IS_PURE||redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0}))),USE_SYMBOL_AS_UID||(wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)}),$({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol}),$forEach(objectKeys(WellKnownSymbolsStore),function(name){defineWellKnownSymbol(name)}),$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL},{for:function(key){var string=String(key);if(has(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol=$Symbol(string);return StringToSymbolRegistry[string]=symbol,SymbolToStringRegistry[symbol]=string,symbol},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol");if(has(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]},useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:function create(O,Properties){return void 0===Properties?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$({target:"Object",stat:!0,forced:fails(function(){getOwnPropertySymbolsModule.f(1)})},{getOwnPropertySymbols:function getOwnPropertySymbols(it){return getOwnPropertySymbolsModule.f(toObject(it))}}),$stringify)&&$({target:"JSON",stat:!0,forced:!NATIVE_SYMBOL||fails(function(){var symbol=$Symbol();return"[null]"!=$stringify([symbol])||"{}"!=$stringify({a:symbol})||"{}"!=$stringify(Object(symbol))})},{stringify:function stringify(it,replacer,space){for(var $replacer,args=[it],index=1;arguments.length>index;)args.push(arguments[index++]);if($replacer=replacer,(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,$stringify.apply(null,args)}});$Symbol.prototype[TO_PRIMITIVE]||createNonEnumerableProperty($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),hiddenKeys[HIDDEN]=!0},function(module,exports,__webpack_require__){var global=__webpack_require__(6),DOMIterables=__webpack_require__(311),ArrayIteratorMethods=__webpack_require__(29),createNonEnumerableProperty=__webpack_require__(25),wellKnownSymbol=__webpack_require__(10),ITERATOR=wellKnownSymbol("iterator"),TO_STRING_TAG=wellKnownSymbol("toStringTag"),ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}},function(module,exports,__webpack_require__){(function(global){var check=function(it){return it&&it.Math==Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||Function("return this")()}).call(this,__webpack_require__(0))},function(module,exports){module.exports=function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}},function(module,exports,__webpack_require__){"use strict";var slice=Array.prototype.slice,isArgs=__webpack_require__(241),origKeys=Object.keys,keysShim=origKeys?function keys(o){return origKeys(o)}:__webpack_require__(424),originalKeys=Object.keys;keysShim.shim=function shimObjectKeys(){Object.keys?function(){var args=Object.keys(arguments);return args&&args.length===arguments.length}(1,2)||(Object.keys=function keys(object){return isArgs(object)?originalKeys(slice.call(object)):originalKeys(object)}):Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),callBind=__webpack_require__(106),$indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);return"function"==typeof intrinsic&&$indexOf(name,".prototype.")?callBind(intrinsic):intrinsic}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),DESCRIPTORS=__webpack_require__(19),global=__webpack_require__(6),has=__webpack_require__(20),isObject=__webpack_require__(12),defineProperty=__webpack_require__(21).f,copyConstructorProperties=__webpack_require__(298),NativeSymbol=global.Symbol;if(DESCRIPTORS&&"function"==typeof NativeSymbol&&(!("description"in NativeSymbol.prototype)||void 0!==NativeSymbol().description)){var EmptyStringDescriptionStore={},SymbolWrapper=function Symbol(){var description=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),result=this instanceof SymbolWrapper?new NativeSymbol(description):void 0===description?NativeSymbol():NativeSymbol(description);return""===description&&(EmptyStringDescriptionStore[result]=!0),result};copyConstructorProperties(SymbolWrapper,NativeSymbol);var symbolPrototype=SymbolWrapper.prototype=NativeSymbol.prototype;symbolPrototype.constructor=SymbolWrapper;var symbolToString=symbolPrototype.toString,native="Symbol(test)"==String(NativeSymbol("test")),regexp=/^Symbol\((.*)\)[^)]+$/;defineProperty(symbolPrototype,"description",{configurable:!0,get:function description(){var symbol=isObject(this)?this.valueOf():this,string=symbolToString.call(symbol);if(has(EmptyStringDescriptionStore,symbol))return"";var desc=native?string.slice(7,-1):string.replace(regexp,"$1");return""===desc?void 0:desc}}),$({global:!0,forced:!0},{Symbol:SymbolWrapper})}},function(module,exports,__webpack_require__){__webpack_require__(13)("iterator")},function(module,exports,__webpack_require__){(function(global){var win;win="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},module.exports=win}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),forEach=__webpack_require__(308);$({target:"Array",proto:!0,forced:[].forEach!=forEach},{forEach:forEach})},function(module,exports,__webpack_require__){var global=__webpack_require__(6),DOMIterables=__webpack_require__(311),forEach=__webpack_require__(308),createNonEnumerableProperty=__webpack_require__(25);for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype&&CollectionPrototype.forEach!==forEach)try{createNonEnumerableProperty(CollectionPrototype,"forEach",forEach)}catch(error){CollectionPrototype.forEach=forEach}}},function(module,exports,__webpack_require__){"use strict";var charAt=__webpack_require__(319).charAt,InternalStateModule=__webpack_require__(52),defineIterator=__webpack_require__(192),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",function(iterated){setInternalState(this,{type:"String Iterator",string:String(iterated),index:0})},function next(){var point,state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?{value:void 0,done:!0}:(point=charAt(string,index),state.index+=point.length,{value:point,done:!1})})},function(module,exports){module.exports=function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports){module.exports=function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),callBind=__webpack_require__(104),$indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);return"function"==typeof intrinsic&&$indexOf(name,".prototype.")?callBind(intrinsic):intrinsic}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),callBind=__webpack_require__(105),$indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);return"function"==typeof intrinsic&&$indexOf(name,".prototype.")?callBind(intrinsic):intrinsic}},function(module,exports,__webpack_require__){var IndexedObject=__webpack_require__(108),requireObjectCoercible=__webpack_require__(33);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},function(module,exports,__webpack_require__){var set,get,has,NATIVE_WEAK_MAP=__webpack_require__(297),global=__webpack_require__(6),isObject=__webpack_require__(12),createNonEnumerableProperty=__webpack_require__(25),objectHas=__webpack_require__(20),sharedKey=__webpack_require__(110),hiddenKeys=__webpack_require__(84),WeakMap=global.WeakMap;if(NATIVE_WEAK_MAP){var store=new WeakMap,wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){return createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},function(module,exports,__webpack_require__){var redefine=__webpack_require__(26),DatePrototype=Date.prototype,nativeDateToString=DatePrototype.toString,getTime=DatePrototype.getTime;new Date(NaN)+""!="Invalid Date"&&redefine(DatePrototype,"toString",function toString(){var value=getTime.call(this);return value==value?nativeDateToString.call(this):"Invalid Date"})},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.MatrixEvent=exports.EventStatus=void 0;var _events=__webpack_require__(18),utils=_interopRequireWildcard(__webpack_require__(5)),_logger=__webpack_require__(2);exports.EventStatus={NOT_SENT:"not_sent",ENCRYPTING:"encrypting",SENDING:"sending",QUEUED:"queued",SENT:"sent",CANCELLED:"cancelled"};const interns={};function intern(str){return interns[str]||(interns[str]=str),interns[str]}const MatrixEvent=function(event){["state_key","type","sender","room_id","membership"].forEach(prop=>{event[prop]&&(event[prop]=intern(event[prop]))}),["membership","avatar_url","displayname"].forEach(prop=>{event.content&&event.content[prop]&&(event.content[prop]=intern(event.content[prop]))}),["rel_type"].forEach(prop=>{event.content&&event.content["m.relates_to"]&&event.content["m.relates_to"][prop]&&(event.content["m.relates_to"][prop]=intern(event.content["m.relates_to"][prop]))}),this.event=event||{},this.sender=null,this.target=null,this.status=null,this.error=null,this.forwardLooking=!0,this._pushActions=null,this._replacingEvent=null,this._localRedactionEvent=null,this._isCancelled=!1,this._clearEvent={},this._senderCurve25519Key=null,this._claimedEd25519Key=null,this._forwardingCurve25519KeyChain=[],this._decryptionPromise=null,this._retryDecryption=!1};exports.MatrixEvent=MatrixEvent,utils.inherits(MatrixEvent,_events.EventEmitter),utils.extend(MatrixEvent.prototype,{getId:function(){return this.event.event_id},getSender:function(){return this.event.sender||this.event.user_id},getType:function(){return this._clearEvent.type||this.event.type},getWireType:function(){return this.event.type},getRoomId:function(){return this.event.room_id},getTs:function(){return this.event.origin_server_ts},getDate:function(){return this.event.origin_server_ts?new Date(this.event.origin_server_ts):null},getOriginalContent:function(){return this._localRedactionEvent?{}:this._clearEvent.content||this.event.content||{}},getContent:function(){return this._localRedactionEvent?{}:this._replacingEvent?this._replacingEvent.getContent()["m.new_content"]||{}:this.getOriginalContent()},getWireContent:function(){return this.event.content||{}},getPrevContent:function(){return this.getUnsigned().prev_content||this.event.prev_content||{}},getDirectionalContent:function(){return this.forwardLooking?this.getContent():this.getPrevContent()},getAge:function(){return this.getUnsigned().age||this.event.age},getLocalAge:function(){return Date.now()-this.getTs()},getStateKey:function(){return this.event.state_key},isState:function(){return void 0!==this.event.state_key},makeEncrypted:function(crypto_type,crypto_content,senderCurve25519Key,claimedEd25519Key){this._clearEvent={type:this.event.type,content:this.event.content},this.event.type=crypto_type,this.event.content=crypto_content,this._senderCurve25519Key=senderCurve25519Key,this._claimedEd25519Key=claimedEd25519Key},isBeingDecrypted:function(){return null!=this._decryptionPromise},isDecryptionFailure:function(){return this._clearEvent&&this._clearEvent.content&&"m.bad.encrypted"===this._clearEvent.content.msgtype},attemptDecryption:async function(crypto){if(!this.isEncrypted())throw new Error("Attempt to decrypt event which isn't encrypted");if(this._clearEvent&&this._clearEvent.content&&"m.bad.encrypted"!==this._clearEvent.content.msgtype)throw new Error("Attempt to decrypt event which has already been encrypted");return this._decryptionPromise?(_logger.logger.log(`Event ${this.getId()} already being decrypted; queueing a retry`),this._retryDecryption=!0,this._decryptionPromise):(this._decryptionPromise=this._decryptionLoop(crypto),this._decryptionPromise)},cancelAndResendKeyRequest:function(crypto,userId){const wireContent=this.getWireContent();return crypto.requestRoomKey({algorithm:wireContent.algorithm,room_id:this.getRoomId(),session_id:wireContent.session_id,sender_key:wireContent.sender_key},this.getKeyRequestRecipients(userId),!0)},getKeyRequestRecipients:function(userId){const wireContent=this.getWireContent(),recipients=[{userId:userId,deviceId:"*"}],sender=this.getSender();return sender!==userId&&recipients.push({userId:sender,deviceId:wireContent.device_id}),recipients},_decryptionLoop:async function(crypto){for(await Promise.resolve();;){let res,err;this._retryDecryption=!1;try{res=crypto?await crypto.decryptEvent(this):this._badEncryptedMessage("Encryption not enabled")}catch(e){if("DecryptionError"!==e.name)return _logger.logger.error(`Error decrypting event (id=${this.getId()}): ${e.stack||e}`),this._decryptionPromise=null,void(this._retryDecryption=!1);if(err=e,this._retryDecryption){_logger.logger.log(`Got error decrypting event (id=${this.getId()}: `+`${e}), but retrying`);continue}_logger.logger.warn(`Error decrypting event (id=${this.getId()}): ${e.detailedString}`),res=this._badEncryptedMessage(e.message)}return this._decryptionPromise=null,this._retryDecryption=!1,this._setClearData(res),this.setPushActions(null),void this.emit("Event.decrypted",this,err)}},_badEncryptedMessage:function(reason){return{clearEvent:{type:"m.room.message",content:{msgtype:"m.bad.encrypted",body:"** Unable to decrypt: "+reason+" **"}}}},_setClearData:function(decryptionResult){this._clearEvent=decryptionResult.clearEvent,this._senderCurve25519Key=decryptionResult.senderCurve25519Key||null,this._claimedEd25519Key=decryptionResult.claimedEd25519Key||null,this._forwardingCurve25519KeyChain=decryptionResult.forwardingCurve25519KeyChain||[]},getClearContent:function(){const ev=this._clearEvent;return ev&&ev.content?ev.content:null},isEncrypted:function(){return"m.room.encrypted"===this.event.type},getSenderKey:function(){return this._senderCurve25519Key},getKeysClaimed:function(){return{ed25519:this._claimedEd25519Key}},getClaimedEd25519Key:function(){return this._claimedEd25519Key},getForwardingCurve25519KeyChain:function(){return this._forwardingCurve25519KeyChain},getUnsigned:function(){return this.event.unsigned||{}},unmarkLocallyRedacted:function(){const value=this._localRedactionEvent;return this._localRedactionEvent=null,this.event.unsigned&&(this.event.unsigned.redacted_because=null),!!value},markLocallyRedacted:function(redactionEvent){this._localRedactionEvent||(this.emit("Event.beforeRedaction",this,redactionEvent),this._localRedactionEvent=redactionEvent,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=redactionEvent.event)},makeRedacted:function(redaction_event){if(!redaction_event.event)throw new Error("invalid redaction_event in makeRedacted");let key;for(key in this._localRedactionEvent=null,this.emit("Event.beforeRedaction",this,redaction_event),this._replacingEvent=null,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=redaction_event.event,this.event)this.event.hasOwnProperty(key)&&(_REDACT_KEEP_KEY_MAP[key]||delete this.event[key]);const keeps=_REDACT_KEEP_CONTENT_MAP[this.getType()]||{},content=this.getContent();for(key in content)content.hasOwnProperty(key)&&(keeps[key]||delete content[key])},isRedacted:function(){return Boolean(this.getUnsigned().redacted_because)},isRedaction:function(){return"m.room.redaction"===this.getType()},getPushActions:function(){return this._pushActions},setPushActions:function(pushActions){this._pushActions=pushActions},handleRemoteEcho:function(event){const oldUnsigned=this.getUnsigned(),oldId=this.getId();this.event=event,oldUnsigned.redacted_because&&(this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=oldUnsigned.redacted_because),this.setStatus(null),this.getId()!==oldId&&this.emit("Event.localEventIdReplaced",this)},isSending(){return!!this.status},setStatus(status){this.status=status,this.emit("Event.status",this,status)},replaceLocalEventId(eventId){this.event.event_id=eventId,this.emit("Event.localEventIdReplaced",this)},isRelation(relType){const content=this.getWireContent(),relation=content&&content["m.relates_to"];return relation&&relation.rel_type&&relation.event_id&&(relType&&relation.rel_type===relType||!relType)},getRelation(){return this.isRelation()?this.getWireContent()["m.relates_to"]:null},makeReplaced(newEvent){this.isRedacted()&&newEvent||this._replacingEvent!==newEvent&&(this._replacingEvent=newEvent,this.emit("Event.replaced",this))},getAssociatedStatus(){return this._replacingEvent?this._replacingEvent.status:this._localRedactionEvent?this._localRedactionEvent.status:this.status},getServerAggregatedRelation(relType){const relations=this.getUnsigned()["m.relations"];if(relations)return relations[relType]},replacingEventId(){const replaceRelation=this.getServerAggregatedRelation("m.replace");return replaceRelation?replaceRelation.event_id:this._replacingEvent?this._replacingEvent.getId():void 0},replacingEvent(){return this._replacingEvent},replacingEventDate(){const replaceRelation=this.getServerAggregatedRelation("m.replace");if(replaceRelation){const ts=replaceRelation.origin_server_ts;if(Number.isFinite(ts))return new Date(ts)}else if(this._replacingEvent)return this._replacingEvent.getDate()},localRedactionEvent(){return this._localRedactionEvent},getAssociatedId(){const relation=this.getRelation();return relation?relation.event_id:this.isRedaction()?this.event.redacts:void 0},hasAssocation(){return!!this.getAssociatedId()},updateAssociatedId(eventId){const relation=this.getRelation();relation?relation.event_id=eventId:this.isRedaction()&&(this.event.redacts=eventId)},flagCancelled(cancelled=!0){this._isCancelled=cancelled},isCancelled(){return this._isCancelled},toJSON(){const event={type:this.getType(),sender:this.getSender(),content:this.getContent(),event_id:this.getId(),origin_server_ts:this.getTs(),unsigned:this.getUnsigned(),room_id:this.getRoomId()};return this.isRedaction()&&(event.redacts=this.event.redacts),this.isEncrypted()?{decrypted:event,encrypted:this.event}:event}});const _REDACT_KEEP_KEY_MAP=["event_id","type","room_id","user_id","sender","state_key","prev_state","content","unsigned","origin_server_ts"].reduce(function(ret,val){return ret[val]=1,ret},{}),_REDACT_KEEP_CONTENT_MAP={"m.room.member":{membership:1},"m.room.create":{creator:1},"m.room.join_rules":{join_rule:1},"m.room.power_levels":{ban:1,events:1,events_default:1,kick:1,redact:1,state_default:1,users:1,users_default:1},"m.room.aliases":{aliases:1}}},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(435);module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(21).f,has=__webpack_require__(20),TO_STRING_TAG=__webpack_require__(10)("toStringTag");module.exports=function(it,TAG,STATIC){it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)&&defineProperty(it,TO_STRING_TAG,{configurable:!0,value:TAG})}},function(module,exports,__webpack_require__){var bind=__webpack_require__(87),IndexedObject=__webpack_require__(108),toObject=__webpack_require__(28),toLength=__webpack_require__(27),arraySpeciesCreate=__webpack_require__(301),push=[].push,createMethod=function(TYPE){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),boundFunction=bind(callbackfn,that,3),length=toLength(self.length),index=0,create=specificCreate||arraySpeciesCreate,target=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push.call(target,value)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(String(it)+" is not a function");return it}},function(module,exports,__webpack_require__){__webpack_require__(3)({target:"Array",stat:!0},{isArray:__webpack_require__(85)})},function(module,exports,__webpack_require__){"use strict";var redefine=__webpack_require__(26),anObject=__webpack_require__(17),fails=__webpack_require__(7),flags=__webpack_require__(318),RegExpPrototype=RegExp.prototype,nativeToString=RegExpPrototype.toString,NOT_GENERIC=fails(function(){return"/a/b"!=nativeToString.call({source:"a",flags:"b"})}),INCORRECT_NAME="toString"!=nativeToString.name;(NOT_GENERIC||INCORRECT_NAME)&&redefine(RegExp.prototype,"toString",function toString(){var R=anObject(this),p=String(R.source),rf=R.flags;return"/"+p+"/"+String(void 0===rf&&R instanceof RegExp&&!("flags"in RegExpPrototype)?flags.call(R):rf)},{unsafe:!0})},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(676),getValue=__webpack_require__(681);module.exports=function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(module,exports){module.exports=function isObjectLike(value){return null!=value&&"object"==typeof value}},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){"use strict";(function(global,Buffer){var _interopRequireDefault=__webpack_require__(32),_interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.encryptMessageForDevice=async function encryptMessageForDevice(resultsObject,ourUserId,ourDeviceId,olmDevice,recipientUserId,recipientDevice,payloadFields){const deviceKey=recipientDevice.getIdentityKey(),sessionId=await olmDevice.getSessionIdForDevice(deviceKey);if(null===sessionId)return;_logger.logger.log("Using sessionid "+sessionId+" for device "+recipientUserId+":"+recipientDevice.deviceId);const payload={sender:ourUserId,sender_device:ourDeviceId,keys:{ed25519:olmDevice.deviceEd25519Key},recipient:recipientUserId,recipient_keys:{ed25519:recipientDevice.getFingerprint()}};utils.extend(payload,payloadFields),resultsObject[deviceKey]=await olmDevice.encryptMessage(deviceKey,sessionId,JSON.stringify(payload))},exports.ensureOlmSessionsForDevices=async function ensureOlmSessionsForDevices(olmDevice,baseApis,devicesByUser,force){const devicesWithoutSession=[],result={},resolveSession={};for(const userId in devicesByUser){if(!devicesByUser.hasOwnProperty(userId))continue;result[userId]={};const devices=devicesByUser[userId];for(let j=0;j<devices.length;j++){const deviceInfo=devices[j],deviceId=deviceInfo.deviceId,key=deviceInfo.getIdentityKey();olmDevice._sessionsInProgress[key]||(olmDevice._sessionsInProgress[key]=new Promise((resolve,reject)=>{resolveSession[key]={resolve:(...args)=>{delete olmDevice._sessionsInProgress[key],resolve(...args)},reject:(...args)=>{delete olmDevice._sessionsInProgress[key],reject(...args)}}}));const sessionId=await olmDevice.getSessionIdForDevice(key,resolveSession[key]);null!==sessionId&&resolveSession[key]&&(delete olmDevice._sessionsInProgress[key],resolveSession[key].resolve(),delete resolveSession[key]),(null===sessionId||force)&&devicesWithoutSession.push([userId,deviceId]),result[userId][deviceId]={device:deviceInfo,sessionId:sessionId}}}if(0===devicesWithoutSession.length)return result;let res;try{res=await baseApis.claimOneTimeKeys(devicesWithoutSession,"signed_curve25519")}catch(e){for(const resolver of Object.values(resolveSession))resolver.resolve();throw _logger.logger.log("failed to claim one-time keys",e,devicesWithoutSession),e}const otk_res=res.one_time_keys||{},promises=[];for(const userId in devicesByUser){if(!devicesByUser.hasOwnProperty(userId))continue;const userRes=otk_res[userId]||{},devices=devicesByUser[userId];for(let j=0;j<devices.length;j++){const deviceInfo=devices[j],deviceId=deviceInfo.deviceId,key=deviceInfo.getIdentityKey();if(result[userId][deviceId].sessionId&&!force)continue;const deviceRes=userRes[deviceId]||{};let oneTimeKey=null;for(const keyId in deviceRes)0===keyId.indexOf("signed_curve25519:")&&(oneTimeKey=deviceRes[keyId]);if(oneTimeKey)promises.push(_verifyKeyAndStartSession(olmDevice,oneTimeKey,userId,deviceInfo).then(sid=>{resolveSession[key]&&resolveSession[key].resolve(sid),result[userId][deviceId].sessionId=sid},e=>{throw resolveSession[key]&&resolveSession[key].resolve(),e}));else{const msg="No one-time keys (alg=signed_curve25519) for device "+userId+":"+deviceId;_logger.logger.warn(msg),resolveSession[key]&&resolveSession[key].resolve()}}}return await Promise.all(promises),result},exports.verifySignature=verifySignature,exports.pkSign=function pkSign(obj,key,userId,pubkey){let createdKey=!1;if(key instanceof Uint8Array){const keyObj=new global.Olm.PkSigning;pubkey=keyObj.init_with_seed(key),key=keyObj,createdKey=!0}const sigs=obj.signatures||{};delete obj.signatures;const unsigned=obj.unsigned;obj.unsigned&&delete obj.unsigned;try{const mysigs=sigs[userId]||{};return sigs[userId]=mysigs,mysigs["ed25519:"+pubkey]=key.sign(_anotherJson.default.stringify(obj))}finally{obj.signatures=sigs,unsigned&&(obj.unsigned=unsigned),createdKey&&key.free()}},exports.pkVerify=function pkVerify(obj,pubkey,userId){const keyId="ed25519:"+pubkey;if(!(obj.signatures&&obj.signatures[userId]&&obj.signatures[userId][keyId]))throw new Error("No signature");const signature=obj.signatures[userId][keyId],util=new global.Olm.Utility,sigs=obj.signatures;delete obj.signatures;const unsigned=obj.unsigned;obj.unsigned&&delete obj.unsigned;try{util.ed25519_verify(pubkey,_anotherJson.default.stringify(obj),signature)}finally{obj.signatures=sigs,unsigned&&(obj.unsigned=unsigned),util.free()}},exports.encodeBase64=function encodeBase64(uint8Array){return Buffer.from(uint8Array).toString("base64")},exports.decodeBase64=function decodeBase64(base64){return Buffer.from(base64,"base64")},exports.MEGOLM_BACKUP_ALGORITHM=exports.MEGOLM_ALGORITHM=exports.OLM_ALGORITHM=void 0;var _logger=__webpack_require__(2),utils=_interopRequireWildcard(__webpack_require__(5)),_anotherJson=_interopRequireDefault(__webpack_require__(235));exports.OLM_ALGORITHM="m.olm.v1.curve25519-aes-sha2";exports.MEGOLM_ALGORITHM="m.megolm.v1.aes-sha2";async function _verifyKeyAndStartSession(olmDevice,oneTimeKey,userId,deviceInfo){const deviceId=deviceInfo.deviceId;try{await verifySignature(olmDevice,oneTimeKey,userId,deviceId,deviceInfo.getFingerprint())}catch(e){return _logger.logger.error("Unable to verify signature on one-time key for device "+userId+":"+deviceId+":",e),null}let sid;try{sid=await olmDevice.createOutboundSession(deviceInfo.getIdentityKey(),oneTimeKey.key)}catch(e){return _logger.logger.error("Error starting olm session with device "+userId+":"+deviceId+": "+e),null}return _logger.logger.log("Started new olm sessionid "+sid+" for device "+userId+":"+deviceId),sid}async function verifySignature(olmDevice,obj,signingUserId,signingDeviceId,signingKey){const signKeyId="ed25519:"+signingDeviceId,signature=((obj.signatures||{})[signingUserId]||{})[signKeyId];if(!signature)throw Error("No signature");const mangledObj=Object.assign({},obj);delete mangledObj.unsigned,delete mangledObj.signatures;const json=_anotherJson.default.stringify(mangledObj);olmDevice.verifySignature(signingKey,json,signature)}exports.MEGOLM_BACKUP_ALGORITHM="m.megolm_backup.v1.curve25519-aes-sha2"}).call(this,__webpack_require__(0),__webpack_require__(234).Buffer)},function(module,exports,__webpack_require__){"use strict";var ThrowTypeError=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,getProto=Object.getPrototypeOf||function(x){return x.__proto__},asyncGenIterator=void 0,TypedArray="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":hasSymbols?Symbol:void 0,"$ %SymbolPrototype%":hasSymbols?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":ThrowTypeError,"$ %TypedArray%":TypedArray,"$ %TypedArrayPrototype%":TypedArray?TypedArray.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};module.exports=function GetIntrinsic(name,allowMissing){if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new TypeError('"allowMissing" argument must be a boolean');var key="$ "+name;if(!(key in INTRINSICS))throw new SyntaxError("intrinsic "+name+" does not exist!");if(void 0===INTRINSICS[key]&&!allowMissing)throw new TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return INTRINSICS[key]}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(19),propertyIsEnumerableModule=__webpack_require__(107),createPropertyDescriptor=__webpack_require__(82),toIndexedObject=__webpack_require__(51),toPrimitive=__webpack_require__(83),has=__webpack_require__(20),IE8_DOM_DEFINE=__webpack_require__(296),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){var path=__webpack_require__(183),global=__webpack_require__(6),aFunction=function(variable){return"function"==typeof variable?variable:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(17),defineProperties=__webpack_require__(305),enumBugKeys=__webpack_require__(185),hiddenKeys=__webpack_require__(84),html=__webpack_require__(306),documentCreateElement=__webpack_require__(180),IE_PROTO=__webpack_require__(110)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=documentCreateElement("iframe"),length=enumBugKeys.length;for(iframe.style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;length--;)delete createDict.prototype[enumBugKeys[length]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:defineProperties(result,Properties)},hiddenKeys[IE_PROTO]=!0},function(module,exports,__webpack_require__){var $=__webpack_require__(3),assign=__webpack_require__(585);$({target:"Object",stat:!0,forced:Object.assign!==assign},{assign:assign})},function(module,exports,__webpack_require__){var $=__webpack_require__(3),toObject=__webpack_require__(28),nativeKeys=__webpack_require__(86);$({target:"Object",stat:!0,forced:__webpack_require__(7)(function(){nativeKeys(1)})},{keys:function keys(it){return nativeKeys(toObject(it))}})},function(module,exports,__webpack_require__){"use strict";(function(global){__webpack_require__(23),Object.defineProperty(exports,"__esModule",{value:!0}),exports.logger=void 0;var console=global.console,logger={debug:function debug(message){for(var _len=arguments.length,rest=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];return console.debug.apply(console,[message].concat(rest))},log:function log(message){for(var _len2=arguments.length,rest=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)rest[_key2-1]=arguments[_key2];return console.log.apply(console,[message].concat(rest))},info:function info(message){for(var _len3=arguments.length,rest=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)rest[_key3-1]=arguments[_key3];return console.info.apply(console,[message].concat(rest))},warn:function warn(message){for(var _len4=arguments.length,rest=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)rest[_key4-1]=arguments[_key4];return console.warn.apply(console,[message].concat(rest))},error:function error(message){for(var _len5=arguments.length,rest=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++)rest[_key5-1]=arguments[_key5];return console.error.apply(console,[message].concat(rest))}};exports.logger=logger}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){var $=__webpack_require__(3),DESCRIPTORS=__webpack_require__(19);$({target:"Object",stat:!0,forced:!DESCRIPTORS,sham:!DESCRIPTORS},{defineProperty:__webpack_require__(21).f})},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),exec=__webpack_require__(128);$({target:"RegExp",proto:!0,forced:/./.exec!==exec},{exec:exec})},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(134),getRawTag=__webpack_require__(677),objectToString=__webpack_require__(678),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventTimeline=EventTimeline;var _roomState=__webpack_require__(399);function EventTimeline(eventTimelineSet){this._eventTimelineSet=eventTimelineSet,this._roomId=eventTimelineSet.room?eventTimelineSet.room.roomId:null,this._events=[],this._baseIndex=0,this._startState=new _roomState.RoomState(this._roomId),this._startState.paginationToken=null,this._endState=new _roomState.RoomState(this._roomId),this._endState.paginationToken=null,this._prevTimeline=null,this._nextTimeline=null,this._paginationRequests={b:null,f:null},this._name=this._roomId+":"+(new Date).toISOString()}EventTimeline.BACKWARDS="b",EventTimeline.FORWARDS="f",EventTimeline.prototype.initialiseState=function(stateEvents){if(this._events.length>0)throw new Error("Cannot initialise state after events are added");for(const e of stateEvents)Object.freeze(e);this._startState.setStateEvents(stateEvents),this._endState.setStateEvents(stateEvents)},EventTimeline.prototype.forkLive=function(direction){const forkState=this.getState(direction),timeline=new EventTimeline(this._eventTimelineSet);return timeline._startState=forkState.clone(),timeline._endState=forkState,this._endState=forkState.clone(),timeline},EventTimeline.prototype.fork=function(direction){const forkState=this.getState(direction),timeline=new EventTimeline(this._eventTimelineSet);return timeline._startState=forkState.clone(),timeline._endState=forkState.clone(),timeline},EventTimeline.prototype.getRoomId=function(){return this._roomId},EventTimeline.prototype.getFilter=function(){return this._eventTimelineSet.getFilter()},EventTimeline.prototype.getTimelineSet=function(){return this._eventTimelineSet},EventTimeline.prototype.getBaseIndex=function(){return this._baseIndex},EventTimeline.prototype.getEvents=function(){return this._events},EventTimeline.prototype.getState=function(direction){if(direction==EventTimeline.BACKWARDS)return this._startState;if(direction==EventTimeline.FORWARDS)return this._endState;throw new Error("Invalid direction '"+direction+"'")},EventTimeline.prototype.getPaginationToken=function(direction){return this.getState(direction).paginationToken},EventTimeline.prototype.setPaginationToken=function(token,direction){this.getState(direction).paginationToken=token},EventTimeline.prototype.getNeighbouringTimeline=function(direction){if(direction==EventTimeline.BACKWARDS)return this._prevTimeline;if(direction==EventTimeline.FORWARDS)return this._nextTimeline;throw new Error("Invalid direction '"+direction+"'")},EventTimeline.prototype.setNeighbouringTimeline=function(neighbour,direction){if(this.getNeighbouringTimeline(direction))throw new Error("timeline already has a neighbouring timeline - cannot reset neighbour (direction: "+direction+")");if(direction==EventTimeline.BACKWARDS)this._prevTimeline=neighbour;else{if(direction!=EventTimeline.FORWARDS)throw new Error("Invalid direction '"+direction+"'");this._nextTimeline=neighbour}this.setPaginationToken(null,direction)},EventTimeline.prototype.addEvent=function(event,atStart){const stateContext=atStart?this._startState:this._endState,timelineSet=this.getTimelineSet();let insertIndex;timelineSet.room&&timelineSet.room.getUnfilteredTimelineSet()===timelineSet&&(EventTimeline.setEventMetadata(event,stateContext,atStart),event.isState()&&(stateContext.setStateEvents([event]),event.sender&&("m.room.member"!==event.getType()||atStart)||EventTimeline.setEventMetadata(event,stateContext,atStart))),insertIndex=atStart?0:this._events.length,this._events.splice(insertIndex,0,event),atStart&&this._baseIndex++},EventTimeline.setEventMetadata=function(event,stateContext,toStartOfTimeline){event.sender=stateContext.getSentinelMember(event.getSender()),"m.room.member"===event.getType()&&(event.target=stateContext.getSentinelMember(event.getStateKey())),event.isState()&&toStartOfTimeline&&(event.forwardLooking=!1)},EventTimeline.prototype.removeEvent=function(eventId){for(let i=this._events.length-1;i>=0;i--){const ev=this._events[i];if(ev.getId()==eventId)return this._events.splice(i,1),i<this._baseIndex&&this._baseIndex--,ev}return null},EventTimeline.prototype.toString=function(){return this._name}},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(11),regexExec=RegExp.prototype.exec,gOPD=Object.getOwnPropertyDescriptor,toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isRegex(value){if(!value||"object"!=typeof value)return!1;if(!hasToStringTag)return"[object RegExp]"===toStr.call(value);var descriptor=gOPD(value,"lastIndex");return!(!descriptor||!has(descriptor,"value"))&&function tryRegexExec(value){try{var lastIndex=value.lastIndex;return value.lastIndex=0,regexExec.call(value),!0}catch(e){return!1}finally{value.lastIndex=lastIndex}}(value)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(250)},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),has=__webpack_require__(11),$assign=GetIntrinsic("%Object%").assign;module.exports=function assign(target,source){if($assign)return $assign(target,source);for(var key in source)has(source,key)&&(target[key]=source[key]);return target}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),has=__webpack_require__(11),$assign=GetIntrinsic("%Object%").assign;module.exports=function assign(target,source){if($assign)return $assign(target,source);for(var key in source)has(source,key)&&(target[key]=source[key]);return target}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),has=__webpack_require__(11),$assign=GetIntrinsic("%Object%").assign;module.exports=function assign(target,source){if($assign)return $assign(target,source);for(var key in source)has(source,key)&&(target[key]=source[key]);return target}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12);module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;if("function"==typeof(fn=input.valueOf)&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var classof=__webpack_require__(40);module.exports=Array.isArray||function isArray(arg){return"Array"==classof(arg)}},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(299),enumBugKeys=__webpack_require__(185);module.exports=Object.keys||function keys(O){return internalObjectKeys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(58);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports,__webpack_require__){"use strict";var fails=__webpack_require__(7);module.exports=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!method||!fails(function(){method.call(null,argument||function(){throw 1},1)})}},function(module,exports){module.exports={}},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){var $=__webpack_require__(3),from=__webpack_require__(583);$({target:"Array",stat:!0,forced:!__webpack_require__(195)(function(iterable){Array.from(iterable)})},{from:from})},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),$map=__webpack_require__(57).map,fails=__webpack_require__(7),HAS_SPECIES_SUPPORT=__webpack_require__(115)("map"),USES_TO_LENGTH=HAS_SPECIES_SUPPORT&&!fails(function(){[].map.call({length:-1,0:1},function(it){throw it})});$({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{map:function map(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var hiddenKeys=__webpack_require__(84),isObject=__webpack_require__(12),has=__webpack_require__(20),defineProperty=__webpack_require__(21).f,uid=__webpack_require__(111),FREEZING=__webpack_require__(343),METADATA=uid("meta"),id=0,isExtensible=Object.isExtensible||function(){return!0},setMetadata=function(it){defineProperty(it,METADATA,{value:{objectID:"O"+ ++id,weakData:{}}})},meta=module.exports={REQUIRED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,METADATA)){if(!isExtensible(it))return"F";if(!create)return"E";setMetadata(it)}return it[METADATA].objectID},getWeakData:function(it,create){if(!has(it,METADATA)){if(!isExtensible(it))return!0;if(!create)return!1;setMetadata(it)}return it[METADATA].weakData},onFreeze:function(it){return FREEZING&&meta.REQUIRED&&isExtensible(it)&&!has(it,METADATA)&&setMetadata(it),it}};hiddenKeys[METADATA]=!0},function(module,exports,__webpack_require__){"use strict";var events;Object.defineProperty(exports,"__esModule",{value:!0}),exports.DOCS_RENDERED=exports.STORY_THREW_EXCEPTION=exports.STORY_CHANGED=exports.STORY_ERRORED=exports.STORY_MISSING=exports.STORY_RENDERED=exports.STORY_RENDER=exports.STORY_ADDED=exports.STORY_INIT=exports.REGISTER_SUBSCRIPTION=exports.FORCE_RE_RENDER=exports.PREVIEW_KEYDOWN=exports.SELECT_STORY=exports.STORIES_CONFIGURED=exports.SET_STORIES=exports.GET_STORIES=exports.SET_CURRENT_STORY=exports.GET_CURRENT_STORY=exports.CHANNEL_CREATED=exports.default=void 0,function(events){events.CHANNEL_CREATED="channelCreated",events.GET_CURRENT_STORY="getCurrentStory",events.SET_CURRENT_STORY="setCurrentStory",events.GET_STORIES="getStories",events.SET_STORIES="setStories",events.STORIES_CONFIGURED="storiesConfigured",events.SELECT_STORY="selectStory",events.PREVIEW_KEYDOWN="previewKeydown",events.STORY_ADDED="storyAdded",events.STORY_CHANGED="storyChanged",events.STORY_UNCHANGED="storyUnchanged",events.FORCE_RE_RENDER="forceReRender",events.REGISTER_SUBSCRIPTION="registerSubscription",events.STORY_INIT="storyInit",events.STORY_RENDER="storyRender",events.STORY_RENDERED="storyRendered",events.STORY_MISSING="storyMissing",events.STORY_ERRORED="storyErrored",events.STORY_THREW_EXCEPTION="storyThrewException",events.DOCS_RENDERED="docsRendered"}(events||(events={}));var _default=events;exports.default=_default;var CHANNEL_CREATED=events.CHANNEL_CREATED,GET_CURRENT_STORY=events.GET_CURRENT_STORY,SET_CURRENT_STORY=events.SET_CURRENT_STORY,GET_STORIES=events.GET_STORIES,SET_STORIES=events.SET_STORIES,STORIES_CONFIGURED=events.STORIES_CONFIGURED,SELECT_STORY=events.SELECT_STORY,PREVIEW_KEYDOWN=events.PREVIEW_KEYDOWN,FORCE_RE_RENDER=events.FORCE_RE_RENDER,REGISTER_SUBSCRIPTION=events.REGISTER_SUBSCRIPTION,STORY_INIT=events.STORY_INIT,STORY_ADDED=events.STORY_ADDED,STORY_RENDER=events.STORY_RENDER,STORY_RENDERED=events.STORY_RENDERED,STORY_MISSING=events.STORY_MISSING,STORY_ERRORED=events.STORY_ERRORED,STORY_CHANGED=events.STORY_CHANGED,STORY_THREW_EXCEPTION=events.STORY_THREW_EXCEPTION,DOCS_RENDERED=events.DOCS_RENDERED;exports.DOCS_RENDERED=DOCS_RENDERED,exports.STORY_THREW_EXCEPTION=STORY_THREW_EXCEPTION,exports.STORY_CHANGED=STORY_CHANGED,exports.STORY_ERRORED=STORY_ERRORED,exports.STORY_MISSING=STORY_MISSING,exports.STORY_RENDERED=STORY_RENDERED,exports.STORY_RENDER=STORY_RENDER,exports.STORY_ADDED=STORY_ADDED,exports.STORY_INIT=STORY_INIT,exports.REGISTER_SUBSCRIPTION=REGISTER_SUBSCRIPTION,exports.FORCE_RE_RENDER=FORCE_RE_RENDER,exports.PREVIEW_KEYDOWN=PREVIEW_KEYDOWN,exports.SELECT_STORY=SELECT_STORY,exports.STORIES_CONFIGURED=STORIES_CONFIGURED,exports.SET_STORIES=SET_STORIES,exports.GET_STORIES=GET_STORIES,exports.SET_CURRENT_STORY=SET_CURRENT_STORY,exports.GET_CURRENT_STORY=GET_CURRENT_STORY,exports.CHANNEL_CREATED=CHANNEL_CREATED},function(module,exports){module.exports=function eq(value,other){return value===other||value!=value&&other!=other}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexedDBCryptoStore=void 0;var _logger=__webpack_require__(2),_localStorageCryptoStore=__webpack_require__(910),_memoryCryptoStore=__webpack_require__(227),IndexedDBCryptoStoreBackend=_interopRequireWildcard(__webpack_require__(911)),_errors=__webpack_require__(233),IndexedDBHelpers=_interopRequireWildcard(__webpack_require__(403));class IndexedDBCryptoStore{constructor(indexedDB,dbName){this._indexedDB=indexedDB,this._dbName=dbName,this._backendPromise=null}static exists(indexedDB,dbName){return IndexedDBHelpers.exists(indexedDB,dbName)}_connect(){return this._backendPromise?this._backendPromise:(this._backendPromise=new Promise((resolve,reject)=>{if(!this._indexedDB)return void reject(new Error("no indexeddb support available"));_logger.logger.log(`connecting to indexeddb ${this._dbName}`);const req=this._indexedDB.open(this._dbName,IndexedDBCryptoStoreBackend.VERSION);req.onupgradeneeded=ev=>{const db=ev.target.result,oldVersion=ev.oldVersion;IndexedDBCryptoStoreBackend.upgradeDatabase(db,oldVersion)},req.onblocked=()=>{_logger.logger.log("can't yet open IndexedDBCryptoStore because it is open elsewhere")},req.onerror=ev=>{_logger.logger.log("Error connecting to indexeddb",ev),reject(ev.target.error)},req.onsuccess=r=>{const db=r.target.result;_logger.logger.log(`connected to indexeddb ${this._dbName}`),resolve(new IndexedDBCryptoStoreBackend.Backend(db))}}).then(backend=>backend.doTxn("readonly",[IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],txn=>{backend.getEndToEndInboundGroupSession("","",txn,()=>{})}).then(()=>backend)).catch(e=>{if("VersionError"===e.name)throw _logger.logger.warn("Crypto DB is too new for us to use!",e),new _errors.InvalidCryptoStoreError(_errors.InvalidCryptoStoreError.TOO_NEW);_logger.logger.warn(`unable to connect to indexeddb ${this._dbName}`+`: falling back to localStorage store: ${e}`);try{return new _localStorageCryptoStore.LocalStorageCryptoStore(global.localStorage)}catch(e){return _logger.logger.warn(`unable to open localStorage: falling back to in-memory store: ${e}`),new _memoryCryptoStore.MemoryCryptoStore}}),this._backendPromise)}deleteAllData(){return new Promise((resolve,reject)=>{if(!this._indexedDB)return void reject(new Error("no indexeddb support available"));_logger.logger.log(`Removing indexeddb instance: ${this._dbName}`);const req=this._indexedDB.deleteDatabase(this._dbName);req.onblocked=()=>{_logger.logger.log("can't yet delete IndexedDBCryptoStore because it is open elsewhere")},req.onerror=ev=>{_logger.logger.log("Error deleting data from indexeddb",ev),reject(ev.target.error)},req.onsuccess=()=>{_logger.logger.log(`Removed indexeddb instance: ${this._dbName}`),resolve()}}).catch(e=>{_logger.logger.warn(`unable to delete IndexedDBCryptoStore: ${e}`)})}getOrAddOutgoingRoomKeyRequest(request){return this._connect().then(backend=>backend.getOrAddOutgoingRoomKeyRequest(request))}getOutgoingRoomKeyRequest(requestBody){return this._connect().then(backend=>backend.getOutgoingRoomKeyRequest(requestBody))}getOutgoingRoomKeyRequestByState(wantedStates){return this._connect().then(backend=>backend.getOutgoingRoomKeyRequestByState(wantedStates))}getOutgoingRoomKeyRequestsByTarget(userId,deviceId,wantedStates){return this._connect().then(backend=>backend.getOutgoingRoomKeyRequestsByTarget(userId,deviceId,wantedStates))}updateOutgoingRoomKeyRequest(requestId,expectedState,updates){return this._connect().then(backend=>backend.updateOutgoingRoomKeyRequest(requestId,expectedState,updates))}deleteOutgoingRoomKeyRequest(requestId,expectedState){return this._connect().then(backend=>backend.deleteOutgoingRoomKeyRequest(requestId,expectedState))}getAccount(txn,func){this._backendPromise.then(backend=>{backend.getAccount(txn,func)})}storeAccount(txn,newData){this._backendPromise.then(backend=>{backend.storeAccount(txn,newData)})}getCrossSigningKeys(txn,func){this._backendPromise.then(backend=>{backend.getCrossSigningKeys(txn,func)})}storeCrossSigningKeys(txn,keys){this._backendPromise.then(backend=>{backend.storeCrossSigningKeys(txn,keys)})}countEndToEndSessions(txn,func){this._backendPromise.then(backend=>{backend.countEndToEndSessions(txn,func)})}getEndToEndSession(deviceKey,sessionId,txn,func){this._backendPromise.then(backend=>{backend.getEndToEndSession(deviceKey,sessionId,txn,func)})}getEndToEndSessions(deviceKey,txn,func){this._backendPromise.then(backend=>{backend.getEndToEndSessions(deviceKey,txn,func)})}getAllEndToEndSessions(txn,func){this._backendPromise.then(backend=>{backend.getAllEndToEndSessions(txn,func)})}storeEndToEndSession(deviceKey,sessionId,sessionInfo,txn){this._backendPromise.then(backend=>{backend.storeEndToEndSession(deviceKey,sessionId,sessionInfo,txn)})}storeEndToEndSessionProblem(deviceKey,type,fixed){return this._backendPromise.then(async backend=>{await backend.storeEndToEndSessionProblem(deviceKey,type,fixed)})}getEndToEndSessionProblem(deviceKey,timestamp){return this._backendPromise.then(async backend=>await backend.getEndToEndSessionProblem(deviceKey,timestamp))}filterOutNotifiedErrorDevices(devices){return this._backendPromise.then(async backend=>await backend.filterOutNotifiedErrorDevices(devices))}getEndToEndInboundGroupSession(senderCurve25519Key,sessionId,txn,func){this._backendPromise.then(backend=>{backend.getEndToEndInboundGroupSession(senderCurve25519Key,sessionId,txn,func)})}getAllEndToEndInboundGroupSessions(txn,func){this._backendPromise.then(backend=>{backend.getAllEndToEndInboundGroupSessions(txn,func)})}addEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn){this._backendPromise.then(backend=>{backend.addEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn)})}storeEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn){this._backendPromise.then(backend=>{backend.storeEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn)})}storeEndToEndInboundGroupSessionWithheld(senderCurve25519Key,sessionId,sessionData,txn){this._backendPromise.then(backend=>{backend.storeEndToEndInboundGroupSessionWithheld(senderCurve25519Key,sessionId,sessionData,txn)})}storeEndToEndDeviceData(deviceData,txn){this._backendPromise.then(backend=>{backend.storeEndToEndDeviceData(deviceData,txn)})}getEndToEndDeviceData(txn,func){this._backendPromise.then(backend=>{backend.getEndToEndDeviceData(txn,func)})}storeEndToEndRoom(roomId,roomInfo,txn){this._backendPromise.then(backend=>{backend.storeEndToEndRoom(roomId,roomInfo,txn)})}getEndToEndRooms(txn,func){this._backendPromise.then(backend=>{backend.getEndToEndRooms(txn,func)})}getSessionsNeedingBackup(limit){return this._connect().then(backend=>backend.getSessionsNeedingBackup(limit))}countSessionsNeedingBackup(txn){return this._connect().then(backend=>backend.countSessionsNeedingBackup(txn))}unmarkSessionsNeedingBackup(sessions,txn){return this._connect().then(backend=>backend.unmarkSessionsNeedingBackup(sessions,txn))}markSessionsNeedingBackup(sessions,txn){return this._connect().then(backend=>backend.markSessionsNeedingBackup(sessions,txn))}doTxn(mode,stores,func){return this._connect().then(backend=>backend.doTxn(mode,stores,func))}}exports.IndexedDBCryptoStore=IndexedDBCryptoStore,IndexedDBCryptoStore.STORE_ACCOUNT="account",IndexedDBCryptoStore.STORE_SESSIONS="sessions",IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS="inbound_group_sessions",IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD="inbound_group_sessions_withheld",IndexedDBCryptoStore.STORE_DEVICE_DATA="device_data",IndexedDBCryptoStore.STORE_ROOMS="rooms",IndexedDBCryptoStore.STORE_BACKUP="sessions_needing_backup"}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.newVerificationError=newVerificationError,exports.errorFactory=errorFactory,exports.errorFromEvent=function errorFromEvent(event){const content=event.getContent();if(content){const{code:code,reason:reason}=content;return{code:code,reason:reason}}return{code:"Unknown error",reason:"m.unknown"}},exports.newInvalidMessageError=exports.newUserMismatchError=exports.newKeyMismatchError=exports.newUnexpectedMessageError=exports.newUnknownMethodError=exports.newUnknownTransactionError=exports.newTimeoutError=exports.newUserCancelledError=void 0;var _event=__webpack_require__(54);function newVerificationError(code,reason,extradata){return(extradata=extradata||{}).code=code,extradata.reason=reason,new _event.MatrixEvent({type:"m.key.verification.cancel",content:extradata})}function errorFactory(code,reason){return function(extradata){return newVerificationError(code,reason,extradata)}}const newUserCancelledError=errorFactory("m.user","Cancelled by user");exports.newUserCancelledError=newUserCancelledError;const newTimeoutError=errorFactory("m.timeout","Timed out");exports.newTimeoutError=newTimeoutError;const newUnknownTransactionError=errorFactory("m.unknown_transaction","Unknown transaction");exports.newUnknownTransactionError=newUnknownTransactionError;const newUnknownMethodError=errorFactory("m.unknown_method","Unknown method");exports.newUnknownMethodError=newUnknownMethodError;const newUnexpectedMessageError=errorFactory("m.unexpected_message","Unexpected message");exports.newUnexpectedMessageError=newUnexpectedMessageError;const newKeyMismatchError=errorFactory("m.key_mismatch","Key mismatch");exports.newKeyMismatchError=newKeyMismatchError;const newUserMismatchError=errorFactory("m.user_error","User mismatch");exports.newUserMismatchError=newUserMismatchError;const newInvalidMessageError=errorFactory("m.invalid_message","Invalid message");exports.newInvalidMessageError=newInvalidMessageError},function(module,exports,__webpack_require__){"use strict";var getDay=Date.prototype.getDay,toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isDateObject(value){return"object"==typeof value&&null!==value&&(hasToStringTag?function tryDateObject(value){try{return getDay.call(value),!0}catch(e){return!1}}(value):"[object Date]"===toStr.call(value))}},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;if(__webpack_require__(55)()){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/;module.exports=function isSymbol(value){if("symbol"==typeof value)return!0;if("[object Symbol]"!==toStr.call(value))return!1;try{return function isRealSymbolObject(value){return"symbol"==typeof value.valueOf()&&symStringRegex.test(symToStr.call(value))}(value)}catch(e){return!1}}}else module.exports=function isSymbol(value){return!1}},function(module,exports,__webpack_require__){var has=__webpack_require__(9).call(Function.call,Object.prototype.hasOwnProperty),$assign=Object.assign;module.exports=function assign(target,source){if($assign)return $assign(target,source);for(var key in source)has(source,key)&&(target[key]=source[key]);return target}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),$Function=__webpack_require__(15)("%Function%"),$apply=$Function.apply,$call=$Function.call;module.exports=function callBind(){return bind.apply($call,arguments)},module.exports.apply=function applyBind(){return bind.apply($apply,arguments)}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),$Function=__webpack_require__(16)("%Function%"),$apply=$Function.apply,$call=$Function.call;module.exports=function callBind(){return bind.apply($call,arguments)},module.exports.apply=function applyBind(){return bind.apply($apply,arguments)}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),$Function=__webpack_require__(14)("%Function%"),$apply=$Function.apply,$call=$Function.call;module.exports=function callBind(){return bind.apply($call,arguments)},module.exports.apply=function applyBind(){return bind.apply($apply,arguments)}},function(module,exports,__webpack_require__){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},function(module,exports,__webpack_require__){var fails=__webpack_require__(7),classof=__webpack_require__(40),split="".split;module.exports=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},function(module,exports,__webpack_require__){var IS_PURE=__webpack_require__(67),store=__webpack_require__(550);(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.4.5",mode:IS_PURE?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports,__webpack_require__){var shared=__webpack_require__(109),uid=__webpack_require__(111),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},function(module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)}},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(299),hiddenKeys=__webpack_require__(185).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return internalObjectKeys(O,hiddenKeys)}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},function(module,exports,__webpack_require__){var fails=__webpack_require__(7),wellKnownSymbol=__webpack_require__(10),V8_VERSION=__webpack_require__(189),SPECIES=wellKnownSymbol("species");module.exports=function(METHOD_NAME){return V8_VERSION>=51||!fails(function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo})}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),$find=__webpack_require__(57).find,addToUnscopables=__webpack_require__(191),SKIPS_HOLES=!0;"find"in[]&&Array(1).find(function(){SKIPS_HOLES=!1}),$({target:"Array",proto:!0,forced:SKIPS_HOLES},{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("find")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={};exports.default=void 0;var _index=__webpack_require__(586);Object.keys(_index).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _index[key]}}))});var _makeDecorator=__webpack_require__(592);Object.keys(_makeDecorator).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _makeDecorator[key]}}))});var _types=__webpack_require__(325);Object.keys(_types).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _types[key]}}))});var _storybookChannelMock=__webpack_require__(593);Object.keys(_storybookChannelMock).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _storybookChannelMock[key]}}))});var _hooks=__webpack_require__(625);Object.keys(_hooks).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _hooks[key]}}))});var _default=_index.addons;exports.default=_default},function(module,exports,__webpack_require__){"use strict";var Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,$=__webpack_require__(3),IS_PURE=__webpack_require__(67),global=__webpack_require__(6),getBuiltIn=__webpack_require__(68),NativePromise=__webpack_require__(587),redefine=__webpack_require__(26),redefineAll=__webpack_require__(119),setToStringTag=__webpack_require__(56),setSpecies=__webpack_require__(320),isObject=__webpack_require__(12),aFunction=__webpack_require__(58),anInstance=__webpack_require__(120),classof=__webpack_require__(40),inspectSource=__webpack_require__(182),iterate=__webpack_require__(121),checkCorrectnessOfIteration=__webpack_require__(195),speciesConstructor=__webpack_require__(321),task=__webpack_require__(322).set,microtask=__webpack_require__(588),promiseResolve=__webpack_require__(589),hostReportErrors=__webpack_require__(590),newPromiseCapabilityModule=__webpack_require__(324),perform=__webpack_require__(591),InternalStateModule=__webpack_require__(52),isForced=__webpack_require__(114),wellKnownSymbol=__webpack_require__(10),V8_VERSION=__webpack_require__(189),SPECIES=wellKnownSymbol("species"),PROMISE="Promise",getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),PromiseConstructor=NativePromise,TypeError=global.TypeError,document=global.document,process=global.process,$fetch=getBuiltIn("fetch"),newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,IS_NODE="process"==classof(process),DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent),FORCED=isForced(PROMISE,function(){if(!(inspectSource(PromiseConstructor)!==String(PromiseConstructor))){if(66===V8_VERSION)return!0;if(!IS_NODE&&"function"!=typeof PromiseRejectionEvent)return!0}if(IS_PURE&&!PromiseConstructor.prototype.finally)return!0;if(V8_VERSION>=51&&/native code/.test(PromiseConstructor))return!1;var promise=PromiseConstructor.resolve(1),FakePromise=function(exec){exec(function(){},function(){})};return(promise.constructor={})[SPECIES]=FakePromise,!(promise.then(function(){})instanceof FakePromise)}),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration(function(iterable){PromiseConstructor.all(iterable).catch(function(){})}),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,state,isReject){if(!state.notified){state.notified=!0;var chain=state.reactions;microtask(function(){for(var value=state.value,ok=1==state.state,index=0;chain.length>index;){var result,then,exited,reaction=chain[index++],handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2===state.rejection&&onHandleUnhandled(promise,state),state.rejection=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(error){domain&&!exited&&domain.exit(),reject(error)}}state.reactions=[],state.notified=!1,isReject&&!state.rejection&&onUnhandled(promise,state)})}},dispatchEvent=function(name,promise,reason){var event,handler;DISPATCH_EVENT?((event=document.createEvent("Event")).promise=promise,event.reason=reason,event.initEvent(name,!1,!0),global.dispatchEvent(event)):event={promise:promise,reason:reason},(handler=global["on"+name])?handler(event):"unhandledrejection"===name&&hostReportErrors("Unhandled promise rejection",reason)},onUnhandled=function(promise,state){task.call(global,function(){var result,value=state.value;if(isUnhandled(state)&&(result=perform(function(){IS_NODE?process.emit("unhandledRejection",value,promise):dispatchEvent("unhandledrejection",promise,value)}),state.rejection=IS_NODE||isUnhandled(state)?2:1,result.error))throw result.value})},isUnhandled=function(state){return 1!==state.rejection&&!state.parent},onHandleUnhandled=function(promise,state){task.call(global,function(){IS_NODE?process.emit("rejectionHandled",promise):dispatchEvent("rejectionhandled",promise,state.value)})},bind=function(fn,promise,state,unwrap){return function(value){fn(promise,state,value,unwrap)}},internalReject=function(promise,state,value,unwrap){state.done||(state.done=!0,unwrap&&(state=unwrap),state.value=value,state.state=2,notify(promise,state,!0))},internalResolve=function(promise,state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(promise===value)throw TypeError("Promise can't be resolved itself");var then=isThenable(value);then?microtask(function(){var wrapper={done:!1};try{then.call(value,bind(internalResolve,promise,wrapper,state),bind(internalReject,promise,wrapper,state))}catch(error){internalReject(promise,wrapper,error,state)}}):(state.value=value,state.state=1,notify(promise,state,!1))}catch(error){internalReject(promise,{done:!1},error,state)}}};FORCED&&(PromiseConstructor=function Promise(executor){anInstance(this,PromiseConstructor,PROMISE),aFunction(executor),Internal.call(this);var state=getInternalState(this);try{executor(bind(internalResolve,this,state),bind(internalReject,this,state))}catch(error){internalReject(this,state,error)}},(Internal=function Promise(executor){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=redefineAll(PromiseConstructor.prototype,{then:function then(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=IS_NODE?process.domain:void 0,state.parent=!0,state.reactions.push(reaction),0!=state.state&&notify(this,state,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalState(promise);this.promise=promise,this.resolve=bind(internalResolve,promise,state),this.reject=bind(internalReject,promise,state)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)},IS_PURE||"function"!=typeof NativePromise||(nativeThen=NativePromise.prototype.then,redefine(NativePromise.prototype,"then",function then(onFulfilled,onRejected){var that=this;return new PromiseConstructor(function(resolve,reject){nativeThen.call(that,resolve,reject)}).then(onFulfilled,onRejected)},{unsafe:!0}),"function"==typeof $fetch&&$({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(input){return promiseResolve(PromiseConstructor,$fetch.apply(global,arguments))}}))),$({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1,!0),setSpecies(PROMISE),PromiseWrapper=getBuiltIn(PROMISE),$({target:PROMISE,stat:!0,forced:FORCED},{reject:function reject(r){var capability=newPromiseCapability(this);return capability.reject.call(void 0,r),capability.promise}}),$({target:PROMISE,stat:!0,forced:IS_PURE||FORCED},{resolve:function resolve(x){return promiseResolve(IS_PURE&&this===PromiseWrapper?PromiseConstructor:this,x)}}),$({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function all(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var $promiseResolve=aFunction(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,function(promise){var index=counter++,alreadyCalled=!1;values.push(void 0),remaining++,$promiseResolve.call(C,promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.error&&reject(result.value),capability.promise},race:function race(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){var $promiseResolve=aFunction(C.resolve);iterate(iterable,function(promise){$promiseResolve.call(C,promise).then(capability.resolve,reject)})});return result.error&&reject(result.value),capability.promise}})},function(module,exports,__webpack_require__){var redefine=__webpack_require__(26);module.exports=function(target,src,options){for(var key in src)redefine(target,key,src[key],options);return target}},function(module,exports){module.exports=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError("Incorrect "+(name?name+" ":"")+"invocation");return it}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(17),isArrayIteratorMethod=__webpack_require__(314),toLength=__webpack_require__(27),bind=__webpack_require__(87),getIteratorMethod=__webpack_require__(315),callWithSafeIterationClosing=__webpack_require__(313),Result=function(stopped,result){this.stopped=stopped,this.result=result};(module.exports=function(iterable,fn,that,AS_ENTRIES,IS_ITERATOR){var iterator,iterFn,index,length,result,next,step,boundFunction=bind(fn,that,AS_ENTRIES?2:1);if(IS_ITERATOR)iterator=iterable;else{if("function"!=typeof(iterFn=getIteratorMethod(iterable)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=toLength(iterable.length);length>index;index++)if((result=AS_ENTRIES?boundFunction(anObject(step=iterable[index])[0],step[1]):boundFunction(iterable[index]))&&result instanceof Result)return result;return new Result(!1)}iterator=iterFn.call(iterable)}for(next=iterator.next;!(step=next.call(iterator)).done;)if("object"==typeof(result=callWithSafeIterationClosing(iterator,boundFunction,step.value,AS_ENTRIES))&&result&&result instanceof Result)return result;return new Result(!1)}).stop=function(result){return new Result(!0,result)}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(19),defineProperty=__webpack_require__(21).f,FunctionPrototype=Function.prototype,FunctionPrototypeToString=FunctionPrototype.toString,nameRE=/^\s*function ([^ (]*)/;!DESCRIPTORS||"name"in FunctionPrototype||defineProperty(FunctionPrototype,"name",{configurable:!0,get:function(){try{return FunctionPrototypeToString.call(this).match(nameRE)[1]}catch(error){return""}}})},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),$filter=__webpack_require__(57).filter,fails=__webpack_require__(7),HAS_SPECIES_SUPPORT=__webpack_require__(115)("filter"),USES_TO_LENGTH=HAS_SPECIES_SUPPORT&&!fails(function(){[].filter.call({length:-1,0:1},function(it){throw it})});$({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__webpack_require__){var fails=__webpack_require__(93);module.exports=!fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(124),definePropertyModule=__webpack_require__(334),createPropertyDescriptor=__webpack_require__(329);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(630)},function(module,exports,__webpack_require__){"use strict";var re1,re2,regexpFlags=__webpack_require__(318),nativeExec=RegExp.prototype.exec,nativeReplace=String.prototype.replace,patchedExec=nativeExec,UPDATES_LAST_INDEX_WRONG=(re1=/a/,re2=/b*/g,nativeExec.call(re1,"a"),nativeExec.call(re2,"a"),0!==re1.lastIndex||0!==re2.lastIndex),NPCG_INCLUDED=void 0!==/()??/.exec("")[1];(UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED)&&(patchedExec=function exec(str){var lastIndex,reCopy,match,i,re=this;return NPCG_INCLUDED&&(reCopy=new RegExp("^"+re.source+"$(?!\\s)",regexpFlags.call(re))),UPDATES_LAST_INDEX_WRONG&&(lastIndex=re.lastIndex),match=nativeExec.call(re,str),UPDATES_LAST_INDEX_WRONG&&match&&(re.lastIndex=re.global?match.index+match[0].length:lastIndex),NPCG_INCLUDED&&match&&match.length>1&&nativeReplace.call(match[0],reCopy,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match}),module.exports=patchedExec},function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__(130),anObject=__webpack_require__(17),toLength=__webpack_require__(27),requireObjectCoercible=__webpack_require__(33),advanceStringIndex=__webpack_require__(204),regExpExec=__webpack_require__(131);fixRegExpWellKnownSymbolLogic("match",1,function(MATCH,nativeMatch,maybeCallNative){return[function match(regexp){var O=requireObjectCoercible(this),matcher=null==regexp?void 0:regexp[MATCH];return void 0!==matcher?matcher.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},function(regexp){var res=maybeCallNative(nativeMatch,regexp,this);if(res.done)return res.value;var rx=anObject(regexp),S=String(this);if(!rx.global)return regExpExec(rx,S);var fullUnicode=rx.unicode;rx.lastIndex=0;for(var result,A=[],n=0;null!==(result=regExpExec(rx,S));){var matchStr=String(result[0]);A[n]=matchStr,""===matchStr&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode)),n++}return 0===n?null:A}]})},function(module,exports,__webpack_require__){"use strict";var createNonEnumerableProperty=__webpack_require__(25),redefine=__webpack_require__(26),fails=__webpack_require__(7),wellKnownSymbol=__webpack_require__(10),regexpExec=__webpack_require__(128),SPECIES=wellKnownSymbol("species"),REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var re=/./;return re.exec=function(){var result=[];return result.groups={a:"7"},result},"7"!=="".replace(re,"$<a>")}),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails(function(){var re=/(?:)/,originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return 2!==result.length||"a"!==result[0]||"b"!==result[1]});module.exports=function(KEY,length,exec,sham){var SYMBOL=wellKnownSymbol(KEY),DELEGATES_TO_SYMBOL=!fails(function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)}),DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL&&!fails(function(){var execCalled=!1,re=/a/;return"split"===KEY&&((re={}).constructor={},re.constructor[SPECIES]=function(){return re},re.flags="",re[SYMBOL]=/./[SYMBOL]),re.exec=function(){return execCalled=!0,null},re[SYMBOL](""),!execCalled});if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||"replace"===KEY&&!REPLACE_SUPPORTS_NAMED_GROUPS||"split"===KEY&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL],methods=exec(SYMBOL,""[KEY],function(nativeMethod,regexp,str,arg2,forceStringMethod){return regexp.exec===regexpExec?DELEGATES_TO_SYMBOL&&!forceStringMethod?{done:!0,value:nativeRegExpMethod.call(regexp,str,arg2)}:{done:!0,value:nativeMethod.call(str,regexp,arg2)}:{done:!1}}),stringMethod=methods[0],regexMethod=methods[1];redefine(String.prototype,KEY,stringMethod),redefine(RegExp.prototype,SYMBOL,2==length?function(string,arg){return regexMethod.call(string,this,arg)}:function(string){return regexMethod.call(string,this)}),sham&&createNonEnumerableProperty(RegExp.prototype[SYMBOL],"sham",!0)}}},function(module,exports,__webpack_require__){var classof=__webpack_require__(40),regexpExec=__webpack_require__(128);module.exports=function(R,S){var exec=R.exec;if("function"==typeof exec){var result=exec.call(R,S);if("object"!=typeof result)throw TypeError("RegExp exec method returned something other than an Object or null");return result}if("RegExp"!==classof(R))throw TypeError("RegExp#exec called on incompatible receiver");return regexpExec.call(R,S)}},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(666),listCacheDelete=__webpack_require__(667),listCacheGet=__webpack_require__(668),listCacheHas=__webpack_require__(669),listCacheSet=__webpack_require__(670);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(97);module.exports=function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(31).Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(61)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(690);module.exports=function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(211),isLength=__webpack_require__(362);module.exports=function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(75),isObjectLike=__webpack_require__(62),symbolTag="[object Symbol]";module.exports=function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}},function(module,exports,__webpack_require__){var fails=__webpack_require__(140);module.exports=!fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(139),definePropertyModule=__webpack_require__(378),createPropertyDescriptor=__webpack_require__(375);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(391)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var eq=__webpack_require__(854);module.exports=function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(860);module.exports=function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.User=User;var utils=_interopRequireWildcard(__webpack_require__(5)),_events=__webpack_require__(18);function User(userId){this.userId=userId,this.presence="offline",this.presenceStatusMsg=null,this._unstable_statusMessage="",this.displayName=userId,this.rawDisplayName=userId,this.avatarUrl=null,this.lastActiveAgo=0,this.lastPresenceTs=0,this.currentlyActive=!1,this.events={presence:null,profile:null},this._updateModifiedTime()}utils.inherits(User,_events.EventEmitter),User.prototype.setPresenceEvent=function(event){if("m.presence"!==event.getType())return;const firstFire=null===this.events.presence;this.events.presence=event;const eventsToFire=[];(event.getContent().presence!==this.presence||firstFire)&&eventsToFire.push("User.presence"),event.getContent().avatar_url&&event.getContent().avatar_url!==this.avatarUrl&&eventsToFire.push("User.avatarUrl"),event.getContent().displayname&&event.getContent().displayname!==this.displayName&&eventsToFire.push("User.displayName"),void 0!==event.getContent().currently_active&&event.getContent().currently_active!==this.currentlyActive&&eventsToFire.push("User.currentlyActive"),this.presence=event.getContent().presence,eventsToFire.push("User.lastPresenceTs"),event.getContent().status_msg&&(this.presenceStatusMsg=event.getContent().status_msg),event.getContent().displayname&&(this.displayName=event.getContent().displayname),event.getContent().avatar_url&&(this.avatarUrl=event.getContent().avatar_url),this.lastActiveAgo=event.getContent().last_active_ago,this.lastPresenceTs=Date.now(),this.currentlyActive=event.getContent().currently_active,this._updateModifiedTime();for(let i=0;i<eventsToFire.length;i++)this.emit(eventsToFire[i],event,this)},User.prototype.setDisplayName=function(name){const oldName=this.displayName;this.displayName=name,name!==oldName&&this._updateModifiedTime()},User.prototype.setRawDisplayName=function(name){this.rawDisplayName=name},User.prototype.setAvatarUrl=function(url){const oldUrl=this.avatarUrl;this.avatarUrl=url,url!==oldUrl&&this._updateModifiedTime()},User.prototype._updateModifiedTime=function(){this._modified=Date.now()},User.prototype.getLastModifiedTime=function(){return this._modified},User.prototype.getLastActiveTs=function(){return this.lastPresenceTs-this.lastActiveAgo},User.prototype._unstable_updateStatusMessage=function(event){event.getContent()?this._unstable_statusMessage=event.getContent().status:this._unstable_statusMessage="",this._updateModifiedTime(),this.emit("User._unstable_statusMessage",this)}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.MatrixHttpApi=MatrixHttpApi,exports.MatrixError=MatrixError,exports.PREFIX_MEDIA_R0=exports.PREFIX_IDENTITY_V2=exports.PREFIX_IDENTITY_V1=exports.PREFIX_UNSTABLE=exports.PREFIX_R0=void 0;var _contentType=__webpack_require__(896),utils=_interopRequireWildcard(__webpack_require__(5)),_logger=__webpack_require__(2),callbacks=_interopRequireWildcard(__webpack_require__(897));exports.PREFIX_R0="/_matrix/client/r0";exports.PREFIX_UNSTABLE="/_matrix/client/unstable";exports.PREFIX_IDENTITY_V1="/_matrix/identity/api/v1";exports.PREFIX_IDENTITY_V2="/_matrix/identity/v2";function MatrixHttpApi(event_emitter,opts){utils.checkObjectHasKeys(opts,["baseUrl","request","prefix"]),opts.onlyData=opts.onlyData||!1,this.event_emitter=event_emitter,this.opts=opts,this.useAuthorizationHeader=Boolean(opts.useAuthorizationHeader),this.uploads=[]}exports.PREFIX_MEDIA_R0="/_matrix/media/r0",MatrixHttpApi.prototype={setIdBaseUrl:function(url){this.opts.idBaseUrl=url},getContentUri:function(){const params={access_token:this.opts.accessToken};return{base:this.opts.baseUrl,path:"/_matrix/media/r0/upload",params:params}},uploadContent:function(file,opts){utils.isFunction(opts)?opts={callback:opts}:void 0===opts&&(opts={});const includeFilename=!1!==opts.includeFilename,contentType=opts.type||file.type||"application/octet-stream",fileName=opts.name||file.name;let body=file;body.stream&&"function"!=typeof body.stream&&(_logger.logger.warn("Using `file.stream` as the content to upload. Future versions of the js-sdk will change this to expect `file` to be the content directly."),body=body.stream);let rawResponse=opts.rawResponse;void 0===rawResponse&&(global.XMLHttpRequest?rawResponse=!1:(_logger.logger.warn("Returning the raw JSON from uploadContent(). Future versions of the js-sdk will change this default, to return the parsed object. Set opts.rawResponse=false to change this behaviour now."),rawResponse=!0));let onlyContentUri=opts.onlyContentUri;rawResponse||void 0!==onlyContentUri||(global.XMLHttpRequest?(_logger.logger.warn("Returning only the content-uri from uploadContent(). Future versions of the js-sdk will change this default, to return the whole response object. Set opts.onlyContentUri=false to change this behaviour now."),onlyContentUri=!0):onlyContentUri=!1);const upload={loaded:0,total:0};let promise,bodyParser=null;if(rawResponse||(bodyParser=function(rawBody){let body=JSON.parse(rawBody);if(onlyContentUri&&void 0===(body=body.content_uri))throw Error("Bad response");return body}),global.XMLHttpRequest){const defer=utils.defer(),xhr=new global.XMLHttpRequest;upload.xhr=xhr;const cb=requestCallback(defer,opts.callback,this.opts.onlyData),timeout_fn=function(){xhr.abort(),cb(new Error("Timeout"))};xhr.timeout_timer=callbacks.setTimeout(timeout_fn,3e4),xhr.onreadystatechange=function(){switch(xhr.readyState){case global.XMLHttpRequest.DONE:var resp;callbacks.clearTimeout(xhr.timeout_timer);try{if(!xhr.responseText)throw new Error("No response body.");resp=xhr.responseText,bodyParser&&(resp=bodyParser(resp))}catch(err){return err.http_status=xhr.status,void cb(err)}cb(void 0,xhr,resp)}},xhr.upload.addEventListener("progress",function(ev){callbacks.clearTimeout(xhr.timeout_timer),upload.loaded=ev.loaded,upload.total=ev.total,xhr.timeout_timer=callbacks.setTimeout(timeout_fn,3e4),opts.progressHandler&&opts.progressHandler({loaded:ev.loaded,total:ev.total})});let url=this.opts.baseUrl+"/_matrix/media/r0/upload";const queryArgs=[];includeFilename&&fileName&&queryArgs.push("filename="+encodeURIComponent(fileName)),this.useAuthorizationHeader||queryArgs.push("access_token="+encodeURIComponent(this.opts.accessToken)),queryArgs.length>0&&(url+="?"+queryArgs.join("&")),xhr.open("POST",url),this.useAuthorizationHeader&&xhr.setRequestHeader("Authorization","Bearer "+this.opts.accessToken),xhr.setRequestHeader("Content-Type",contentType),xhr.send(body),(promise=defer.promise).abort=xhr.abort.bind(xhr)}else{const queryParams={};includeFilename&&fileName&&(queryParams.filename=fileName),promise=this.authedRequest(opts.callback,"POST","/upload",queryParams,body,{prefix:"/_matrix/media/r0",headers:{"Content-Type":contentType},json:!1,bodyParser:bodyParser})}const self=this,promise0=promise.finally(function(){for(let i=0;i<self.uploads.length;++i)if(self.uploads[i]===upload)return void self.uploads.splice(i,1)});return promise0.abort=promise.abort,upload.promise=promise0,this.uploads.push(upload),promise0},cancelUpload:function(promise){return!!promise.abort&&(promise.abort(),!0)},getCurrentUploads:function(){return this.uploads},idServerRequest:function(callback,method,path,params,prefix,accessToken){if(!this.opts.idBaseUrl)throw new Error("No Identity Server base URL set");const fullUri=this.opts.idBaseUrl+prefix+path;if(void 0!==callback&&!utils.isFunction(callback))throw Error("Expected callback to be a function but got "+typeof callback);const opts={uri:fullUri,method:method,withCredentials:!1,json:!0,_matrix_opts:this.opts,headers:{}};"GET"===method?opts.qs=params:"object"==typeof params&&(opts.json=params),accessToken&&(opts.headers.Authorization=`Bearer ${accessToken}`);const defer=utils.defer();return this.opts.request(opts,requestCallback(defer,callback,this.opts.onlyData)),defer.promise},authedRequest:function(callback,method,path,queryParams,data,opts){queryParams||(queryParams={}),this.useAuthorizationHeader?(isFinite(opts)&&(opts={localTimeoutMs:opts}),opts||(opts={}),opts.headers||(opts.headers={}),opts.headers.Authorization||(opts.headers.Authorization="Bearer "+this.opts.accessToken),queryParams.access_token&&delete queryParams.access_token):queryParams.access_token||(queryParams.access_token=this.opts.accessToken);const requestPromise=this.request(callback,method,path,queryParams,data,opts),self=this;return requestPromise.catch(function(err){"M_UNKNOWN_TOKEN"==err.errcode?self.event_emitter.emit("Session.logged_out",err):"M_CONSENT_NOT_GIVEN"==err.errcode&&self.event_emitter.emit("no_consent",err.message,err.data.consent_uri)}),requestPromise},request:function(callback,method,path,queryParams,data,opts){const prefix=void 0!==(opts=opts||{}).prefix?opts.prefix:this.opts.prefix,fullUri=this.opts.baseUrl+prefix+path;return this.requestOtherUrl(callback,method,fullUri,queryParams,data,opts)},requestOtherUrl:function(callback,method,uri,queryParams,data,opts){return null==opts?opts={}:isFinite(opts)&&(opts={localTimeoutMs:opts}),this._request(callback,method,uri,queryParams,data,opts)},getUrl:function(path,queryParams,prefix){let queryString="";return queryParams&&(queryString="?"+utils.encodeParams(queryParams)),this.opts.baseUrl+prefix+path+queryString},_request:function(callback,method,uri,queryParams,data,opts){if(void 0!==callback&&!utils.isFunction(callback))throw Error("Expected callback to be a function but got "+typeof callback);opts=opts||{};const self=this;if(this.opts.extraParams)for(const key in this.opts.extraParams)this.opts.extraParams.hasOwnProperty(key)&&(queryParams[key]=this.opts.extraParams[key]);const headers=utils.extend({},opts.headers||{}),json=void 0===opts.json||opts.json;let bodyParser=opts.bodyParser;json&&(data&&(data=JSON.stringify(data),headers["content-type"]="application/json"),headers.accept||(headers.accept="application/json"),void 0===bodyParser&&(bodyParser=function(rawBody){return JSON.parse(rawBody)}));const defer=utils.defer();let timeoutId,req,timedOut=!1;const localTimeoutMs=opts.localTimeoutMs||this.opts.localTimeoutMs,resetTimeout=()=>{localTimeoutMs&&(timeoutId&&callbacks.clearTimeout(timeoutId),timeoutId=callbacks.setTimeout(function(){timedOut=!0,req&&req.abort&&req.abort(),defer.reject(new MatrixError({error:"Locally timed out waiting for a response",errcode:"ORG.MATRIX.JSSDK_TIMEOUT",timeout:localTimeoutMs}))},localTimeoutMs))};resetTimeout();const reqPromise=defer.promise;try{(req=this.opts.request({uri:uri,method:method,withCredentials:!1,qs:queryParams,qsStringifyOptions:opts.qsStringifyOptions,useQuerystring:!0,body:data,json:!1,timeout:localTimeoutMs,headers:headers||{},_matrix_opts:this.opts},function(err,response,body){if(localTimeoutMs&&(callbacks.clearTimeout(timeoutId),timedOut))return;requestCallback(defer,callback,self.opts.onlyData,bodyParser)(err,response,body)}))&&("onprogress"in req&&(req.onprogress=e=>{resetTimeout()}),req.abort&&(reqPromise.abort=req.abort.bind(req)))}catch(ex){defer.reject(ex),callback&&callback(ex)}return reqPromise}};const requestCallback=function(defer,userDefinedCallback,onlyData,bodyParser){return userDefinedCallback=userDefinedCallback||function(){},function(err,response,body){if(!err)try{response.statusCode>=400?err=function parseErrorResponse(response,body){const httpStatus=response.statusCode,contentType=function getResponseContentType(response){let contentType;response.getResponseHeader?contentType=response.getResponseHeader("Content-Type"):response.headers&&(contentType=response.headers["content-type"]||null);if(!contentType)return null;try{return(0,_contentType.parse)(contentType)}catch(e){throw new Error(`Error parsing Content-Type '${contentType}': ${e}`)}}(response);let err;if(contentType)if("application/json"===contentType.type){const jsonBody="object"==typeof body?body:JSON.parse(body);err=new MatrixError(jsonBody)}else"text/plain"===contentType.type&&(err=new Error(`Server returned ${httpStatus} error: ${body}`));err||(err=new Error(`Server returned ${httpStatus} error`));return err.httpStatus=httpStatus,err}(response,body):bodyParser&&(body=bodyParser(body))}catch(e){err=new Error(`Error parsing server response: ${e}`)}if(err)defer.reject(err),userDefinedCallback(err);else{const res={code:response.statusCode,headers:response.headers,data:body};defer.resolve(onlyData?body:res),userDefinedCallback(null,onlyData?body:res)}}};function MatrixError(errorJson){errorJson=errorJson||{},this.errcode=errorJson.errcode,this.name=errorJson.errcode||"Unknown error code",this.message=errorJson.error||"Unknown message",this.data=errorJson}MatrixError.prototype=Object.create(Error.prototype),MatrixError.prototype.constructor=MatrixError}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHttpUriForMxc=function getHttpUriForMxc(baseUrl,mxc,width,height,resizeMethod,allowDirectLinks){if("string"!=typeof mxc||!mxc)return"";if(0!==mxc.indexOf("mxc://"))return allowDirectLinks?mxc:"";let serverAndMediaId=mxc.slice(6),prefix="/_matrix/media/r0/download/";const params={};width&&(params.width=Math.round(width));height&&(params.height=Math.round(height));resizeMethod&&(params.method=resizeMethod);utils.keys(params).length>0&&(prefix="/_matrix/media/r0/thumbnail/");const fragmentOffset=serverAndMediaId.indexOf("#");let fragment="";fragmentOffset>=0&&(fragment=serverAndMediaId.substr(fragmentOffset),serverAndMediaId=serverAndMediaId.substr(0,fragmentOffset));return baseUrl+prefix+serverAndMediaId+(0===utils.keys(params).length?"":"?"+utils.encodeParams(params))+fragment},exports.getIdenticonUri=function getIdenticonUri(baseUrl,identiconString,width,height){if(!identiconString)return null;width||(width=96);height||(height=96);const params={width:width,height:height},path=utils.encodeUri("/_matrix/media/unstable/identicon/$ident",{$ident:identiconString});return baseUrl+path+(0===utils.keys(params).length?"":"?"+utils.encodeParams(params))};var utils=_interopRequireWildcard(__webpack_require__(5))},function(module,exports,__webpack_require__){"use strict";function DeviceInfo(deviceId){Object.defineProperty(this,"deviceId",{enumerable:!0,value:deviceId}),this.algorithms=[],this.keys={},this.verified=DeviceVerification.UNVERIFIED,this.known=!1,this.unsigned={},this.signatures={}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceInfo=DeviceInfo,DeviceInfo.fromStorage=function(obj,deviceId){const res=new DeviceInfo(deviceId);for(const prop in obj)obj.hasOwnProperty(prop)&&(res[prop]=obj[prop]);return res},DeviceInfo.prototype.toStorage=function(){return{algorithms:this.algorithms,keys:this.keys,verified:this.verified,known:this.known,unsigned:this.unsigned,signatures:this.signatures}},DeviceInfo.prototype.getFingerprint=function(){return this.keys["ed25519:"+this.deviceId]},DeviceInfo.prototype.getIdentityKey=function(){return this.keys["curve25519:"+this.deviceId]},DeviceInfo.prototype.getDisplayName=function(){return this.unsigned.device_display_name||null},DeviceInfo.prototype.isBlocked=function(){return this.verified==DeviceVerification.BLOCKED},DeviceInfo.prototype.isVerified=function(){return this.verified==DeviceVerification.VERIFIED},DeviceInfo.prototype.isUnverified=function(){return this.verified==DeviceVerification.UNVERIFIED},DeviceInfo.prototype.isKnown=function(){return 1==this.known},DeviceInfo.DeviceVerification={VERIFIED:1,UNVERIFIED:0,BLOCKED:-1};const DeviceVerification=DeviceInfo.DeviceVerification},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomString=function randomString(len){let ret="";const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<len;++i)ret+=chars.charAt(Math.floor(Math.random()*chars.length));return ret}},function(module,exports,__webpack_require__){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}(),module.exports=__webpack_require__(804)},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"storiesOf",{enumerable:!0,get:function get(){return _preview.storiesOf}}),Object.defineProperty(exports,"setAddon",{enumerable:!0,get:function get(){return _preview.setAddon}}),Object.defineProperty(exports,"addDecorator",{enumerable:!0,get:function get(){return _preview.addDecorator}}),Object.defineProperty(exports,"DecoratorFn",{enumerable:!0,get:function get(){return _preview.DecoratorFn}}),Object.defineProperty(exports,"addParameters",{enumerable:!0,get:function get(){return _preview.addParameters}}),Object.defineProperty(exports,"configure",{enumerable:!0,get:function get(){return _preview.configure}}),Object.defineProperty(exports,"getStorybook",{enumerable:!0,get:function get(){return _preview.getStorybook}}),Object.defineProperty(exports,"raw",{enumerable:!0,get:function get(){return _preview.raw}}),Object.defineProperty(exports,"forceReRender",{enumerable:!0,get:function get(){return _preview.forceReRender}});var _preview=__webpack_require__(578);module&&module.hot&&module.hot.decline&&module.hot.decline()}).call(this,__webpack_require__(90)(module))},function(module,exports){module.exports=function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(877),assertThisInitialized=__webpack_require__(37);module.exports=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?assertThisInitialized(self):call}},function(module,exports){function _getPrototypeOf(o){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}module.exports=_getPrototypeOf},function(module,exports,__webpack_require__){var setPrototypeOf=__webpack_require__(878);module.exports=function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&setPrototypeOf(subClass,superClass)}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const v4_1=__importDefault(__webpack_require__(937)),v5_1=__importDefault(__webpack_require__(939));exports.uuid=function(){return v4_1.default()};const regex={v4:/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,v5:/(?:^[a-f0-9]{8}-[a-f0-9]{4}-5[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u};exports.regex=regex;exports.isUuid=function(value){return regex.v4.test(value)||regex.v5.test(value)};exports.empty=function(){return"00000000-0000-0000-0000-000000000000"};exports.fromString=function(text){return v5_1.default(text,"bb5d0ffa-9a4c-4d7c-8fc2-0a7d2220ba45")}},function(module,exports,__webpack_require__){"use strict";module.exports=function requirePromise(){if("function"!=typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.")}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),define=__webpack_require__(8),implementation=__webpack_require__(254),getPolyfill=__webpack_require__(255),shim=__webpack_require__(470),bound=bind.call(Function.call,getPolyfill());define(bound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=bound},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),define=__webpack_require__(8),implementation=__webpack_require__(256),getPolyfill=__webpack_require__(257),shim=__webpack_require__(471),bound=bind.call(Function.call,getPolyfill());define(bound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=bound},function(module,exports,__webpack_require__){var hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,weakMapHas="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,weakSetHas="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,match=String.prototype.match,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,inspectCustom=__webpack_require__(472).custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null;function wrapQuotes(s,defaultStyle,opts){var quoteChar="double"===(opts.quoteStyle||defaultStyle)?'"':"'";return quoteChar+s+quoteChar}function quote(s){return String(s).replace(/"/g,"&quot;")}function isArray(obj){return"[object Array]"===toStr(obj)}function isSymbol(obj){return"[object Symbol]"===toStr(obj)}module.exports=function inspect_(obj,options,depth,seen){var opts=options||{};if(has(opts,"quoteStyle")&&"single"!==opts.quoteStyle&&"double"!==opts.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===obj)return"undefined";if(null===obj)return"null";if("boolean"==typeof obj)return obj?"true":"false";if("string"==typeof obj)return function inspectString(str,opts){return wrapQuotes(str.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,lowbyte),"single",opts)}(obj,opts);if("number"==typeof obj)return 0===obj?1/0/obj>0?"0":"-0":String(obj);if("bigint"==typeof obj)return String(obj)+"n";var maxDepth=void 0===opts.depth?5:opts.depth;if(void 0===depth&&(depth=0),depth>=maxDepth&&maxDepth>0&&"object"==typeof obj)return"[Object]";if(void 0===seen)seen=[];else if(function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}(seen,obj)>=0)return"[Circular]";function inspect(value,from){return from&&(seen=seen.slice()).push(from),inspect_(value,opts,depth+1,seen)}if("function"==typeof obj){var name=function nameOf(f){if(f.name)return f.name;var m=match.call(f,/^function\s*([\w$]+)/);if(m)return m[1];return null}(obj);return"[Function"+(name?": "+name:"")+"]"}if(isSymbol(obj)){var symString=Symbol.prototype.toString.call(obj);return"object"==typeof obj?markBoxed(symString):symString}if(function isElement(x){if(!x||"object"!=typeof x)return!1;if("undefined"!=typeof HTMLElement&&x instanceof HTMLElement)return!0;return"string"==typeof x.nodeName&&"function"==typeof x.getAttribute}(obj)){for(var s="<"+String(obj.nodeName).toLowerCase(),attrs=obj.attributes||[],i=0;i<attrs.length;i++)s+=" "+attrs[i].name+"="+wrapQuotes(quote(attrs[i].value),"double",opts);return s+=">",obj.childNodes&&obj.childNodes.length&&(s+="..."),s+="</"+String(obj.nodeName).toLowerCase()+">"}if(isArray(obj))return 0===obj.length?"[]":"[ "+arrObjKeys(obj,inspect).join(", ")+" ]";if(function isError(obj){return"[object Error]"===toStr(obj)}(obj)){var parts=arrObjKeys(obj,inspect);return 0===parts.length?"["+String(obj)+"]":"{ ["+String(obj)+"] "+parts.join(", ")+" }"}if("object"==typeof obj){if(inspectSymbol&&"function"==typeof obj[inspectSymbol])return obj[inspectSymbol]();if("function"==typeof obj.inspect)return obj.inspect()}if(function isMap(x){if(!mapSize||!x||"object"!=typeof x)return!1;try{mapSize.call(x);try{setSize.call(x)}catch(s){return!0}return x instanceof Map}catch(e){}return!1}(obj)){var mapParts=[];return mapForEach.call(obj,function(value,key){mapParts.push(inspect(key,obj)+" => "+inspect(value,obj))}),collectionOf("Map",mapSize.call(obj),mapParts)}if(function isSet(x){if(!setSize||!x||"object"!=typeof x)return!1;try{setSize.call(x);try{mapSize.call(x)}catch(m){return!0}return x instanceof Set}catch(e){}return!1}(obj)){var setParts=[];return setForEach.call(obj,function(value){setParts.push(inspect(value,obj))}),collectionOf("Set",setSize.call(obj),setParts)}if(function isWeakMap(x){if(!weakMapHas||!x||"object"!=typeof x)return!1;try{weakMapHas.call(x,weakMapHas);try{weakSetHas.call(x,weakSetHas)}catch(s){return!0}return x instanceof WeakMap}catch(e){}return!1}(obj))return weakCollectionOf("WeakMap");if(function isWeakSet(x){if(!weakSetHas||!x||"object"!=typeof x)return!1;try{weakSetHas.call(x,weakSetHas);try{weakMapHas.call(x,weakMapHas)}catch(s){return!0}return x instanceof WeakSet}catch(e){}return!1}(obj))return weakCollectionOf("WeakSet");if(function isNumber(obj){return"[object Number]"===toStr(obj)}(obj))return markBoxed(inspect(Number(obj)));if(function isBigInt(obj){return"[object BigInt]"===toStr(obj)}(obj))return markBoxed(inspect(bigIntValueOf.call(obj)));if(function isBoolean(obj){return"[object Boolean]"===toStr(obj)}(obj))return markBoxed(booleanValueOf.call(obj));if(function isString(obj){return"[object String]"===toStr(obj)}(obj))return markBoxed(inspect(String(obj)));if(!function isDate(obj){return"[object Date]"===toStr(obj)}(obj)&&!function isRegExp(obj){return"[object RegExp]"===toStr(obj)}(obj)){var xs=arrObjKeys(obj,inspect);return 0===xs.length?"{}":"{ "+xs.join(", ")+" }"}return String(obj)};var hasOwn=Object.prototype.hasOwnProperty||function(key){return key in this};function has(obj,key){return hasOwn.call(obj,key)}function toStr(obj){return objectToString.call(obj)}function lowbyte(c){var n=c.charCodeAt(0),x={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return x?"\\"+x:"\\x"+(n<16?"0":"")+n.toString(16)}function markBoxed(str){return"Object("+str+")"}function weakCollectionOf(type){return type+" { ? }"}function collectionOf(type,size,entries){return type+" ("+size+") {"+entries.join(", ")+"}"}function arrObjKeys(obj,inspect){var isArr=isArray(obj),xs=[];if(isArr){xs.length=obj.length;for(var i=0;i<obj.length;i++)xs[i]=has(obj,i)?inspect(obj[i],obj):""}for(var key in obj)has(obj,key)&&(isArr&&String(Number(key))===key&&key<obj.length||(/[^\w$]/.test(key)?xs.push(inspect(key,obj)+": "+inspect(obj[key],obj)):xs.push(key+": "+inspect(obj[key],obj))));return xs}},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(474);module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";module.exports=Number.isNaN||function isNaN(a){return a!=a}},function(module,exports,__webpack_require__){"use strict";module.exports=function forEach(array,callback){for(var i=0;i<array.length;i+=1)callback(array[i],i,array)}},function(module,exports,__webpack_require__){"use strict";module.exports=function every(array,predicate){for(var i=0;i<array.length;i+=1)if(!predicate(array[i],i,array))return!1;return!0}},function(module,exports,__webpack_require__){"use strict";var $TypeError=TypeError,throwTypeError=function(){throw new $TypeError},ThrowTypeError=Object.getOwnPropertyDescriptor?function(){try{return arguments.callee,throwTypeError}catch(calleeThrows){try{return Object.getOwnPropertyDescriptor(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=__webpack_require__(492)(),getProto=Object.getPrototypeOf||function(x){return x.__proto__},asyncGenIterator=void 0,TypedArray="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"$ %JSON%":"object"==typeof JSON?JSON:void 0,"$ %JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":hasSymbols?Symbol:void 0,"$ %SymbolPrototype%":hasSymbols?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":ThrowTypeError,"$ %TypedArray%":TypedArray,"$ %TypedArrayPrototype%":TypedArray?TypedArray.prototype:void 0,"$ %TypeError%":$TypeError,"$ %TypeErrorPrototype%":$TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},$replace=__webpack_require__(9).call(Function.call,String.prototype.replace),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function stringToPath(string){var result=[];return $replace(string,rePropName,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match}),result},getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var key="$ "+name;if(!(key in INTRINSICS))throw new SyntaxError("intrinsic "+name+" does not exist!");if(void 0===INTRINSICS[key]&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return INTRINSICS[key]};module.exports=function GetIntrinsic(name,allowMissing){if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new TypeError('"allowMissing" argument must be a boolean');var parts=stringToPath(name);if(0===parts.length)return getBaseIntrinsic(name,allowMissing);for(var value=getBaseIntrinsic("%"+parts[0]+"%",allowMissing),i=1;i<parts.length;i+=1)null!=value&&(value=value[parts[i]]);return value}},function(module,exports,__webpack_require__){var hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,weakMapHas="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,weakSetHas="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,match=String.prototype.match,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,inspectCustom=__webpack_require__(501).custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null;function wrapQuotes(s,defaultStyle,opts){var quoteChar="double"===(opts.quoteStyle||defaultStyle)?'"':"'";return quoteChar+s+quoteChar}function quote(s){return String(s).replace(/"/g,"&quot;")}function isArray(obj){return"[object Array]"===toStr(obj)}function isSymbol(obj){return"[object Symbol]"===toStr(obj)}module.exports=function inspect_(obj,options,depth,seen){var opts=options||{};if(has(opts,"quoteStyle")&&"single"!==opts.quoteStyle&&"double"!==opts.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===obj)return"undefined";if(null===obj)return"null";if("boolean"==typeof obj)return obj?"true":"false";if("string"==typeof obj)return function inspectString(str,opts){return wrapQuotes(str.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,lowbyte),"single",opts)}(obj,opts);if("number"==typeof obj)return 0===obj?1/0/obj>0?"0":"-0":String(obj);if("bigint"==typeof obj)return String(obj)+"n";var maxDepth=void 0===opts.depth?5:opts.depth;if(void 0===depth&&(depth=0),depth>=maxDepth&&maxDepth>0&&"object"==typeof obj)return"[Object]";if(void 0===seen)seen=[];else if(function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}(seen,obj)>=0)return"[Circular]";function inspect(value,from){return from&&(seen=seen.slice()).push(from),inspect_(value,opts,depth+1,seen)}if("function"==typeof obj){var name=function nameOf(f){if(f.name)return f.name;var m=match.call(f,/^function\s*([\w$]+)/);if(m)return m[1];return null}(obj);return"[Function"+(name?": "+name:"")+"]"}if(isSymbol(obj)){var symString=Symbol.prototype.toString.call(obj);return"object"==typeof obj?markBoxed(symString):symString}if(function isElement(x){if(!x||"object"!=typeof x)return!1;if("undefined"!=typeof HTMLElement&&x instanceof HTMLElement)return!0;return"string"==typeof x.nodeName&&"function"==typeof x.getAttribute}(obj)){for(var s="<"+String(obj.nodeName).toLowerCase(),attrs=obj.attributes||[],i=0;i<attrs.length;i++)s+=" "+attrs[i].name+"="+wrapQuotes(quote(attrs[i].value),"double",opts);return s+=">",obj.childNodes&&obj.childNodes.length&&(s+="..."),s+="</"+String(obj.nodeName).toLowerCase()+">"}if(isArray(obj))return 0===obj.length?"[]":"[ "+arrObjKeys(obj,inspect).join(", ")+" ]";if(function isError(obj){return"[object Error]"===toStr(obj)}(obj)){var parts=arrObjKeys(obj,inspect);return 0===parts.length?"["+String(obj)+"]":"{ ["+String(obj)+"] "+parts.join(", ")+" }"}if("object"==typeof obj){if(inspectSymbol&&"function"==typeof obj[inspectSymbol])return obj[inspectSymbol]();if("function"==typeof obj.inspect)return obj.inspect()}if(function isMap(x){if(!mapSize||!x||"object"!=typeof x)return!1;try{mapSize.call(x);try{setSize.call(x)}catch(s){return!0}return x instanceof Map}catch(e){}return!1}(obj)){var mapParts=[];return mapForEach.call(obj,function(value,key){mapParts.push(inspect(key,obj)+" => "+inspect(value,obj))}),collectionOf("Map",mapSize.call(obj),mapParts)}if(function isSet(x){if(!setSize||!x||"object"!=typeof x)return!1;try{setSize.call(x);try{mapSize.call(x)}catch(m){return!0}return x instanceof Set}catch(e){}return!1}(obj)){var setParts=[];return setForEach.call(obj,function(value){setParts.push(inspect(value,obj))}),collectionOf("Set",setSize.call(obj),setParts)}if(function isWeakMap(x){if(!weakMapHas||!x||"object"!=typeof x)return!1;try{weakMapHas.call(x,weakMapHas);try{weakSetHas.call(x,weakSetHas)}catch(s){return!0}return x instanceof WeakMap}catch(e){}return!1}(obj))return weakCollectionOf("WeakMap");if(function isWeakSet(x){if(!weakSetHas||!x||"object"!=typeof x)return!1;try{weakSetHas.call(x,weakSetHas);try{weakMapHas.call(x,weakMapHas)}catch(s){return!0}return x instanceof WeakSet}catch(e){}return!1}(obj))return weakCollectionOf("WeakSet");if(function isNumber(obj){return"[object Number]"===toStr(obj)}(obj))return markBoxed(inspect(Number(obj)));if(function isBigInt(obj){return"[object BigInt]"===toStr(obj)}(obj))return markBoxed(inspect(bigIntValueOf.call(obj)));if(function isBoolean(obj){return"[object Boolean]"===toStr(obj)}(obj))return markBoxed(booleanValueOf.call(obj));if(function isString(obj){return"[object String]"===toStr(obj)}(obj))return markBoxed(inspect(String(obj)));if(!function isDate(obj){return"[object Date]"===toStr(obj)}(obj)&&!function isRegExp(obj){return"[object RegExp]"===toStr(obj)}(obj)){var xs=arrObjKeys(obj,inspect);return 0===xs.length?"{}":"{ "+xs.join(", ")+" }"}return String(obj)};var hasOwn=Object.prototype.hasOwnProperty||function(key){return key in this};function has(obj,key){return hasOwn.call(obj,key)}function toStr(obj){return objectToString.call(obj)}function lowbyte(c){var n=c.charCodeAt(0),x={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return x?"\\"+x:"\\x"+(n<16?"0":"")+n.toString(16)}function markBoxed(str){return"Object("+str+")"}function weakCollectionOf(type){return type+" { ? }"}function collectionOf(type,size,entries){return type+" ("+size+") {"+entries.join(", ")+"}"}function arrObjKeys(obj,inspect){var isArr=isArray(obj),xs=[];if(isArr){xs.length=obj.length;for(var i=0;i<obj.length;i++)xs[i]=has(obj,i)?inspect(obj[i],obj):""}for(var key in obj)has(obj,key)&&(isArr&&String(Number(key))===key&&key<obj.length||(/[^\w$]/.test(key)?xs.push(inspect(key,obj)+": "+inspect(obj[key],obj)):xs.push(key+": "+inspect(obj[key],obj))));return xs}},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(503);module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";module.exports=Number.isNaN||function isNaN(a){return a!=a}},function(module,exports,__webpack_require__){"use strict";module.exports=function forEach(array,callback){for(var i=0;i<array.length;i+=1)callback(array[i],i,array)}},function(module,exports,__webpack_require__){"use strict";module.exports=function every(array,predicate){for(var i=0;i<array.length;i+=1)if(!predicate(array[i],i,array))return!1;return!0}},function(module,exports,__webpack_require__){"use strict";var trimStart=__webpack_require__(160),trimEnd=__webpack_require__(161),inspect=__webpack_require__(174),ES2018=__webpack_require__(522),assign=__webpack_require__(81),MAX_SAFE_INTEGER=__webpack_require__(284),$TypeError=__webpack_require__(14)("%TypeError%"),ES2019=assign(assign({},ES2018),{AddEntriesFromIterable:function AddEntriesFromIterable(target,iterable,adder){if(!this.IsCallable(adder))throw new $TypeError("Assertion failed: `adder` is not callable");if(null==iterable)throw new $TypeError("Assertion failed: `iterable` is present, and not nullish");for(var iteratorRecord=this.GetIterator(iterable);;){var next=this.IteratorStep(iteratorRecord);if(!next)return target;var nextItem=this.IteratorValue(next);if("Object"!==this.Type(nextItem)){var error=new $TypeError("iterator next must return an Object, got "+inspect(nextItem));return this.IteratorClose(iteratorRecord,function(){throw error})}try{var k=this.Get(nextItem,"0"),v=this.Get(nextItem,"1");this.Call(adder,target,[k,v])}catch(e){return this.IteratorClose(iteratorRecord,function(){throw e})}}},FlattenIntoArray:function FlattenIntoArray(target,source,sourceLen,start,depth){var mapperFunction;arguments.length>5&&(mapperFunction=arguments[5]);for(var targetIndex=start,sourceIndex=0;sourceIndex<sourceLen;){var P=this.ToString(sourceIndex),exists=this.HasProperty(source,P);if(!0===exists){var element=this.Get(source,P);if(void 0!==mapperFunction){if(arguments.length<=6)throw new $TypeError("Assertion failed: thisArg is required when mapperFunction is provided");element=this.Call(mapperFunction,arguments[6],[element,sourceIndex,source])}var shouldFlatten=!1;if(depth>0&&(shouldFlatten=this.IsArray(element)),shouldFlatten){var elementLen=this.ToLength(this.Get(element,"length"));targetIndex=this.FlattenIntoArray(target,element,elementLen,targetIndex,depth-1)}else{if(targetIndex>=MAX_SAFE_INTEGER)throw new $TypeError("index too large");this.CreateDataPropertyOrThrow(target,this.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex},TrimString:function TrimString(string,where){var T,str=this.RequireObjectCoercible(string),S=this.ToString(str);if("start"===where)T=trimStart(S);else if("end"===where)T=trimEnd(S);else{if("start+end"!==where)throw new $TypeError('Assertion failed: invalid `where` value; must be "start", "end", or "start+end"');T=trimStart(trimEnd(S))}return T}});module.exports=ES2019},function(module,exports,__webpack_require__){var hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,weakMapHas="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,weakSetHas="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,match=String.prototype.match,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,inspectCustom=__webpack_require__(521).custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null;function wrapQuotes(s,defaultStyle,opts){var quoteChar="double"===(opts.quoteStyle||defaultStyle)?'"':"'";return quoteChar+s+quoteChar}function quote(s){return String(s).replace(/"/g,"&quot;")}function isArray(obj){return"[object Array]"===toStr(obj)}function isSymbol(obj){return"[object Symbol]"===toStr(obj)}module.exports=function inspect_(obj,options,depth,seen){var opts=options||{};if(has(opts,"quoteStyle")&&"single"!==opts.quoteStyle&&"double"!==opts.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===obj)return"undefined";if(null===obj)return"null";if("boolean"==typeof obj)return obj?"true":"false";if("string"==typeof obj)return function inspectString(str,opts){return wrapQuotes(str.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,lowbyte),"single",opts)}(obj,opts);if("number"==typeof obj)return 0===obj?1/0/obj>0?"0":"-0":String(obj);if("bigint"==typeof obj)return String(obj)+"n";var maxDepth=void 0===opts.depth?5:opts.depth;if(void 0===depth&&(depth=0),depth>=maxDepth&&maxDepth>0&&"object"==typeof obj)return"[Object]";if(void 0===seen)seen=[];else if(function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}(seen,obj)>=0)return"[Circular]";function inspect(value,from){return from&&(seen=seen.slice()).push(from),inspect_(value,opts,depth+1,seen)}if("function"==typeof obj){var name=function nameOf(f){if(f.name)return f.name;var m=match.call(f,/^function\s*([\w$]+)/);if(m)return m[1];return null}(obj);return"[Function"+(name?": "+name:"")+"]"}if(isSymbol(obj)){var symString=Symbol.prototype.toString.call(obj);return"object"==typeof obj?markBoxed(symString):symString}if(function isElement(x){if(!x||"object"!=typeof x)return!1;if("undefined"!=typeof HTMLElement&&x instanceof HTMLElement)return!0;return"string"==typeof x.nodeName&&"function"==typeof x.getAttribute}(obj)){for(var s="<"+String(obj.nodeName).toLowerCase(),attrs=obj.attributes||[],i=0;i<attrs.length;i++)s+=" "+attrs[i].name+"="+wrapQuotes(quote(attrs[i].value),"double",opts);return s+=">",obj.childNodes&&obj.childNodes.length&&(s+="..."),s+="</"+String(obj.nodeName).toLowerCase()+">"}if(isArray(obj))return 0===obj.length?"[]":"[ "+arrObjKeys(obj,inspect).join(", ")+" ]";if(function isError(obj){return"[object Error]"===toStr(obj)}(obj)){var parts=arrObjKeys(obj,inspect);return 0===parts.length?"["+String(obj)+"]":"{ ["+String(obj)+"] "+parts.join(", ")+" }"}if("object"==typeof obj){if(inspectSymbol&&"function"==typeof obj[inspectSymbol])return obj[inspectSymbol]();if("function"==typeof obj.inspect)return obj.inspect()}if(function isMap(x){if(!mapSize||!x||"object"!=typeof x)return!1;try{mapSize.call(x);try{setSize.call(x)}catch(s){return!0}return x instanceof Map}catch(e){}return!1}(obj)){var mapParts=[];return mapForEach.call(obj,function(value,key){mapParts.push(inspect(key,obj)+" => "+inspect(value,obj))}),collectionOf("Map",mapSize.call(obj),mapParts)}if(function isSet(x){if(!setSize||!x||"object"!=typeof x)return!1;try{setSize.call(x);try{mapSize.call(x)}catch(m){return!0}return x instanceof Set}catch(e){}return!1}(obj)){var setParts=[];return setForEach.call(obj,function(value){setParts.push(inspect(value,obj))}),collectionOf("Set",setSize.call(obj),setParts)}if(function isWeakMap(x){if(!weakMapHas||!x||"object"!=typeof x)return!1;try{weakMapHas.call(x,weakMapHas);try{weakSetHas.call(x,weakSetHas)}catch(s){return!0}return x instanceof WeakMap}catch(e){}return!1}(obj))return weakCollectionOf("WeakMap");if(function isWeakSet(x){if(!weakSetHas||!x||"object"!=typeof x)return!1;try{weakSetHas.call(x,weakSetHas);try{weakMapHas.call(x,weakMapHas)}catch(s){return!0}return x instanceof WeakSet}catch(e){}return!1}(obj))return weakCollectionOf("WeakSet");if(function isNumber(obj){return"[object Number]"===toStr(obj)}(obj))return markBoxed(inspect(Number(obj)));if(function isBigInt(obj){return"[object BigInt]"===toStr(obj)}(obj))return markBoxed(inspect(bigIntValueOf.call(obj)));if(function isBoolean(obj){return"[object Boolean]"===toStr(obj)}(obj))return markBoxed(booleanValueOf.call(obj));if(function isString(obj){return"[object String]"===toStr(obj)}(obj))return markBoxed(inspect(String(obj)));if(!function isDate(obj){return"[object Date]"===toStr(obj)}(obj)&&!function isRegExp(obj){return"[object RegExp]"===toStr(obj)}(obj)){var xs=arrObjKeys(obj,inspect);return 0===xs.length?"{}":"{ "+xs.join(", ")+" }"}return String(obj)};var hasOwn=Object.prototype.hasOwnProperty||function(key){return key in this};function has(obj,key){return hasOwn.call(obj,key)}function toStr(obj){return objectToString.call(obj)}function lowbyte(c){var n=c.charCodeAt(0),x={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return x?"\\"+x:"\\x"+(n<16?"0":"")+n.toString(16)}function markBoxed(str){return"Object("+str+")"}function weakCollectionOf(type){return type+" { ? }"}function collectionOf(type,size,entries){return type+" ("+size+") {"+entries.join(", ")+"}"}function arrObjKeys(obj,inspect){var isArr=isArray(obj),xs=[];if(isArr){xs.length=obj.length;for(var i=0;i<obj.length;i++)xs[i]=has(obj,i)?inspect(obj[i],obj):""}for(var key in obj)has(obj,key)&&(isArr&&String(Number(key))===key&&key<obj.length||(/[^\w$]/.test(key)?xs.push(inspect(key,obj)+": "+inspect(obj[key],obj)):xs.push(key+": "+inspect(obj[key],obj))));return xs}},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(523);module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";module.exports=Number.isNaN||function isNaN(a){return a!=a}},function(module,exports,__webpack_require__){"use strict";module.exports=function forEach(array,callback){for(var i=0;i<array.length;i+=1)callback(array[i],i,array)}},function(module,exports,__webpack_require__){"use strict";module.exports=function every(array,predicate){for(var i=0;i<array.length;i+=1)if(!predicate(array[i],i,array))return!1;return!0}},function(module,exports,__webpack_require__){"use strict";module.exports=function requirePromise(){if("function"!=typeof Promise)throw new TypeError("`Promise.allSettled` requires a global `Promise` be available.");if("function"!=typeof Array.from)throw new TypeError("`Promise.allSettled` requires `Array.from` be available.")}},function(module,exports,__webpack_require__){var global=__webpack_require__(6),isObject=__webpack_require__(12),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},function(module,exports,__webpack_require__){var global=__webpack_require__(6),createNonEnumerableProperty=__webpack_require__(25);module.exports=function(key,value){try{createNonEnumerableProperty(global,key,value)}catch(error){global[key]=value}return value}},function(module,exports,__webpack_require__){var shared=__webpack_require__(109),functionToString=Function.toString;module.exports=shared("inspectSource",function(it){return functionToString.call(it)})},function(module,exports,__webpack_require__){var global=__webpack_require__(6);module.exports=global},function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__(51),toLength=__webpack_require__(27),toAbsoluteIndex=__webpack_require__(300),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){"use strict";var toPrimitive=__webpack_require__(83),definePropertyModule=__webpack_require__(21),createPropertyDescriptor=__webpack_require__(82);module.exports=function(object,key,value){var propertyKey=toPrimitive(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7);module.exports=!!Object.getOwnPropertySymbols&&!fails(function(){return!String(Symbol())})},function(module,exports,__webpack_require__){var match,version,global=__webpack_require__(6),userAgent=__webpack_require__(303),process=global.process,versions=process&&process.versions,v8=versions&&versions.v8;v8?version=(match=v8.split("."))[0]+match[1]:userAgent&&(!(match=userAgent.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/))&&(version=match[1]),module.exports=version&&+version},function(module,exports,__webpack_require__){var test={};test[__webpack_require__(10)("toStringTag")]="z",module.exports="[object z]"===String(test)},function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__(10),create=__webpack_require__(69),createNonEnumerableProperty=__webpack_require__(25),UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&createNonEnumerableProperty(ArrayPrototype,UNSCOPABLES,create(null)),module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=!0}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),createIteratorConstructor=__webpack_require__(576),getPrototypeOf=__webpack_require__(193),setPrototypeOf=__webpack_require__(194),setToStringTag=__webpack_require__(56),createNonEnumerableProperty=__webpack_require__(25),redefine=__webpack_require__(26),wellKnownSymbol=__webpack_require__(10),IS_PURE=__webpack_require__(67),Iterators=__webpack_require__(89),IteratorsCore=__webpack_require__(309),IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":return function keys(){return new IteratorConstructor(this,KIND)};case"values":return function values(){return new IteratorConstructor(this,KIND)};case"entries":return function entries(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)),IteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):"function"!=typeof CurrentIteratorPrototype[ITERATOR]&&createNonEnumerableProperty(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis))),"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(INCORRECT_VALUES_NAME=!0,defaultIterator=function values(){return nativeIterator.call(this)}),IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||createNonEnumerableProperty(IterablePrototype,ITERATOR,defaultIterator),Iterators[NAME]=defaultIterator,DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)!BUGGY_SAFARI_ITERATORS&&!INCORRECT_VALUES_NAME&&KEY in IterablePrototype||redefine(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return methods}},function(module,exports,__webpack_require__){var has=__webpack_require__(20),toObject=__webpack_require__(28),sharedKey=__webpack_require__(110),CORRECT_PROTOTYPE_GETTER=__webpack_require__(310),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectPrototype:null}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(17),aPossiblePrototype=__webpack_require__(577);module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function setPrototypeOf(O,proto){return anObject(O),aPossiblePrototype(proto),CORRECT_SETTER?setter.call(O,proto):O.__proto__=proto,O}}():void 0)},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(10)("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(error){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1;var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT}},function(module,exports,__webpack_require__){var $=__webpack_require__(3),$entries=__webpack_require__(317).entries;$({target:"Object",stat:!0},{entries:function entries(O){return $entries(O)}})},function(module,exports,__webpack_require__){var $=__webpack_require__(3),fails=__webpack_require__(7),toObject=__webpack_require__(28),nativeGetPrototypeOf=__webpack_require__(193),CORRECT_PROTOTYPE_GETTER=__webpack_require__(310);$({target:"Object",stat:!0,forced:fails(function(){nativeGetPrototypeOf(1)}),sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function getPrototypeOf(it){return nativeGetPrototypeOf(toObject(it))}})},function(module,exports,__webpack_require__){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=function deprecate(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){var $=__webpack_require__(3),$values=__webpack_require__(317).values;$({target:"Object",stat:!0},{values:function values(O){return $values(O)}})},function(module,exports,__webpack_require__){var IndexedObject=__webpack_require__(599),requireObjectCoercible=__webpack_require__(600);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},function(module,exports,__webpack_require__){var global=__webpack_require__(30),createNonEnumerableProperty=__webpack_require__(126);module.exports=function(key,value){try{createNonEnumerableProperty(global,key,value)}catch(error){global[key]=value}return value}},function(module,exports,__webpack_require__){var path=__webpack_require__(610),global=__webpack_require__(30),aFunction=function(variable){return"function"==typeof variable?variable:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),global=__webpack_require__(6),isForced=__webpack_require__(114),redefine=__webpack_require__(26),InternalMetadataModule=__webpack_require__(95),iterate=__webpack_require__(121),anInstance=__webpack_require__(120),isObject=__webpack_require__(12),fails=__webpack_require__(7),checkCorrectnessOfIteration=__webpack_require__(195),setToStringTag=__webpack_require__(56),inheritIfRequired=__webpack_require__(344);module.exports=function(CONSTRUCTOR_NAME,wrapper,common){var IS_MAP=-1!==CONSTRUCTOR_NAME.indexOf("Map"),IS_WEAK=-1!==CONSTRUCTOR_NAME.indexOf("Weak"),ADDER=IS_MAP?"set":"add",NativeConstructor=global[CONSTRUCTOR_NAME],NativePrototype=NativeConstructor&&NativeConstructor.prototype,Constructor=NativeConstructor,exported={},fixMethod=function(KEY){var nativeMethod=NativePrototype[KEY];redefine(NativePrototype,KEY,"add"==KEY?function add(value){return nativeMethod.call(this,0===value?0:value),this}:"delete"==KEY?function(key){return!(IS_WEAK&&!isObject(key))&&nativeMethod.call(this,0===key?0:key)}:"get"==KEY?function get(key){return IS_WEAK&&!isObject(key)?void 0:nativeMethod.call(this,0===key?0:key)}:"has"==KEY?function has(key){return!(IS_WEAK&&!isObject(key))&&nativeMethod.call(this,0===key?0:key)}:function set(key,value){return nativeMethod.call(this,0===key?0:key,value),this})};if(isForced(CONSTRUCTOR_NAME,"function"!=typeof NativeConstructor||!(IS_WEAK||NativePrototype.forEach&&!fails(function(){(new NativeConstructor).entries().next()}))))Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER),InternalMetadataModule.REQUIRED=!0;else if(isForced(CONSTRUCTOR_NAME,!0)){var instance=new Constructor,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=checkCorrectnessOfIteration(function(iterable){new NativeConstructor(iterable)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new NativeConstructor,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||((Constructor=wrapper(function(dummy,iterable){anInstance(dummy,Constructor,CONSTRUCTOR_NAME);var that=inheritIfRequired(new NativeConstructor,dummy,Constructor);return null!=iterable&&iterate(iterable,that[ADDER],that,IS_MAP),that})).prototype=NativePrototype,NativePrototype.constructor=Constructor),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&NativePrototype.clear&&delete NativePrototype.clear}return exported[CONSTRUCTOR_NAME]=Constructor,$({global:!0,forced:Constructor!=NativeConstructor},exported),setToStringTag(Constructor,CONSTRUCTOR_NAME),IS_WEAK||common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP),Constructor}},function(module,exports,__webpack_require__){"use strict";var charAt=__webpack_require__(319).charAt;module.exports=function(S,index,unicode){return index+(unicode?charAt(S,index).length:1)}},function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__(130),anObject=__webpack_require__(17),requireObjectCoercible=__webpack_require__(33),sameValue=__webpack_require__(631),regExpExec=__webpack_require__(131);fixRegExpWellKnownSymbolLogic("search",1,function(SEARCH,nativeSearch,maybeCallNative){return[function search(regexp){var O=requireObjectCoercible(this),searcher=null==regexp?void 0:regexp[SEARCH];return void 0!==searcher?searcher.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},function(regexp){var res=maybeCallNative(nativeSearch,regexp,this);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),previousLastIndex=rx.lastIndex;sameValue(previousLastIndex,0)||(rx.lastIndex=0);var result=regExpExec(rx,S);return sameValue(rx.lastIndex,previousLastIndex)||(rx.lastIndex=previousLastIndex),null===result?-1:result.index}]})},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function arrayToObject(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject:arrayToObject,assign:function assignSingleSource(target,source){return Object.keys(source).reduce(function(acc,key){return acc[key]=source[key],acc},target)},combine:function combine(a,b){return[].concat(a,b)},compact:function compact(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function compactQueue(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function encode(str,defaultEncoder,charset){if(0===str.length)return str;var string=str;if("symbol"==typeof str?string=Symbol.prototype.toString.call(str):"string"!=typeof str&&(string=String(str)),"iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"});for(var out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function isBuffer(obj){return!(!obj||"object"!=typeof obj)&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))},isRegExp:function isRegExp(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach(function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)}}},function(module,exports,__webpack_require__){var require;module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){if(!u&&"function"==typeof require&&require)return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){module.exports=function(forceSimilar){return"function"!=typeof Map||forceSimilar?new(_dereq_("./similar")):new Map}},{"./similar":2}],2:[function(_dereq_,module,exports){function Similar(){return this.list=[],this.lastItem=void 0,this.size=0,this}Similar.prototype.get=function(key){var index;return this.lastItem&&this.isEqual(this.lastItem.key,key)?this.lastItem.val:(index=this.indexOf(key))>=0?(this.lastItem=this.list[index],this.list[index].val):void 0},Similar.prototype.set=function(key,val){var index;return this.lastItem&&this.isEqual(this.lastItem.key,key)?(this.lastItem.val=val,this):(index=this.indexOf(key))>=0?(this.lastItem=this.list[index],this.list[index].val=val,this):(this.lastItem={key:key,val:val},this.list.push(this.lastItem),this.size++,this)},Similar.prototype.delete=function(key){var index;if(this.lastItem&&this.isEqual(this.lastItem.key,key)&&(this.lastItem=void 0),(index=this.indexOf(key))>=0)return this.size--,this.list.splice(index,1)[0]},Similar.prototype.has=function(key){var index;return!(!this.lastItem||!this.isEqual(this.lastItem.key,key))||(index=this.indexOf(key))>=0&&(this.lastItem=this.list[index],!0)},Similar.prototype.forEach=function(callback,thisArg){var i;for(i=0;i<this.size;i++)callback.call(thisArg||this,this.list[i].val,this.list[i].key,this)},Similar.prototype.indexOf=function(key){var i;for(i=0;i<this.size;i++)if(this.isEqual(this.list[i].key,key))return i;return-1},Similar.prototype.isEqual=function(val1,val2){return val1===val2||val1!=val1&&val2!=val2},module.exports=Similar},{}],3:[function(_dereq_,module,exports){var MapOrSimilar=_dereq_("map-or-similar");function moveToMostRecentLru(lru,lruPath){var isMatch,i,ii,val1,val2,lruLen=lru.length,lruPathLen=lruPath.length;for(i=0;i<lruLen;i++){for(isMatch=!0,ii=0;ii<lruPathLen;ii++)if(val1=lru[i][ii].arg,val2=lruPath[ii].arg,val1!==val2&&(val1==val1||val2==val2)){isMatch=!1;break}if(isMatch)break}lru.push(lru.splice(i,1)[0])}function removeCachedResult(removedLru){var tmp,i,removedLruLen=removedLru.length,currentLru=removedLru[removedLruLen-1];for(currentLru.cacheItem.delete(currentLru.arg),i=removedLruLen-2;i>=0&&(!(tmp=(currentLru=removedLru[i]).cacheItem.get(currentLru.arg))||!tmp.size);i--)currentLru.cacheItem.delete(currentLru.arg)}module.exports=function(limit){var cache=new MapOrSimilar(!1),lru=[];return function(fn){var memoizerific=function(){var newMap,fnResult,i,currentCache=cache,argsLengthMinusOne=arguments.length-1,lruPath=Array(argsLengthMinusOne+1),isMemoized=!0;if((memoizerific.numArgs||0===memoizerific.numArgs)&&memoizerific.numArgs!==argsLengthMinusOne+1)throw new Error("Memoizerific functions should always be called with the same number of arguments");for(i=0;i<argsLengthMinusOne;i++)lruPath[i]={cacheItem:currentCache,arg:arguments[i]},currentCache.has(arguments[i])?currentCache=currentCache.get(arguments[i]):(isMemoized=!1,newMap=new MapOrSimilar(!1),currentCache.set(arguments[i],newMap),currentCache=newMap);return isMemoized&&(currentCache.has(arguments[argsLengthMinusOne])?fnResult=currentCache.get(arguments[argsLengthMinusOne]):isMemoized=!1),isMemoized||(fnResult=fn.apply(null,arguments),currentCache.set(arguments[argsLengthMinusOne],fnResult)),limit>0&&(lruPath[argsLengthMinusOne]={cacheItem:currentCache,arg:arguments[argsLengthMinusOne]},isMemoized?moveToMostRecentLru(lru,lruPath):lru.push(lruPath),lru.length>limit&&removeCachedResult(lru.shift())),memoizerific.wasMemoized=isMemoized,memoizerific.numArgs=argsLengthMinusOne+1,fnResult};return memoizerific.limit=limit,memoizerific.wasMemoized=!1,memoizerific.cache=cache,memoizerific.lru=lru,memoizerific}}},{"map-or-similar":1}]},{},[3])(3)},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(643);module.exports=function toString(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(644).Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var Map=__webpack_require__(61)(__webpack_require__(31),"Map");module.exports=Map},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(75),isObject=__webpack_require__(47),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";module.exports=function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(682),mapCacheDelete=__webpack_require__(689),mapCacheGet=__webpack_require__(691),mapCacheHas=__webpack_require__(692),mapCacheSet=__webpack_require__(693);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(357);module.exports=function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},function(module,exports){var objectProto=Object.prototype;module.exports=function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(31),stubFalse=__webpack_require__(705),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(90)(module))},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(707),baseUnary=__webpack_require__(708),nodeUtil=__webpack_require__(709),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"HooksContext",{enumerable:!0,get:function get(){return _addons.HooksContext}}),Object.defineProperty(exports,"applyHooks",{enumerable:!0,get:function get(){return _addons.applyHooks}}),Object.defineProperty(exports,"useMemo",{enumerable:!0,get:function get(){return _addons.useMemo}}),Object.defineProperty(exports,"useCallback",{enumerable:!0,get:function get(){return _addons.useCallback}}),Object.defineProperty(exports,"useRef",{enumerable:!0,get:function get(){return _addons.useRef}}),Object.defineProperty(exports,"useState",{enumerable:!0,get:function get(){return _addons.useState}}),Object.defineProperty(exports,"useReducer",{enumerable:!0,get:function get(){return _addons.useReducer}}),Object.defineProperty(exports,"useEffect",{enumerable:!0,get:function get(){return _addons.useEffect}}),Object.defineProperty(exports,"useChannel",{enumerable:!0,get:function get(){return _addons.useChannel}}),Object.defineProperty(exports,"useStoryContext",{enumerable:!0,get:function get(){return _addons.useStoryContext}}),Object.defineProperty(exports,"useParameter",{enumerable:!0,get:function get(){return _addons.useParameter}});var _addons=__webpack_require__(117)},function(module,exports,__webpack_require__){var IndexedObject=__webpack_require__(768),requireObjectCoercible=__webpack_require__(770);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},function(module,exports,__webpack_require__){var global=__webpack_require__(36),createNonEnumerableProperty=__webpack_require__(142);module.exports=function(key,value){try{createNonEnumerableProperty(global,key,value)}catch(error){global[key]=value}return value}},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function arrayToObject(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject:arrayToObject,assign:function assignSingleSource(target,source){return Object.keys(source).reduce(function(acc,key){return acc[key]=source[key],acc},target)},combine:function combine(a,b){return[].concat(a,b)},compact:function compact(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function compactQueue(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function encode(str,defaultEncoder,charset){if(0===str.length)return str;var string=str;if("symbol"==typeof str?string=Symbol.prototype.toString.call(str):"string"!=typeof str&&(string=String(str)),"iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"});for(var out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function isBuffer(obj){return!(!obj||"object"!=typeof obj)&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))},isRegExp:function isRegExp(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach(function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)}}},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(390),isObjectLike=__webpack_require__(833),symbolTag="[object Symbol]";module.exports=function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(224).Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(830),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function arrayToObject(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject:arrayToObject,assign:function assignSingleSource(target,source){return Object.keys(source).reduce(function(acc,key){return acc[key]=source[key],acc},target)},combine:function combine(a,b){return[].concat(a,b)},compact:function compact(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function compactQueue(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function encode(str,defaultEncoder,charset){if(0===str.length)return str;var string=str;if("symbol"==typeof str?string=Symbol.prototype.toString.call(str):"string"!=typeof str&&(string=String(str)),"iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"});for(var out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function isBuffer(obj){return!(!obj||"object"!=typeof obj)&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))},isRegExp:function isRegExp(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach(function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(882)()},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.MemoryCryptoStore=void 0;var _logger=__webpack_require__(2),utils=_interopRequireWildcard(__webpack_require__(5));exports.MemoryCryptoStore=class MemoryCryptoStore{constructor(){this._outgoingRoomKeyRequests=[],this._account=null,this._crossSigningKeys=null,this._sessions={},this._sessionProblems={},this._notifiedErrorDevices={},this._inboundGroupSessions={},this._inboundGroupSessionsWithheld={},this._deviceData=null,this._rooms={},this._sessionsNeedingBackup={}}deleteAllData(){return Promise.resolve()}getOrAddOutgoingRoomKeyRequest(request){const requestBody=request.requestBody;return utils.promiseTry(()=>{const existing=this._getOutgoingRoomKeyRequest(requestBody);return existing?(_logger.logger.log("already have key request outstanding for "+`${requestBody.room_id} / ${requestBody.session_id}: `+"not sending another"),existing):(_logger.logger.log(`enqueueing key request for ${requestBody.room_id} / `+requestBody.session_id),this._outgoingRoomKeyRequests.push(request),request)})}getOutgoingRoomKeyRequest(requestBody){return Promise.resolve(this._getOutgoingRoomKeyRequest(requestBody))}_getOutgoingRoomKeyRequest(requestBody){for(const existing of this._outgoingRoomKeyRequests)if(utils.deepCompare(existing.requestBody,requestBody))return existing;return null}getOutgoingRoomKeyRequestByState(wantedStates){for(const req of this._outgoingRoomKeyRequests)for(const state of wantedStates)if(req.state===state)return Promise.resolve(req);return Promise.resolve(null)}getOutgoingRoomKeyRequestsByTarget(userId,deviceId,wantedStates){const results=[];for(const req of this._outgoingRoomKeyRequests)for(const state of wantedStates)req.state===state&&req.recipients.includes({userId:userId,deviceId:deviceId})&&results.push(req);return Promise.resolve(results)}updateOutgoingRoomKeyRequest(requestId,expectedState,updates){for(const req of this._outgoingRoomKeyRequests)if(req.requestId===requestId)return req.state!=expectedState?(_logger.logger.warn(`Cannot update room key request from ${expectedState} `+`as it was already updated to ${req.state}`),Promise.resolve(null)):(Object.assign(req,updates),Promise.resolve(req));return Promise.resolve(null)}deleteOutgoingRoomKeyRequest(requestId,expectedState){for(let i=0;i<this._outgoingRoomKeyRequests.length;i++){const req=this._outgoingRoomKeyRequests[i];if(req.requestId===requestId)return req.state!=expectedState?(_logger.logger.warn(`Cannot delete room key request in state ${req.state} `+`(expected ${expectedState})`),Promise.resolve(null)):(this._outgoingRoomKeyRequests.splice(i,1),Promise.resolve(req))}return Promise.resolve(null)}getAccount(txn,func){func(this._account)}storeAccount(txn,newData){this._account=newData}getCrossSigningKeys(txn,func){func(this._crossSigningKeys)}storeCrossSigningKeys(txn,keys){this._crossSigningKeys=keys}countEndToEndSessions(txn,func){return Object.keys(this._sessions).length}getEndToEndSession(deviceKey,sessionId,txn,func){func((this._sessions[deviceKey]||{})[sessionId]||null)}getEndToEndSessions(deviceKey,txn,func){func(this._sessions[deviceKey]||{})}getAllEndToEndSessions(txn,func){for(const deviceSessions of Object.values(this._sessions))for(const sess of Object.values(deviceSessions))func(sess)}storeEndToEndSession(deviceKey,sessionId,sessionInfo,txn){let deviceSessions=this._sessions[deviceKey];void 0===deviceSessions&&(deviceSessions={},this._sessions[deviceKey]=deviceSessions),deviceSessions[sessionId]=sessionInfo}async storeEndToEndSessionProblem(deviceKey,type,fixed){const problems=this._sessionProblems[deviceKey]=this._sessionProblems[deviceKey]||[];problems.push({type:type,fixed:fixed,time:Date.now()}),problems.sort((a,b)=>a.time-b.time)}async getEndToEndSessionProblem(deviceKey,timestamp){const problems=this._sessionProblems[deviceKey]||[];if(!problems.length)return null;const lastProblem=problems[problems.length-1];for(const problem of problems)if(problem.time>timestamp)return Object.assign({},problem,{fixed:lastProblem.fixed});return lastProblem.fixed?null:lastProblem}async filterOutNotifiedErrorDevices(devices){const notifiedErrorDevices=this._notifiedErrorDevices,ret=[];for(const device of devices){const{userId:userId,deviceInfo:deviceInfo}=device;userId in notifiedErrorDevices?deviceInfo.deviceId in notifiedErrorDevices[userId]||(ret.push(device),notifiedErrorDevices[userId][deviceInfo.deviceId]=!0):(ret.push(device),notifiedErrorDevices[userId]={[deviceInfo.deviceId]:!0})}return ret}getEndToEndInboundGroupSession(senderCurve25519Key,sessionId,txn,func){const k=senderCurve25519Key+"/"+sessionId;func(this._inboundGroupSessions[k]||null,this._inboundGroupSessionsWithheld[k]||null)}getAllEndToEndInboundGroupSessions(txn,func){for(const key of Object.keys(this._inboundGroupSessions))func({senderKey:key.substr(0,43),sessionId:key.substr(44),sessionData:this._inboundGroupSessions[key]});func(null)}addEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn){const k=senderCurve25519Key+"/"+sessionId;void 0===this._inboundGroupSessions[k]&&(this._inboundGroupSessions[k]=sessionData)}storeEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn){this._inboundGroupSessions[senderCurve25519Key+"/"+sessionId]=sessionData}storeEndToEndInboundGroupSessionWithheld(senderCurve25519Key,sessionId,sessionData,txn){const k=senderCurve25519Key+"/"+sessionId;this._inboundGroupSessionsWithheld[k]=sessionData}getEndToEndDeviceData(txn,func){func(this._deviceData)}storeEndToEndDeviceData(deviceData,txn){this._deviceData=deviceData}storeEndToEndRoom(roomId,roomInfo,txn){this._rooms[roomId]=roomInfo}getEndToEndRooms(txn,func){func(this._rooms)}getSessionsNeedingBackup(limit){const sessions=[];for(const session in this._sessionsNeedingBackup)if(this._inboundGroupSessions[session]&&(sessions.push({senderKey:session.substr(0,43),sessionId:session.substr(44),sessionData:this._inboundGroupSessions[session]}),limit&&session.length>=limit))break;return Promise.resolve(sessions)}countSessionsNeedingBackup(){return Promise.resolve(Object.keys(this._sessionsNeedingBackup).length)}unmarkSessionsNeedingBackup(sessions){for(const session of sessions){const sessionKey=session.senderKey+"/"+session.sessionId;delete this._sessionsNeedingBackup[sessionKey]}return Promise.resolve()}markSessionsNeedingBackup(sessions){for(const session of sessions){const sessionKey=session.senderKey+"/"+session.sessionId;this._sessionsNeedingBackup[sessionKey]=!0}return Promise.resolve()}doTxn(mode,stores,func){return Promise.resolve(func(null))}}},function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__(890),util=__webpack_require__(891);function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=urlParse,exports.resolve=function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)},exports.resolveObject=function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative},exports.format=function urlFormat(obj){util.isString(obj)&&(obj=urlParse(obj));return obj instanceof Url?obj.format():Url.prototype.format.call(obj)},exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,unwise=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=__webpack_require__(892);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/");var rest=url=uSplit.join(splitter);if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var auth,atSign,hostEnd=-1,i=0;i<hostEndingChars.length;i++){-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(i=0;i<nonHostChars.length;i++){var hec;-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),l=(i=0,hostparts.length);i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){p=this.pathname||"";var s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+(pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}))+(search=search.replace("#","%23"))+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],psychotic=(relPath=relative.pathname&&relative.pathname.split("/")||[],result.protocol&&!slashedProtocol[result.protocol]);if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic)result.hostname=result.host=srcPath.shift(),(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift());return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)"."===(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var authInHost,isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);psychotic&&(result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"",(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift()));return(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PushProcessor=PushProcessor;var _utils=__webpack_require__(5);const RULEKINDS_IN_ORDER=["override","content","room","sender","underride"],DEFAULT_OVERRIDE_RULES=[{rule_id:".m.rule.tombstone",default:!0,enabled:!0,conditions:[{kind:"event_match",key:"type",pattern:"m.room.tombstone"},{kind:"event_match",key:"state_key",pattern:""}],actions:["notify",{set_tweak:"highlight",value:!0}]},{rule_id:".m.rule.reaction",default:!0,enabled:!0,conditions:[{kind:"event_match",key:"type",pattern:"m.reaction"}],actions:["dont_notify"]}];function PushProcessor(client){const cachedGlobToRegex={},matchingRuleFromKindSet=(ev,kindset,device)=>{for(let ruleKindIndex=0;ruleKindIndex<RULEKINDS_IN_ORDER.length;++ruleKindIndex){const kind=RULEKINDS_IN_ORDER[ruleKindIndex],ruleset=kindset[kind];for(let ruleIndex=0;ruleIndex<ruleset.length;++ruleIndex){const rule=ruleset[ruleIndex];if(!rule.enabled)continue;const rawrule=templateRuleToRaw(kind,rule,device);if(rawrule&&this.ruleMatchesEvent(rawrule,ev))return rule.kind=kind,rule}}return null},templateRuleToRaw=function(kind,tprule,device){const rawrule={rule_id:tprule.rule_id,actions:tprule.actions,conditions:[]};switch(kind){case"underride":case"override":rawrule.conditions=tprule.conditions;break;case"room":if(!tprule.rule_id)return null;rawrule.conditions.push({kind:"event_match",key:"room_id",value:tprule.rule_id});break;case"sender":if(!tprule.rule_id)return null;rawrule.conditions.push({kind:"event_match",key:"user_id",value:tprule.rule_id});break;case"content":if(!tprule.pattern)return null;rawrule.conditions.push({kind:"event_match",key:"content.body",pattern:tprule.pattern})}return device&&rawrule.conditions.push({kind:"device",profile_tag:device}),rawrule},eventFulfillsCondition=function(cond,ev){const condition_functions={event_match:eventFulfillsEventMatchCondition,device:eventFulfillsDeviceCondition,contains_display_name:eventFulfillsDisplayNameCondition,room_member_count:eventFulfillsRoomMemberCountCondition,sender_notification_permission:eventFulfillsSenderNotifPermCondition};return!!condition_functions[cond.kind]&&condition_functions[cond.kind](cond,ev)},eventFulfillsSenderNotifPermCondition=function(cond,ev){const notifLevelKey=cond.key;if(!notifLevelKey)return!1;const room=client.getRoom(ev.getRoomId());return!(!room||!room.currentState)&&room.currentState.mayTriggerNotifOfType(notifLevelKey,ev.getSender())},eventFulfillsRoomMemberCountCondition=function(cond,ev){if(!cond.is)return!1;const room=client.getRoom(ev.getRoomId());if(!room||!room.currentState||!room.currentState.members)return!1;const memberCount=room.currentState.getJoinedMemberCount(),m=cond.is.match(/^([=<>]*)([0-9]*)$/);if(!m)return!1;const ineq=m[1],rhs=parseInt(m[2]);if(isNaN(rhs))return!1;switch(ineq){case"":case"==":return memberCount==rhs;case"<":return memberCount<rhs;case">":return memberCount>rhs;case"<=":return memberCount<=rhs;case">=":return memberCount>=rhs;default:return!1}},eventFulfillsDisplayNameCondition=function(cond,ev){let content=ev.getContent();if(ev.isEncrypted()&&ev.getClearContent()&&(content=ev.getClearContent()),!content||!content.body||"string"!=typeof content.body)return!1;const room=client.getRoom(ev.getRoomId());if(!(room&&room.currentState&&room.currentState.members&&room.currentState.getMember(client.credentials.userId)))return!1;const displayName=room.currentState.getMember(client.credentials.userId).name,pat=new RegExp("(^|\\W)"+(0,_utils.escapeRegExp)(displayName)+"(\\W|$)","i");return content.body.search(pat)>-1},eventFulfillsDeviceCondition=function(cond,ev){return!1},eventFulfillsEventMatchCondition=function(cond,ev){if(!cond.key)return!1;const val=valueForDottedKey(cond.key,ev);if("string"!=typeof val)return!1;if(cond.value)return cond.value===val;let regex;return regex="content.body"==cond.key?createCachedRegex("(^|\\W)",cond.pattern,"(\\W|$)"):createCachedRegex("^",cond.pattern,"$"),!!val.match(regex)},createCachedRegex=function(prefix,glob,suffix){return cachedGlobToRegex[glob]?cachedGlobToRegex[glob]:(cachedGlobToRegex[glob]=new RegExp(prefix+(0,_utils.globToRegexp)(glob)+suffix,"i"),cachedGlobToRegex[glob])},valueForDottedKey=function(key,ev){const parts=key.split(".");let val;const firstPart=parts[0];for("content"===firstPart?(val=ev.getContent(),parts.shift()):"type"===firstPart?(val=ev.getType(),parts.shift()):val=ev.event;parts.length>0;){const thisPart=parts.shift();if((0,_utils.isNullOrUndefined)(val[thisPart]))return null;val=val[thisPart]}return val},pushActionsForEventAndRulesets=function(ev,rulesets){const rule=function(ev,rulesets){if(!rulesets||!rulesets.device)return null;if(ev.getSender()==client.credentials.userId)return null;const allDevNames=Object.keys(rulesets.device);for(let i=0;i<allDevNames.length;++i){const devname=allDevNames[i],devrules=rulesets.device[devname],matchingRule=matchingRuleFromKindSet(devrules,devname);if(matchingRule)return matchingRule}return matchingRuleFromKindSet(ev,rulesets.global)}(ev,rulesets);if(!rule)return{};const actionObj=PushProcessor.actionListToActionsObject(rule.actions);return void 0===actionObj.tweaks.highlight&&(actionObj.tweaks.highlight="content"==rule.kind),actionObj};this.ruleMatchesEvent=function(rule,ev){let ret=!0;for(let i=0;i<rule.conditions.length;++i){const cond=rule.conditions[i];ret&=eventFulfillsCondition(cond,ev)}return ret},this.actionsForEvent=function(ev){const rules=function(clientRuleset){const ruleset=JSON.parse(JSON.stringify(clientRuleset));clientRuleset.global||(clientRuleset.global={}),clientRuleset.global.override||(clientRuleset.global.override=[]);const globalOverrides=clientRuleset.global.override;for(const override of DEFAULT_OVERRIDE_RULES){if(!globalOverrides.find(r=>r.rule_id===override.rule_id)){const ruleId=override.rule_id;console.warn(`Adding default global override for ${ruleId}`),globalOverrides.push(override)}}return ruleset}(client.pushRules);return pushActionsForEventAndRulesets(ev,rules)},this.getPushRuleById=function(ruleId){for(const scope of["device","global"])if(void 0!==client.pushRules[scope])for(const kind of RULEKINDS_IN_ORDER)if(void 0!==client.pushRules[scope][kind])for(const rule of client.pushRules[scope][kind])if(rule.rule_id===ruleId)return rule;return null}}PushProcessor.actionListToActionsObject=function(actionlist){const actionobj={notify:!1,tweaks:{}};for(let i=0;i<actionlist.length;++i){const action=actionlist[i];"notify"===action?actionobj.notify=!0:"object"==typeof action&&(void 0===action.value&&(action.value=!0),actionobj.tweaks[action.set_tweak]=action.value)}return actionobj},PushProcessor.rewriteDefaultRules=function(incomingRules){let newRules=JSON.parse(JSON.stringify(incomingRules));return newRules||(newRules={}),newRules.global||(newRules.global={}),newRules.global.override||(newRules.global.override=[]),newRules.global.override=newRules.global.override.map(r=>{const defaultRule=DEFAULT_OVERRIDE_RULES.find(d=>d.rule_id===r.rule_id);return defaultRule?(r.default=defaultRule.default,r.conditions=defaultRule.conditions,r.actions=defaultRule.actions,r):r}),newRules}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Filter=Filter;var _filterComponent=__webpack_require__(898);function setProp(obj,keyNesting,val){const nestedKeys=keyNesting.split(".");let currentObj=obj;for(let i=0;i<nestedKeys.length-1;i++)currentObj[nestedKeys[i]]||(currentObj[nestedKeys[i]]={}),currentObj=currentObj[nestedKeys[i]];currentObj[nestedKeys[nestedKeys.length-1]]=val}function Filter(userId,filterId){this.userId=userId,this.filterId=filterId,this.definition={}}Filter.LAZY_LOADING_MESSAGES_FILTER={lazy_load_members:!0},Filter.LAZY_LOADING_SYNC_FILTER={room:{state:Filter.LAZY_LOADING_MESSAGES_FILTER}},Filter.prototype.getFilterId=function(){return this.filterId},Filter.prototype.getDefinition=function(){return this.definition},Filter.prototype.setDefinition=function(definition){this.definition=definition;const room_filter_json=definition.room,room_filter_fields={};room_filter_json&&(room_filter_json.rooms&&(room_filter_fields.rooms=room_filter_json.rooms),room_filter_json.rooms&&(room_filter_fields.not_rooms=room_filter_json.not_rooms),this._include_leave=room_filter_json.include_leave||!1),this._room_filter=new _filterComponent.FilterComponent(room_filter_fields),this._room_timeline_filter=new _filterComponent.FilterComponent(room_filter_json&&room_filter_json.timeline||{})},Filter.prototype.getRoomTimelineFilterComponent=function(){return this._room_timeline_filter},Filter.prototype.filterRoomTimeline=function(events){return this._room_timeline_filter.filter(this._room_filter.filter(events))},Filter.prototype.setTimelineLimit=function(limit){setProp(this.definition,"room.timeline.limit",limit)},Filter.prototype.setIncludeLeaveRooms=function(includeLeave){setProp(this.definition,"room.include_leave",includeLeave)},Filter.fromJson=function(userId,filterId,jsonObj){const filter=new Filter(userId,filterId);return filter.setDefinition(jsonObj),filter}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoomMember=RoomMember;var _events=__webpack_require__(18),_contentRepo=__webpack_require__(148),utils=_interopRequireWildcard(__webpack_require__(5));function RoomMember(roomId,userId){this.roomId=roomId,this.userId=userId,this.typing=!1,this.name=userId,this.rawDisplayName=userId,this.powerLevel=0,this.powerLevelNorm=0,this.user=null,this.membership=null,this.events={member:null},this._isOutOfBand=!1,this._updateModifiedTime()}utils.inherits(RoomMember,_events.EventEmitter),RoomMember.prototype.markOutOfBand=function(){this._isOutOfBand=!0},RoomMember.prototype.isOutOfBand=function(){return this._isOutOfBand},RoomMember.prototype.setMembershipEvent=function(event,roomState){if("m.room.member"!==event.getType())return;this._isOutOfBand=!1,this.events.member=event;const oldMembership=this.membership;this.membership=event.getDirectionalContent().membership;const oldName=this.name;this.name=function calculateDisplayName(selfUserId,displayName,roomState){if(!displayName||displayName===selfUserId)return selfUserId;if(!utils.removeHiddenChars(displayName))return selfUserId;if(!roomState)return displayName;let disambiguate=/@.+:.+/.test(displayName);disambiguate||(disambiguate=/[\u200E\u200F\u202A-\u202F]/.test(displayName));if(!disambiguate){const userIds=roomState.getUserIdsWithDisplayName(displayName);disambiguate=userIds.some(u=>u!==selfUserId)}if(disambiguate)return displayName+" ("+selfUserId+")";return displayName}(this.userId,event.getDirectionalContent().displayname,roomState),this.rawDisplayName=event.getDirectionalContent().displayname||this.userId,oldMembership!==this.membership&&(this._updateModifiedTime(),this.emit("RoomMember.membership",event,this,oldMembership)),oldName!==this.name&&(this._updateModifiedTime(),this.emit("RoomMember.name",event,this,oldName))},RoomMember.prototype.setPowerLevelEvent=function(powerLevelEvent){if("m.room.power_levels"!==powerLevelEvent.getType())return;const evContent=powerLevelEvent.getDirectionalContent();let maxLevel=evContent.users_default||0;utils.forEach(utils.values(evContent.users),function(lvl){maxLevel=Math.max(maxLevel,lvl)});const oldPowerLevel=this.powerLevel,oldPowerLevelNorm=this.powerLevelNorm;evContent.users&&void 0!==evContent.users[this.userId]?this.powerLevel=evContent.users[this.userId]:void 0!==evContent.users_default?this.powerLevel=evContent.users_default:this.powerLevel=0,this.powerLevelNorm=0,maxLevel>0&&(this.powerLevelNorm=100*this.powerLevel/maxLevel),oldPowerLevel===this.powerLevel&&oldPowerLevelNorm===this.powerLevelNorm||(this._updateModifiedTime(),this.emit("RoomMember.powerLevel",powerLevelEvent,this))},RoomMember.prototype.setTypingEvent=function(event){if("m.typing"!==event.getType())return;const oldTyping=this.typing;this.typing=!1;const typingList=event.getContent().user_ids;utils.isArray(typingList)&&(-1!==typingList.indexOf(this.userId)&&(this.typing=!0),oldTyping!==this.typing&&(this._updateModifiedTime(),this.emit("RoomMember.typing",event,this)))},RoomMember.prototype._updateModifiedTime=function(){this._modified=Date.now()},RoomMember.prototype.getLastModifiedTime=function(){return this._modified},RoomMember.prototype.isKicked=function(){return"leave"===this.membership&&this.events.member.getSender()!==this.events.member.getStateKey()},RoomMember.prototype.getDMInviter=function(){if(this.events.member){const memberEvent=this.events.member;let memberContent=memberEvent.getContent(),inviteSender=memberEvent.getSender();if("join"===memberContent.membership&&(memberContent=memberEvent.getPrevContent(),inviteSender=memberEvent.getUnsigned().prev_sender),"invite"===memberContent.membership&&memberContent.is_direct)return inviteSender}},RoomMember.prototype.getAvatarUrl=function(baseUrl,width,height,resizeMethod,allowDefault,allowDirectLinks){void 0===allowDefault&&(allowDefault=!0);const rawUrl=this.getMxcAvatarUrl();if(!rawUrl&&!allowDefault)return null;const httpUrl=(0,_contentRepo.getHttpUriForMxc)(baseUrl,rawUrl,width,height,resizeMethod,allowDirectLinks);return httpUrl||(allowDefault?(0,_contentRepo.getIdenticonUri)(baseUrl,this.userId,width,height):null)},RoomMember.prototype.getMxcAvatarUrl=function(){return this.events.member?this.events.member.getDirectionalContent().avatar_url:this.user?this.user.avatarUrl:null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReEmitter=void 0;exports.ReEmitter=class ReEmitter{constructor(target){this.target=target,this.boundHandlers={}}_handleEvent(eventName,...args){this.target.emit(eventName,...args)}reEmit(source,eventNames){const forSource=(handler,...args)=>{handler(...args,source)};for(const eventName of eventNames){void 0===this.boundHandlers[eventName]&&(this.boundHandlers[eventName]=this._handleEvent.bind(this,eventName));const boundHandler=forSource.bind(this,this.boundHandlers[eventName]);source.on(eventName,boundHandler)}}}},function(module,exports,__webpack_require__){"use strict";function InvalidStoreError(reason,value){const message=`Store is invalid because ${reason}, `+"please stop the client, delete all data and start the client again",instance=Reflect.construct(Error,[message]);return Reflect.setPrototypeOf(instance,Reflect.getPrototypeOf(this)),instance.reason=reason,instance.value=value,instance}function InvalidCryptoStoreError(reason){const message=`Crypto store is invalid because ${reason}, `+"please stop the client, delete all data and start the client again",instance=Reflect.construct(Error,[message]);return Reflect.setPrototypeOf(instance,Reflect.getPrototypeOf(this)),instance.reason=reason,instance.name="InvalidCryptoStoreError",instance}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidStoreError=InvalidStoreError,exports.InvalidCryptoStoreError=InvalidCryptoStoreError,InvalidStoreError.TOGGLED_LAZY_LOADING="TOGGLED_LAZY_LOADING",InvalidStoreError.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Reflect.setPrototypeOf(InvalidStoreError,Error),InvalidCryptoStoreError.TOO_NEW="TOO_NEW",InvalidCryptoStoreError.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Reflect.setPrototypeOf(InvalidCryptoStoreError,Error)},function(module,exports,__webpack_require__){"use strict";(function(global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var base64=__webpack_require__(906),ieee754=__webpack_require__(907),isArray=__webpack_require__(908);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):"string"==typeof value?function fromString(that,string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||function isnan(val){return val!=val}(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function SlowBuffer(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function isBuffer(b){return!(null==b||!b._isBuffer)},Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function toString(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function inspect(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function includes(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function write(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function slice(start,end){var newBuf,len=this.length;if((start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function readInt8(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function copy(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function fill(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function base64clean(str){if((str=function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}(str).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";for(var escaped=/[\\\"\x00-\x1F]/g,escapes={},i=0;i<32;++i)escapes[String.fromCharCode(i)]="\\U"+("0000"+i.toString(16)).slice(-4).toUpperCase();function escapeString(value){return escaped.lastIndex=0,value.replace(escaped,function(c){return escapes[c]})}function stringify(value){switch(typeof value){case"string":return'"'+escapeString(value)+'"';case"number":return isFinite(value)?value:"null";case"boolean":return value;case"object":return null===value?"null":Array.isArray(value)?function stringifyArray(array){for(var sep="[",result="",i=0;i<array.length;++i)result+=sep,sep=",",result+=stringify(array[i]);return","!=sep?"[]":result+"]"}(value):function stringifyObject(object){var sep="{",result="",keys=Object.keys(object);keys.sort();for(var i=0;i<keys.length;++i){var key=keys[i];result+=sep+'"'+escapeString(key)+'":',sep=",",result+=stringify(object[key])}return","!=sep?"{}":result+"}"}(value);default:throw new Error("Cannot stringify: "+typeof value)}}escapes["\b"]="\\b",escapes["\t"]="\\t",escapes["\n"]="\\n",escapes["\f"]="\\f",escapes["\r"]="\\r",escapes['"']='\\"',escapes["\\"]="\\\\",module.exports={stringify:stringify}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerAlgorithm=function registerAlgorithm(algorithm,encryptor,decryptor){ENCRYPTION_CLASSES[algorithm]=encryptor,DECRYPTION_CLASSES[algorithm]=decryptor},exports.UnknownDeviceError=exports.DecryptionError=exports.DecryptionAlgorithm=exports.EncryptionAlgorithm=exports.DECRYPTION_CLASSES=exports.ENCRYPTION_CLASSES=void 0;const ENCRYPTION_CLASSES={};exports.ENCRYPTION_CLASSES=ENCRYPTION_CLASSES;const DECRYPTION_CLASSES={};exports.DECRYPTION_CLASSES=DECRYPTION_CLASSES;exports.EncryptionAlgorithm=class EncryptionAlgorithm{constructor(params){this._userId=params.userId,this._deviceId=params.deviceId,this._crypto=params.crypto,this._olmDevice=params.olmDevice,this._baseApis=params.baseApis,this._roomId=params.roomId}onRoomMembership(event,member,oldMembership){}};exports.DecryptionAlgorithm=class DecryptionAlgorithm{constructor(params){this._userId=params.userId,this._crypto=params.crypto,this._olmDevice=params.olmDevice,this._baseApis=params.baseApis,this._roomId=params.roomId}onRoomKeyEvent(params){}importRoomKey(session){}hasKeysForKeyRequest(keyRequest){return Promise.resolve(!1)}shareKeysWithDevice(keyRequest){throw new Error("shareKeysWithDevice not supported for this DecryptionAlgorithm")}async retryDecryptionFromSender(senderKey){}};exports.DecryptionError=class DecryptionError extends Error{constructor(code,msg,details){super(msg),this.code=code,this.name="DecryptionError",this.detailedString=function _detailedStringForDecryptionError(err,details){let result=err.name+"[msg: "+err.message;details&&(result+=", "+Object.keys(details).map(k=>k+": "+details[k]).join(", "));return result+="]"}(this,details)}};exports.UnknownDeviceError=class UnknownDeviceError extends Error{constructor(msg,devices){super(msg),this.name="UnknownDeviceError",this.devices=devices}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VerificationRequest=exports.PHASE_DONE=exports.PHASE_CANCELLED=exports.PHASE_STARTED=exports.PHASE_REQUESTED=exports.PHASE_UNSENT=exports.DONE_TYPE=exports.CANCEL_TYPE=exports.START_TYPE=exports.REQUEST_TYPE=exports.EVENT_PREFIX=void 0;var _logger=__webpack_require__(2),_RequestCallbackChannel=__webpack_require__(923),_events=__webpack_require__(18),_Error=__webpack_require__(100);const VERIFICATION_REQUEST_TIMEOUT=6e5,VERIFICATION_REQUEST_MARGIN=3e3,EVENT_PREFIX="m.key.verification.";exports.EVENT_PREFIX=EVENT_PREFIX;const REQUEST_TYPE=EVENT_PREFIX+"request";exports.REQUEST_TYPE=REQUEST_TYPE;const START_TYPE=EVENT_PREFIX+"start";exports.START_TYPE=START_TYPE;const CANCEL_TYPE=EVENT_PREFIX+"cancel";exports.CANCEL_TYPE=CANCEL_TYPE;const DONE_TYPE=EVENT_PREFIX+"done";exports.DONE_TYPE=DONE_TYPE;const PHASE_UNSENT=1;exports.PHASE_UNSENT=PHASE_UNSENT;const PHASE_REQUESTED=2;exports.PHASE_REQUESTED=PHASE_REQUESTED;const PHASE_STARTED=4;exports.PHASE_STARTED=PHASE_STARTED;const PHASE_CANCELLED=5;exports.PHASE_CANCELLED=PHASE_CANCELLED;const PHASE_DONE=6;exports.PHASE_DONE=PHASE_DONE;exports.VerificationRequest=class VerificationRequest extends _events.EventEmitter{constructor(channel,verificationMethods,userId,client){super(),this.channel=channel,this._verificationMethods=verificationMethods,this._client=client,this._commonMethods=[],this._setPhase(PHASE_UNSENT,!1),this._requestEvent=null,this._otherUserId=userId,this._initiatedByMe=null,this._startTimestamp=null}static validateEvent(type,event,timestamp,client){const content=event.getContent();if(!type.startsWith(EVENT_PREFIX))return!1;if(type===REQUEST_TYPE&&!Array.isArray(content.methods))return!1;if(!(type!==REQUEST_TYPE&&type!==START_TYPE||"string"==typeof content.from_device&&0!==content.from_device.length))return!1;if(Number.isFinite(timestamp)){const elapsed=Date.now()-timestamp;if(elapsed>VERIFICATION_REQUEST_TIMEOUT-VERIFICATION_REQUEST_MARGIN||elapsed<-VERIFICATION_REQUEST_TIMEOUT/2)return _logger.logger.log("received verification that is too old or from the future"),!1}return!0}get methods(){return this._commonMethods}get timeout(){const elapsed=Date.now()-this._startTimestamp;return Math.max(0,VERIFICATION_REQUEST_TIMEOUT-elapsed)}get event(){return this._requestEvent}get phase(){return this._phase}get verifier(){return this._verifier}get pending(){return this._phase!==PHASE_UNSENT&&this._phase!==PHASE_DONE&&this._phase!==PHASE_CANCELLED}get initiatedByMe(){return this._initiatedByMe}get requestingUserId(){return this.initiatedByMe?this._client.getUserId():this._otherUserId}get receivingUserId(){return this.initiatedByMe?this._otherUserId:this._client.getUserId()}beginKeyVerification(method,targetDevice=null){if(!this._verifier&&this._hasValidPreStartPhase()){if(this._commonMethods.length&&!this._commonMethods.includes(method))throw(0,_Error.newUnknownMethodError)();if(this._verifier=this._createVerifier(method,null,targetDevice),!this._verifier)throw(0,_Error.newUnknownMethodError)()}return this._verifier}async sendRequest(){if(this._phase===PHASE_UNSENT){this._initiatedByMe=!0,this._setPhase(PHASE_REQUESTED,!1);const methods=[...this._verificationMethods.keys()];await this.channel.send(REQUEST_TYPE,{methods:methods}),this.emit("change")}}async cancel({reason:reason="User declined",code:code="m.user"}={}){if(this._phase!==PHASE_CANCELLED){if(this._verifier)return this._verifier.cancel((0,_Error.errorFactory)(code,reason));this._setPhase(PHASE_CANCELLED,!1),await this.channel.send(CANCEL_TYPE,{code:code,reason:reason}),this.emit("change")}}waitForVerifier(){return this.verifier?Promise.resolve(this.verifier):new Promise(resolve=>{const checkVerifier=()=>{this.verifier&&(this.off("change",checkVerifier),resolve(this.verifier))};this.on("change",checkVerifier)})}_setPhase(phase,notify=!0){this._phase=phase,notify&&this.emit("change")}async handleEvent(type,event,timestamp){const content=event.getContent();type!==REQUEST_TYPE&&type!==START_TYPE||null===this._startTimestamp&&(this._startTimestamp=timestamp),type===REQUEST_TYPE?await this._handleRequest(content,event):type===START_TYPE&&await this._handleStart(content,event),this._verifier&&(type===CANCEL_TYPE||this._verifier.events&&this._verifier.events.includes(type))&&this._verifier.handleEvent(event),type===CANCEL_TYPE?this._handleCancel():type===DONE_TYPE&&this._handleDone()}async _handleRequest(content,event){if(this._phase===PHASE_UNSENT){const otherMethods=content.methods;this._commonMethods=otherMethods.filter(m=>this._verificationMethods.has(m)),this._requestEvent=event,this._initiatedByMe=this._wasSentByMe(event),this._setPhase(PHASE_REQUESTED)}else this._phase!==PHASE_REQUESTED&&(_logger.logger.warn("Ignoring flagged verification request from "+event.getSender()),await this.cancel((0,_Error.errorFromEvent)((0,_Error.newUnexpectedMessageError)())))}_hasValidPreStartPhase(){return this._phase===PHASE_REQUESTED||this.channel.constructor.canCreateRequest(START_TYPE)&&this._phase===PHASE_UNSENT}async _handleStart(content,event){if(this._hasValidPreStartPhase()){const{method:method}=content;this._verificationMethods.has(method)?(this.phase===PHASE_UNSENT&&(this._initiatedByMe=this._wasSentByMe(event)),this._verifier=this._createVerifier(method,event),this._setPhase(PHASE_STARTED)):await this.cancel((0,_Error.errorFromEvent)((0,_Error.newUnknownMethodError)()))}}handleVerifierSend(type,content){type===CANCEL_TYPE?this._handleCancel():type===START_TYPE&&(this._phase!==PHASE_UNSENT&&this._phase!==PHASE_REQUESTED||(this._initiatedByMe=this.phase===PHASE_UNSENT,this._setPhase(PHASE_STARTED)))}_handleCancel(){this._phase!==PHASE_CANCELLED&&this._setPhase(PHASE_CANCELLED)}_handleDone(){this._phase===PHASE_STARTED&&this._setPhase(PHASE_DONE)}_createVerifier(method,startEvent=null,targetDevice=null){const startSentByMe=startEvent&&this._wasSentByMe(startEvent),{userId:userId,deviceId:deviceId}=this._getVerifierTarget(startEvent,targetDevice),VerifierCtor=this._verificationMethods.get(method);if(VerifierCtor)return new VerifierCtor(new _RequestCallbackChannel.RequestCallbackChannel(this,this.channel),this._client,userId,deviceId,startSentByMe?null:startEvent);console.warn("could not find verifier constructor for method",method)}_getVerifierTarget(startEvent,targetDevice){if(targetDevice)return targetDevice;{let targetEvent;if(startEvent&&!this._wasSentByMe(startEvent))targetEvent=startEvent;else{if(!this._requestEvent||this._wasSentByMe(this._requestEvent))throw new Error("can't determine who the verifier should be targeted at. No .request or .start event and no targetDevice");targetEvent=this._requestEvent}const userId=targetEvent.getSender(),content=targetEvent.getContent();return{userId:userId,deviceId:content&&content.from_device}}}_wasSentByMe(event){if(event.getSender()!==this._client.getUserId())return!1;const content=event.getContent();return!(!content||content.from_device!==this._client.getDeviceId())}}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireDefault=__webpack_require__(32),_interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={};exports.default=void 0;var matrixcs=_interopRequireWildcard(__webpack_require__(394));Object.keys(matrixcs).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return matrixcs[key]}}))});var _browserRequest=_interopRequireDefault(__webpack_require__(933)),_qs=_interopRequireDefault(__webpack_require__(934));let indexedDB;matrixcs.request(function(opts,fn){return opts.qs=_qs.default.stringify(opts.qs||{},opts.qsStringifyOptions),(0,_browserRequest.default)(opts,fn)});try{indexedDB=global.indexedDB}catch(e){}indexedDB&&matrixcs.setCryptoStoreFactory(function(){return new matrixcs.IndexedDBCryptoStore(indexedDB,"matrix-js-sdk:crypto")});var _default=matrixcs;exports.default=_default,global.matrixcs=matrixcs}).call(this,__webpack_require__(0))},function(module,exports){!function(global){"use strict";var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)inModule&&(module.exports=runtime);else{(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){var previousPromise;this._invoke=function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;module.exports=function isArguments(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},function(module,exports){module.exports="string"==typeof function foo(){}.name},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(11),toPrimitive=__webpack_require__(433),keys=__webpack_require__(38),GetIntrinsic=__webpack_require__(65),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),$Array=GetIntrinsic("%Array%"),$String=GetIntrinsic("%String%"),$Object=GetIntrinsic("%Object%"),$Number=GetIntrinsic("%Number%"),$Symbol=GetIntrinsic("%Symbol%",!0),$RegExp=GetIntrinsic("%RegExp%"),hasSymbols=!!$Symbol,assertRecord=__webpack_require__(245),$isNaN=__webpack_require__(246),$isFinite=__webpack_require__(247),MAX_SAFE_INTEGER=$Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,assign=__webpack_require__(103),sign=__webpack_require__(248),mod=__webpack_require__(249),isPrimitive=__webpack_require__(436),parseInteger=parseInt,bind=__webpack_require__(9),arraySlice=bind.call(Function.call,$Array.prototype.slice),strSlice=bind.call(Function.call,$String.prototype.slice),isBinary=bind.call(Function.call,$RegExp.prototype.test,/^0b[01]+$/i),isOctal=bind.call(Function.call,$RegExp.prototype.test,/^0o[0-7]+$/i),regexExec=bind.call(Function.call,$RegExp.prototype.exec),nonWSregex=new $RegExp("["+["","",""].join("")+"]","g"),hasNonWS=bind.call(Function.call,$RegExp.prototype.test,nonWSregex),isInvalidHexLiteral=bind.call(Function.call,$RegExp.prototype.test,/^[-+]0x[0-9a-f]+$/i),$charCodeAt=bind.call(Function.call,$String.prototype.charCodeAt),toStr=bind.call(Function.call,Object.prototype.toString),$NumberValueOf=bind.call(Function.call,GetIntrinsic("%NumberPrototype%").valueOf),$BooleanValueOf=bind.call(Function.call,GetIntrinsic("%BooleanPrototype%").valueOf),$StringValueOf=bind.call(Function.call,GetIntrinsic("%StringPrototype%").valueOf),$DateValueOf=bind.call(Function.call,GetIntrinsic("%DatePrototype%").valueOf),$floor=Math.floor,$abs=Math.abs,$ObjectCreate=Object.create,$gOPD=$Object.getOwnPropertyDescriptor,$isExtensible=$Object.isExtensible,$defineProperty=$Object.defineProperty,ws=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),replace=bind.call(Function.call,$String.prototype.replace),ES5=__webpack_require__(437),hasRegExpMatcher=__webpack_require__(77),ES6=assign(assign({},ES5),{Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!this.IsCallable(F))throw new $TypeError(F+" is not a function");return F.apply(V,args)},ToPrimitive:toPrimitive,ToNumber:function ToNumber(argument){var value=isPrimitive(argument)?argument:toPrimitive(argument,$Number);if("symbol"==typeof value)throw new $TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return this.ToNumber(parseInteger(strSlice(value,2),2));if(isOctal(value))return this.ToNumber(parseInteger(strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=function(value){return replace(value,trimRegex,"")}(value);if(trimmed!==value)return this.ToNumber(trimmed)}return $Number(value)},ToInt16:function ToInt16(argument){var int16bit=this.ToUint16(argument);return int16bit>=32768?int16bit-65536:int16bit},ToInt8:function ToInt8(argument){var int8bit=this.ToUint8(argument);return int8bit>=128?int8bit-256:int8bit},ToUint8:function ToUint8(argument){var number=this.ToNumber(argument);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*$floor($abs(number));return mod(posInt,256)},ToUint8Clamp:function ToUint8Clamp(argument){var number=this.ToNumber(argument);if($isNaN(number)||number<=0)return 0;if(number>=255)return 255;var f=$floor(argument);return f+.5<number?f+1:number<f+.5?f:f%2!=0?f+1:f},ToString:function ToString(argument){if("symbol"==typeof argument)throw new $TypeError("Cannot convert a Symbol value to a string");return $String(argument)},ToObject:function ToObject(value){return this.RequireObjectCoercible(value),$Object(value)},ToPropertyKey:function ToPropertyKey(argument){var key=this.ToPrimitive(argument,$String);return"symbol"==typeof key?key:this.ToString(key)},ToLength:function ToLength(argument){var len=this.ToInteger(argument);return len<=0?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len},CanonicalNumericIndexString:function CanonicalNumericIndexString(argument){if("[object String]"!==toStr(argument))throw new $TypeError("must be a string");if("-0"===argument)return-0;var n=this.ToNumber(argument);return this.SameValue(this.ToString(n),argument)?n:void 0},RequireObjectCoercible:ES5.CheckObjectCoercible,IsArray:$Array.isArray||function IsArray(argument){return"[object Array]"===toStr(argument)},IsConstructor:function IsConstructor(argument){return"function"==typeof argument&&!!argument.prototype},IsExtensible:Object.preventExtensions?function IsExtensible(obj){return!isPrimitive(obj)&&$isExtensible(obj)}:function isExtensible(obj){return!0},IsInteger:function IsInteger(argument){if("number"!=typeof argument||$isNaN(argument)||!$isFinite(argument))return!1;var abs=$abs(argument);return $floor(abs)===abs},IsPropertyKey:function IsPropertyKey(argument){return"string"==typeof argument||"symbol"==typeof argument},IsRegExp:function IsRegExp(argument){if(!argument||"object"!=typeof argument)return!1;if(hasSymbols){var isRegExp=argument[$Symbol.match];if(void 0!==isRegExp)return ES5.ToBoolean(isRegExp)}return hasRegExpMatcher(argument)},SameValueZero:function SameValueZero(x,y){return x===y||$isNaN(x)&&$isNaN(y)},GetV:function GetV(V,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(V)[P]},GetMethod:function GetMethod(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var func=this.GetV(O,P);if(null!=func){if(!this.IsCallable(func))throw new $TypeError(P+"is not a function");return func}},Get:function Get(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return O[P]},Type:function Type(x){return"symbol"==typeof x?"Symbol":ES5.Type(x)},SpeciesConstructor:function SpeciesConstructor(O,defaultConstructor){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var C=O.constructor;if(void 0===C)return defaultConstructor;if("Object"!==this.Type(C))throw new $TypeError("O.constructor is not an Object");var S=hasSymbols&&$Symbol.species?C[$Symbol.species]:void 0;if(null==S)return defaultConstructor;if(this.IsConstructor(S))return S;throw new $TypeError("no constructor found")},CompletePropertyDescriptor:function CompletePropertyDescriptor(Desc){return assertRecord(this,"Property Descriptor","Desc",Desc),this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc)?(has(Desc,"[[Value]]")||(Desc["[[Value]]"]=void 0),has(Desc,"[[Writable]]")||(Desc["[[Writable]]"]=!1)):(has(Desc,"[[Get]]")||(Desc["[[Get]]"]=void 0),has(Desc,"[[Set]]")||(Desc["[[Set]]"]=void 0)),has(Desc,"[[Enumerable]]")||(Desc["[[Enumerable]]"]=!1),has(Desc,"[[Configurable]]")||(Desc["[[Configurable]]"]=!1),Desc},Set:function Set(O,P,V,Throw){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");if("Boolean"!==this.Type(Throw))throw new $TypeError("Throw must be a Boolean");if(Throw)return O[P]=V,!0;try{O[P]=V}catch(e){return!1}},HasOwnProperty:function HasOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return has(O,P)},HasProperty:function HasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return P in O},IsConcatSpreadable:function IsConcatSpreadable(O){if("Object"!==this.Type(O))return!1;if(hasSymbols&&"symbol"==typeof $Symbol.isConcatSpreadable){var spreadable=this.Get(O,Symbol.isConcatSpreadable);if(void 0!==spreadable)return this.ToBoolean(spreadable)}return this.IsArray(O)},Invoke:function Invoke(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");var argumentsList=arraySlice(arguments,2),func=this.GetV(O,P);return this.Call(func,O,argumentsList)},GetIterator:function GetIterator(obj,method){if(!hasSymbols)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var actualMethod=method;arguments.length<2&&(actualMethod=this.GetMethod(obj,$Symbol.iterator));var iterator=this.Call(actualMethod,obj);if("Object"!==this.Type(iterator))throw new $TypeError("iterator must return an object");return iterator},IteratorNext:function IteratorNext(iterator,value){var result=this.Invoke(iterator,"next",arguments.length<2?[]:[value]);if("Object"!==this.Type(result))throw new $TypeError("iterator next must return an object");return result},IteratorComplete:function IteratorComplete(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(iterResult,"done"))},IteratorValue:function IteratorValue(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.Get(iterResult,"value")},IteratorStep:function IteratorStep(iterator){var result=this.IteratorNext(iterator);return!0!==this.IteratorComplete(result)&&result},IteratorClose:function IteratorClose(iterator,completion){if("Object"!==this.Type(iterator))throw new $TypeError("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(completion))throw new $TypeError("Assertion failed: completion is not a thunk for a Completion Record");var completionRecord,completionThunk=completion,iteratorReturn=this.GetMethod(iterator,"return");if(void 0===iteratorReturn)return completionThunk();try{var innerResult=this.Call(iteratorReturn,iterator,[])}catch(e){throw completionRecord=completionThunk(),completionThunk=null,e}if(completionRecord=completionThunk(),completionThunk=null,"Object"!==this.Type(innerResult))throw new $TypeError("iterator .return must return an object");return completionRecord},CreateIterResultObject:function CreateIterResultObject(value,done){if("Boolean"!==this.Type(done))throw new $TypeError("Assertion failed: Type(done) is not Boolean");return{value:value,done:done}},RegExpExec:function RegExpExec(R,S){if("Object"!==this.Type(R))throw new $TypeError("R must be an Object");if("String"!==this.Type(S))throw new $TypeError("S must be a String");var exec=this.Get(R,"exec");if(this.IsCallable(exec)){var result=this.Call(exec,R,[S]);if(null===result||"Object"===this.Type(result))return result;throw new $TypeError('"exec" method must return `null` or an Object')}return regexExec(R,S)},ArraySpeciesCreate:function ArraySpeciesCreate(originalArray,length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: length must be an integer >= 0");var C,len=0===length?0:length;if(this.IsArray(originalArray)&&(C=this.Get(originalArray,"constructor"),"Object"===this.Type(C)&&hasSymbols&&$Symbol.species&&null===(C=this.Get(C,$Symbol.species))&&(C=void 0)),void 0===C)return $Array(len);if(!this.IsConstructor(C))throw new $TypeError("C must be a constructor");return new C(len)},CreateDataProperty:function CreateDataProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var oldDesc=$gOPD(O,P),extensible=oldDesc||"function"!=typeof $isExtensible||$isExtensible(O);return!(!(!oldDesc||oldDesc.writable&&oldDesc.configurable)||!extensible)&&($defineProperty(O,P,{configurable:!0,enumerable:!0,value:V,writable:!0}),!0)},CreateDataPropertyOrThrow:function CreateDataPropertyOrThrow(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=this.CreateDataProperty(O,P,V);if(!success)throw new $TypeError("unable to create data property");return success},ObjectCreate:function ObjectCreate(proto,internalSlotsList){if(null!==proto&&"Object"!==this.Type(proto))throw new $TypeError("Assertion failed: proto must be null or an object");var slots=arguments.length<2?[]:internalSlotsList;if(slots.length>0)throw new $SyntaxError("es-abstract does not yet support internal slots");if(null===proto&&!$ObjectCreate)throw new $SyntaxError("native Object.create support is required to create null objects");return $ObjectCreate(proto)},AdvanceStringIndex:function AdvanceStringIndex(S,index,unicode){if("String"!==this.Type(S))throw new $TypeError("S must be a String");if(!this.IsInteger(index)||index<0||index>MAX_SAFE_INTEGER)throw new $TypeError("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(unicode))throw new $TypeError("Assertion failed: unicode must be a Boolean");if(!unicode)return index+1;if(index+1>=S.length)return index+1;var first=$charCodeAt(S,index);if(first<55296||first>56319)return index+1;var second=$charCodeAt(S,index+1);return second<56320||second>57343?index+1:index+2},CreateMethodProperty:function CreateMethodProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return!!$defineProperty(O,P,{configurable:!0,enumerable:!1,value:V,writable:!0})},DefinePropertyOrThrow:function DefinePropertyOrThrow(O,P,desc){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return!!$defineProperty(O,P,desc)},DeletePropertyOrThrow:function DeletePropertyOrThrow(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=delete O[P];if(!success)throw new TypeError("Attempt to delete property failed.");return success},EnumerableOwnNames:function EnumerableOwnNames(O){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");return keys(O)},thisNumberValue:function thisNumberValue(value){return"Number"===this.Type(value)?value:$NumberValueOf(value)},thisBooleanValue:function thisBooleanValue(value){return"Boolean"===this.Type(value)?value:$BooleanValueOf(value)},thisStringValue:function thisStringValue(value){return"String"===this.Type(value)?value:$StringValueOf(value)},thisTimeValue:function thisTimeValue(value){return $DateValueOf(value)}});delete ES6.CheckObjectCoercible,module.exports=ES6},function(module,exports){module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(65),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),has=__webpack_require__(11),predicates={"Property Descriptor":function isPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}};module.exports=function assertRecord(ES,recordType,argumentName,value){var predicate=predicates[recordType];if("function"!=typeof predicate)throw new $SyntaxError("unknown record type: "+recordType);if(!predicate(ES,value))throw new $TypeError(argumentName+" must be a "+recordType);console.log(predicate(ES,value),value)}},function(module,exports){module.exports=Number.isNaN||function isNaN(a){return a!=a}},function(module,exports){var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},function(module,exports){module.exports=function sign(number){return number>=0?1:-1}},function(module,exports){module.exports=function mod(number,modulo){var remain=number%modulo;return Math.floor(remain>=0?remain:remain+modulo)}},function(module,exports,__webpack_require__){"use strict";var ES2015=__webpack_require__(243),assign=__webpack_require__(103),ES2016=assign(assign({},ES2015),{SameValueNonNumber:function SameValueNonNumber(x,y){if("number"==typeof x||typeof x!=typeof y)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(x,y)}});module.exports=ES2016},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),keys=__webpack_require__(38),ES2017=__webpack_require__(252),assign=__webpack_require__(103),forEach=__webpack_require__(253),GetIntrinsic=__webpack_require__(65),$String=GetIntrinsic("%String%"),$Object=GetIntrinsic("%Object%"),$SymbolProto=GetIntrinsic("%SymbolPrototype%",!0),$SymbolValueOf=$SymbolProto?bind.call(Function.call,$SymbolProto.valueOf):null,$StringProto=GetIntrinsic("%StringPrototype%"),$charAt=bind.call(Function.call,$StringProto.charAt),$PromiseResolveOrig=GetIntrinsic("%Promise_resolve%",!0),$PromiseResolve=$PromiseResolveOrig?bind.call(Function.call,$PromiseResolveOrig):null,$isEnumerable=bind.call(Function.call,GetIntrinsic("%ObjectPrototype%").propertyIsEnumerable),$pushApply=bind.call(Function.apply,GetIntrinsic("%ArrayPrototype%").push),$gOPS=$SymbolValueOf?$Object.getOwnPropertySymbols:null,ES2018=assign(assign({},ES2017),{EnumerableOwnPropertyNames:ES2017.EnumerableOwnProperties,thisSymbolValue:function thisSymbolValue(value){if(!$SymbolValueOf)throw new SyntaxError("Symbols are not supported; thisSymbolValue requires that `value` be a Symbol or a Symbol object");return"Symbol"===this.Type(value)?value:$SymbolValueOf(value)},IsStringPrefix:function IsStringPrefix(p,q){if("String"!==this.Type(p))throw new TypeError('Assertion failed: "p" must be a String');if("String"!==this.Type(q))throw new TypeError('Assertion failed: "q" must be a String');if(p===q||""===p)return!0;var pLength=p.length;if(pLength>=q.length)return!1;for(var i=0;i<pLength;i+=1)if($charAt(p,i)!==$charAt(q,i))return!1;return!0},NumberToString:function NumberToString(m){if("Number"!==this.Type(m))throw new TypeError('Assertion failed: "m" must be a String');return $String(m)},CopyDataProperties:function CopyDataProperties(target,source,excludedItems){if("Object"!==this.Type(target))throw new TypeError('Assertion failed: "target" must be an Object');if(!this.IsArray(excludedItems))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');for(var i=0;i<excludedItems.length;i+=1)if(!this.IsPropertyKey(excludedItems[i]))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');if(null==source)return target;var ES=this,fromObj=ES.ToObject(source),sourceKeys=function OwnPropertyKeys(ES,source){var ownKeys=keys(source);return $gOPS&&$pushApply(ownKeys,$gOPS(source)),ownKeys}(0,fromObj);return forEach(sourceKeys,function(nextKey){var excluded=!1;forEach(excludedItems,function(e){!0===ES.SameValue(e,nextKey)&&(excluded=!0)});var enumerable=$isEnumerable(fromObj,nextKey)||"string"==typeof source&&nextKey>=0&&ES.IsInteger(ES.ToNumber(nextKey));if(!1===excluded&&enumerable){var propValue=ES.Get(fromObj,nextKey);ES.CreateDataProperty(target,nextKey,propValue)}}),target},PromiseResolve:function PromiseResolve(C,x){if(!$PromiseResolve)throw new SyntaxError("This environment does not support Promises.");return $PromiseResolve(C,x)}});delete ES2018.EnumerableOwnProperties,delete ES2018.IsPropertyDescriptor,module.exports=ES2018},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),ES2016=__webpack_require__(250),assign=__webpack_require__(103),forEach=__webpack_require__(253),GetIntrinsic=__webpack_require__(65),$TypeError=GetIntrinsic("%TypeError%"),$isEnumerable=bind.call(Function.call,GetIntrinsic("%ObjectPrototype%").propertyIsEnumerable),$pushApply=bind.call(Function.apply,GetIntrinsic("%ArrayPrototype%").push),ES2017=assign(assign({},ES2016),{ToIndex:function ToIndex(value){if(void 0===value)return 0;var integerIndex=this.ToInteger(value);if(integerIndex<0)throw new RangeError("index must be >= 0");var index=this.ToLength(integerIndex);if(!this.SameValueZero(integerIndex,index))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return index},EnumerableOwnProperties:function EnumerableOwnProperties(O,kind){var keys=ES2016.EnumerableOwnNames(O);if("key"===kind)return keys;if("value"===kind||"key+value"===kind){var results=[];return forEach(keys,function(key){$isEnumerable(O,key)&&$pushApply(results,["value"===kind?O[key]:[key,O[key]]])}),results}throw new $TypeError('Assertion failed: "kind" is not "key", "value", or "key+value": '+kind)}});delete ES2017.EnumerableOwnNames,module.exports=ES2017},function(module,exports,__webpack_require__){"use strict";module.exports=function forEach(array,callback){for(var i=0;i<array.length;i+=1)callback(array[i],i,array)}},function(module,exports,__webpack_require__){"use strict";var replace=__webpack_require__(9).call(Function.call,String.prototype.replace),leftWhitespace=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;module.exports=function trimLeft(){return replace(this,leftWhitespace,"")}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(254);module.exports=function getPolyfill(){if(!String.prototype.trimLeft)return implementation;return""!=="".trimLeft()?implementation:String.prototype.trimLeft}},function(module,exports,__webpack_require__){"use strict";var replace=__webpack_require__(9).call(Function.call,String.prototype.replace),rightWhitespace=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;module.exports=function trimRight(){return replace(this,rightWhitespace,"")}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(256);module.exports=function getPolyfill(){if(!String.prototype.trimRight)return implementation;return""!=="".trimRight()?implementation:String.prototype.trimRight}},function(module,exports,__webpack_require__){"use strict";module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),has=__webpack_require__(11),predicates={"Property Descriptor":function isPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}};module.exports=function assertRecord(ES,recordType,argumentName,value){var predicate=predicates[recordType];if("function"!=typeof predicate)throw new $SyntaxError("unknown record type: "+recordType);if(!predicate(ES,value))throw new $TypeError(argumentName+" must be a "+recordType)}},function(module,exports,__webpack_require__){"use strict";var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),$Math=GetIntrinsic("%Math%"),$Number=GetIntrinsic("%Number%");module.exports=$Number.MAX_SAFE_INTEGER||$Math.pow(2,53)-1},function(module,exports,__webpack_require__){"use strict";module.exports=function sign(number){return number>=0?1:-1}},function(module,exports,__webpack_require__){"use strict";module.exports=function mod(number,modulo){var remain=number%modulo;return Math.floor(remain>=0?remain:remain+modulo)}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),has=__webpack_require__(11),$TypeError=GetIntrinsic("%TypeError%");module.exports=function IsPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;if(ES.IsDataDescriptor(Desc)&&ES.IsAccessorDescriptor(Desc))throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}},function(module,exports,__webpack_require__){"use strict";var $test=__webpack_require__(15)("RegExp.prototype.test"),callBind=__webpack_require__(104);module.exports=function regexTester(regex){return callBind($test,regex)}},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(163)(),GetIntrinsic=__webpack_require__(15),callBound=__webpack_require__(49),$iterator=GetIntrinsic("%Symbol.iterator%",!0),$stringSlice=callBound("String.prototype.slice");module.exports=function getIteratorMethod(ES,iterable){var usingIterator;return hasSymbols?usingIterator=ES.GetMethod(iterable,$iterator):ES.IsArray(iterable)?usingIterator=function(){var i=-1,arr=this;return{next:function(){return{done:(i+=1)>=arr.length,value:arr[i]}}}}:"String"===ES.Type(iterable)&&(usingIterator=function(){var i=0;return{next:function(){var nextIndex=ES.AdvanceStringIndex(iterable,i,!0),value=$stringSlice(iterable,i,nextIndex);return i=nextIndex,{done:nextIndex>iterable.length,value:value}}}}),usingIterator}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),originalSetProto=GetIntrinsic("%Object.setPrototypeOf%",!0),$ArrayProto=GetIntrinsic("%Array.prototype%");module.exports=originalSetProto||([].__proto__!==$ArrayProto?null:function(O,proto){return O.__proto__=proto,O})},function(module,exports,__webpack_require__){"use strict";var $strSlice=__webpack_require__(49)("String.prototype.slice");module.exports=function isPrefixOf(prefix,string){return prefix===string||!(prefix.length>string.length)&&$strSlice(string,0,prefix.length)===prefix}},function(module,exports,__webpack_require__){"use strict";var getInferredName;try{getInferredName=Function("s","return { [s]() {} }[s].name;")}catch(e){}module.exports=getInferredName&&"inferred"===function(){}.name?getInferredName:null},function(module,exports,__webpack_require__){"use strict";module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),has=__webpack_require__(11),predicates={"Property Descriptor":function isPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}};module.exports=function assertRecord(ES,recordType,argumentName,value){var predicate=predicates[recordType];if("function"!=typeof predicate)throw new $SyntaxError("unknown record type: "+recordType);if(!predicate(ES,value))throw new $TypeError(argumentName+" must be a "+recordType)}},function(module,exports,__webpack_require__){"use strict";var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),$Math=GetIntrinsic("%Math%"),$Number=GetIntrinsic("%Number%");module.exports=$Number.MAX_SAFE_INTEGER||$Math.pow(2,53)-1},function(module,exports,__webpack_require__){"use strict";module.exports=function sign(number){return number>=0?1:-1}},function(module,exports,__webpack_require__){"use strict";module.exports=function mod(number,modulo){var remain=number%modulo;return Math.floor(remain>=0?remain:remain+modulo)}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),has=__webpack_require__(11),$TypeError=GetIntrinsic("%TypeError%");module.exports=function IsPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;if(ES.IsDataDescriptor(Desc)&&ES.IsAccessorDescriptor(Desc))throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}},function(module,exports,__webpack_require__){"use strict";var $test=__webpack_require__(16)("RegExp.prototype.test"),callBind=__webpack_require__(105);module.exports=function regexTester(regex){return callBind($test,regex)}},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(169)(),GetIntrinsic=__webpack_require__(16),callBound=__webpack_require__(50),$iterator=GetIntrinsic("%Symbol.iterator%",!0),$stringSlice=callBound("String.prototype.slice");module.exports=function getIteratorMethod(ES,iterable){var usingIterator;return hasSymbols?usingIterator=ES.GetMethod(iterable,$iterator):ES.IsArray(iterable)?usingIterator=function(){var i=-1,arr=this;return{next:function(){return{done:(i+=1)>=arr.length,value:arr[i]}}}}:"String"===ES.Type(iterable)&&(usingIterator=function(){var i=0;return{next:function(){var nextIndex=ES.AdvanceStringIndex(iterable,i,!0),value=$stringSlice(iterable,i,nextIndex);return i=nextIndex,{done:nextIndex>iterable.length,value:value}}}}),usingIterator}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),originalSetProto=GetIntrinsic("%Object.setPrototypeOf%",!0),$ArrayProto=GetIntrinsic("%Array.prototype%");module.exports=originalSetProto||([].__proto__!==$ArrayProto?null:function(O,proto){return O.__proto__=proto,O})},function(module,exports,__webpack_require__){"use strict";var $strSlice=__webpack_require__(50)("String.prototype.slice");module.exports=function isPrefixOf(prefix,string){return prefix===string||!(prefix.length>string.length)&&$strSlice(string,0,prefix.length)===prefix}},function(module,exports,__webpack_require__){"use strict";module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),has=__webpack_require__(11),predicates={"Property Descriptor":function isPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}};module.exports=function assertRecord(ES,recordType,argumentName,value){var predicate=predicates[recordType];if("function"!=typeof predicate)throw new $SyntaxError("unknown record type: "+recordType);if(!predicate(ES,value))throw new $TypeError(argumentName+" must be a "+recordType)}},function(module,exports,__webpack_require__){"use strict";var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),$Math=GetIntrinsic("%Math%"),$Number=GetIntrinsic("%Number%");module.exports=$Number.MAX_SAFE_INTEGER||$Math.pow(2,53)-1},function(module,exports,__webpack_require__){"use strict";module.exports=function sign(number){return number>=0?1:-1}},function(module,exports,__webpack_require__){"use strict";module.exports=function mod(number,modulo){var remain=number%modulo;return Math.floor(remain>=0?remain:remain+modulo)}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),has=__webpack_require__(11),$TypeError=GetIntrinsic("%TypeError%");module.exports=function IsPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;if(ES.IsDataDescriptor(Desc)&&ES.IsAccessorDescriptor(Desc))throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}},function(module,exports,__webpack_require__){"use strict";var $test=__webpack_require__(14)("RegExp.prototype.test"),callBind=__webpack_require__(106);module.exports=function regexTester(regex){return callBind($test,regex)}},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(175)(),GetIntrinsic=__webpack_require__(14),callBound=__webpack_require__(39),$iterator=GetIntrinsic("%Symbol.iterator%",!0),$stringSlice=callBound("String.prototype.slice");module.exports=function getIteratorMethod(ES,iterable){var usingIterator;return hasSymbols?usingIterator=ES.GetMethod(iterable,$iterator):ES.IsArray(iterable)?usingIterator=function(){var i=-1,arr=this;return{next:function(){return{done:(i+=1)>=arr.length,value:arr[i]}}}}:"String"===ES.Type(iterable)&&(usingIterator=function(){var i=0;return{next:function(){var nextIndex=ES.AdvanceStringIndex(iterable,i,!0),value=$stringSlice(iterable,i,nextIndex);return i=nextIndex,{done:nextIndex>iterable.length,value:value}}}}),usingIterator}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),originalSetProto=GetIntrinsic("%Object.setPrototypeOf%",!0),$ArrayProto=GetIntrinsic("%Array.prototype%");module.exports=originalSetProto||([].__proto__!==$ArrayProto?null:function(O,proto){return O.__proto__=proto,O})},function(module,exports,__webpack_require__){"use strict";var $strSlice=__webpack_require__(39)("String.prototype.slice");module.exports=function isPrefixOf(prefix,string){return prefix===string||!(prefix.length>string.length)&&$strSlice(string,0,prefix.length)===prefix}},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),implementation=__webpack_require__(293),getPolyfill=__webpack_require__(294),shim=__webpack_require__(536),flagsBound=Function.call.bind(implementation);define(flagsBound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=flagsBound},function(module,exports,__webpack_require__){"use strict";var toObject=Object,TypeErr=TypeError;module.exports=function flags(){if(null!=this&&this!==toObject(this))throw new TypeErr("RegExp.prototype.flags getter called on non-object");var result="";return this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.dotAll&&(result+="s"),this.unicode&&(result+="u"),this.sticky&&(result+="y"),result}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(293),supportsDescriptors=__webpack_require__(8).supportsDescriptors,gOPD=Object.getOwnPropertyDescriptor,TypeErr=TypeError;module.exports=function getPolyfill(){if(!supportsDescriptors)throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var descriptor=gOPD(RegExp.prototype,"flags");if(descriptor&&"function"==typeof descriptor.get&&"boolean"==typeof/a/.dotAll)return descriptor.get}return implementation}},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(55)(),regexpMatchAll=__webpack_require__(537);module.exports=function getRegExpMatchAllPolyfill(){return hasSymbols&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:regexpMatchAll}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(19),fails=__webpack_require__(7),createElement=__webpack_require__(180);module.exports=!DESCRIPTORS&&!fails(function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var global=__webpack_require__(6),inspectSource=__webpack_require__(182),WeakMap=global.WeakMap;module.exports="function"==typeof WeakMap&&/native code/.test(inspectSource(WeakMap))},function(module,exports,__webpack_require__){var has=__webpack_require__(20),ownKeys=__webpack_require__(551),getOwnPropertyDescriptorModule=__webpack_require__(66),definePropertyModule=__webpack_require__(21);module.exports=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},function(module,exports,__webpack_require__){var has=__webpack_require__(20),toIndexedObject=__webpack_require__(51),indexOf=__webpack_require__(184).indexOf,hiddenKeys=__webpack_require__(84);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~indexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(113),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),isArray=__webpack_require__(85),SPECIES=__webpack_require__(10)("species");module.exports=function(originalArray,length){var C;return isArray(originalArray)&&("function"!=typeof(C=originalArray.constructor)||C!==Array&&!isArray(C.prototype)?isObject(C)&&null===(C=C[SPECIES])&&(C=void 0):C=void 0),new(void 0===C?Array:C)(0===length?0:length)}},function(module,exports,__webpack_require__){var NATIVE_SYMBOL=__webpack_require__(188);module.exports=NATIVE_SYMBOL&&!Symbol.sham&&"symbol"==typeof Symbol()},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(68);module.exports=getBuiltIn("navigator","userAgent")||""},function(module,exports,__webpack_require__){var TO_STRING_TAG_SUPPORT=__webpack_require__(190),classofRaw=__webpack_require__(40),TO_STRING_TAG=__webpack_require__(10)("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(O=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"==(result=classofRaw(O))&&"function"==typeof O.callee?"Arguments":result}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(19),definePropertyModule=__webpack_require__(21),anObject=__webpack_require__(17),objectKeys=__webpack_require__(86);module.exports=DESCRIPTORS?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var key,keys=objectKeys(Properties),length=keys.length,index=0;length>index;)definePropertyModule.f(O,key=keys[index++],Properties[key]);return O}},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(68);module.exports=getBuiltIn("document","documentElement")},function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__(10);exports.f=wellKnownSymbol},function(module,exports,__webpack_require__){"use strict";var $forEach=__webpack_require__(57).forEach,sloppyArrayMethod=__webpack_require__(88);module.exports=sloppyArrayMethod("forEach")?function forEach(callbackfn){return $forEach(this,callbackfn,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(module,exports,__webpack_require__){"use strict";var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,getPrototypeOf=__webpack_require__(193),createNonEnumerableProperty=__webpack_require__(25),has=__webpack_require__(20),wellKnownSymbol=__webpack_require__(10),IS_PURE=__webpack_require__(67),ITERATOR=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),null==IteratorPrototype&&(IteratorPrototype={}),IS_PURE||has(IteratorPrototype,ITERATOR)||createNonEnumerableProperty(IteratorPrototype,ITERATOR,function(){return this}),module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7);module.exports=!fails(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},function(module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={ClientApi:!0,defaultDecorateStory:!0,StoryStore:!0,ConfigApi:!0,subscriptionsStore:!0,pathToId:!0,getQueryParams:!0,getQueryParam:!0};Object.defineProperty(exports,"ClientApi",{enumerable:!0,get:function get(){return _client_api.default}}),Object.defineProperty(exports,"defaultDecorateStory",{enumerable:!0,get:function get(){return _client_api.defaultDecorateStory}}),Object.defineProperty(exports,"StoryStore",{enumerable:!0,get:function get(){return _story_store.default}}),Object.defineProperty(exports,"ConfigApi",{enumerable:!0,get:function get(){return _config_api.default}}),Object.defineProperty(exports,"subscriptionsStore",{enumerable:!0,get:function get(){return _subscriptions_store.default}}),Object.defineProperty(exports,"pathToId",{enumerable:!0,get:function get(){return _pathToId.default}}),Object.defineProperty(exports,"getQueryParams",{enumerable:!0,get:function get(){return _queryparams.getQueryParams}}),Object.defineProperty(exports,"getQueryParam",{enumerable:!0,get:function get(){return _queryparams.getQueryParam}});var _client_api=function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(582)),_story_store=_interopRequireDefault(__webpack_require__(762)),_config_api=_interopRequireDefault(__webpack_require__(796)),_subscriptions_store=_interopRequireDefault(__webpack_require__(369)),_pathToId=_interopRequireDefault(__webpack_require__(797)),_queryparams=__webpack_require__(798),_hooks=__webpack_require__(217);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return cache},cache}Object.keys(_hooks).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _hooks[key]}}))})},function(module,exports,__webpack_require__){var anObject=__webpack_require__(17);module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){var returnMethod=iterator.return;throw void 0!==returnMethod&&anObject(returnMethod.call(iterator)),error}}},function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__(10),Iterators=__webpack_require__(89),ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(304),Iterators=__webpack_require__(89),ITERATOR=__webpack_require__(10)("iterator");module.exports=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),$reduce=__webpack_require__(584).left;$({target:"Array",proto:!0,forced:__webpack_require__(88)("reduce")},{reduce:function reduce(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(19),objectKeys=__webpack_require__(86),toIndexedObject=__webpack_require__(51),propertyIsEnumerable=__webpack_require__(107).f,createMethod=function(TO_ENTRIES){return function(it){for(var key,O=toIndexedObject(it),keys=objectKeys(O),length=keys.length,i=0,result=[];length>i;)key=keys[i++],DESCRIPTORS&&!propertyIsEnumerable.call(O,key)||result.push(TO_ENTRIES?[key,O[key]]:O[key]);return result}};module.exports={entries:createMethod(!0),values:createMethod(!1)}},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(17);module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.dotAll&&(result+="s"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(113),requireObjectCoercible=__webpack_require__(33),createMethod=function(CONVERT_TO_STRING){return function($this,pos){var first,second,S=String(requireObjectCoercible($this)),position=toInteger(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=S.charCodeAt(position))<55296||first>56319||position+1===size||(second=S.charCodeAt(position+1))<56320||second>57343?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):second-56320+(first-55296<<10)+65536}};module.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(module,exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(68),definePropertyModule=__webpack_require__(21),wellKnownSymbol=__webpack_require__(10),DESCRIPTORS=__webpack_require__(19),SPECIES=wellKnownSymbol("species");module.exports=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn(CONSTRUCTOR_NAME),defineProperty=definePropertyModule.f;DESCRIPTORS&&Constructor&&!Constructor[SPECIES]&&defineProperty(Constructor,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(17),aFunction=__webpack_require__(58),SPECIES=__webpack_require__(10)("species");module.exports=function(O,defaultConstructor){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?defaultConstructor:aFunction(S)}},function(module,exports,__webpack_require__){var defer,channel,port,global=__webpack_require__(6),fails=__webpack_require__(7),classof=__webpack_require__(40),bind=__webpack_require__(87),html=__webpack_require__(306),createElement=__webpack_require__(180),IS_IOS=__webpack_require__(323),location=global.location,set=global.setImmediate,clear=global.clearImmediate,process=global.process,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(id){if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},runner=function(id){return function(){run(id)}},listener=function(event){run(event.data)},post=function(id){global.postMessage(id+"",location.protocol+"//"+location.host)};set&&clear||(set=function setImmediate(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){("function"==typeof fn?fn:Function(fn)).apply(void 0,args)},defer(counter),counter},clear=function clearImmediate(id){delete queue[id]},"process"==classof(process)?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=bind(port.postMessage,port,1)):!global.addEventListener||"function"!=typeof postMessage||global.importScripts||fails(post)?defer="onreadystatechange"in createElement("script")?function(id){html.appendChild(createElement("script")).onreadystatechange=function(){html.removeChild(this),run(id)}}:function(id){setTimeout(runner(id),0)}:(defer=post,global.addEventListener("message",listener,!1))),module.exports={set:set,clear:clear}},function(module,exports,__webpack_require__){var userAgent=__webpack_require__(303);module.exports=/(iphone|ipod|ipad).*applewebkit/i.test(userAgent)},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(58),PromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)};module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__webpack_require__){"use strict";var types;__webpack_require__(116),__webpack_require__(199),Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSupportedType=function isSupportedType(type){return!!Object.values(types).find(function(typeVal){return typeVal===type})},exports.types=void 0,exports.types=types,function(types){types.TAB="tab",types.PANEL="panel",types.TOOL="tool",types.PREVIEW="preview",types.NOTES_ELEMENT="notes-element"}(types||(exports.types=types={}))},function(module,exports,__webpack_require__){"use strict";(function(setImmediate){function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(34),__webpack_require__(41),__webpack_require__(42),__webpack_require__(123),__webpack_require__(44),__webpack_require__(91),__webpack_require__(59),__webpack_require__(29),__webpack_require__(327),__webpack_require__(53),__webpack_require__(73),__webpack_require__(71),__webpack_require__(24),__webpack_require__(60),__webpack_require__(46),__webpack_require__(45),__webpack_require__(35),__webpack_require__(596),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Channel=void 0;var generateRandomId=function generateRandomId(){return Math.random().toString(16).slice(2)},Channel=function(){function Channel(){var _this=this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},transport=_ref.transport,_ref$async=_ref.async,async=void 0!==_ref$async&&_ref$async;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Channel),this.isAsync=void 0,this.sender=generateRandomId(),this.events={},this.transport=void 0,this.isAsync=async,transport&&(this.transport=transport,this.transport.setHandler(function(event){return _this.handleEvent(event)}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Channel,[{key:"addListener",value:function addListener(eventName,listener){this.events[eventName]=this.events[eventName]||[],this.events[eventName].push(listener)}},{key:"addPeerListener",value:function addPeerListener(eventName,listener){var peerListener=listener;peerListener.ignorePeer=!0,this.addListener(eventName,peerListener)}},{key:"emit",value:function emit(eventName){for(var _this2=this,_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var event={type:eventName,args:args,from:this.sender},options={};args.length>=1&&args[0]&&args[0].options&&(options=args[0].options);var handler=function handler(){_this2.transport&&_this2.transport.send(event,options),_this2.handleEvent(event,!0)};this.isAsync?setImmediate(handler):handler()}},{key:"eventNames",value:function eventNames(){return Object.keys(this.events)}},{key:"listenerCount",value:function listenerCount(eventName){var listeners=this.listeners(eventName);return listeners?listeners.length:0}},{key:"listeners",value:function listeners(eventName){var listeners=this.events[eventName];return listeners||void 0}},{key:"once",value:function once(eventName,listener){var onceListener=this.onceListener(eventName,listener);this.addListener(eventName,onceListener)}},{key:"removeAllListeners",value:function removeAllListeners(eventName){eventName?this.events[eventName]&&delete this.events[eventName]:this.events={}}},{key:"removeListener",value:function removeListener(eventName,listener){var listeners=this.listeners(eventName);listeners&&(this.events[eventName]=listeners.filter(function(l){return l!==listener}))}},{key:"on",value:function on(eventName,listener){this.addListener(eventName,listener)}},{key:"handleEvent",value:function handleEvent(event){var isPeer=arguments.length>1&&void 0!==arguments[1]&&arguments[1],listeners=this.listeners(event.type);listeners&&(isPeer||event.from!==this.sender)&&listeners.forEach(function(fn){return!(isPeer&&fn.ignorePeer)&&fn.apply(void 0,_toConsumableArray(event.args))})}},{key:"onceListener",value:function onceListener(eventName,listener){var _this3=this,onceListener=function onceListener(){return _this3.removeListener(eventName,onceListener),listener.apply(void 0,arguments)};return onceListener}},{key:"hasTransport",get:function get(){return!!this.transport}}]),Channel}();exports.Channel=Channel;var _default=Channel;exports.default=_default}).call(this,__webpack_require__(594).setImmediate)},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),isObject=__webpack_require__(12),isArray=__webpack_require__(85),toAbsoluteIndex=__webpack_require__(300),toLength=__webpack_require__(27),toIndexedObject=__webpack_require__(51),createProperty=__webpack_require__(187),arrayMethodHasSpeciesSupport=__webpack_require__(115),SPECIES=__webpack_require__(10)("species"),nativeSlice=[].slice,max=Math.max;$({target:"Array",proto:!0,forced:!arrayMethodHasSpeciesSupport("slice")},{slice:function slice(start,end){var Constructor,result,n,O=toIndexedObject(this),length=toLength(O.length),k=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(void 0===end?length:end,length);if(isArray(O)&&("function"!=typeof(Constructor=O.constructor)||Constructor!==Array&&!isArray(Constructor.prototype)?isObject(Constructor)&&null===(Constructor=Constructor[SPECIES])&&(Constructor=void 0):Constructor=void 0,Constructor===Array||void 0===Constructor))return nativeSlice.call(O,k,fin);for(result=new(void 0===Constructor?Array:Constructor)(max(fin-k,0)),n=0;k<fin;k++,n++)k in O&&createProperty(result,n,O[k]);return result.length=n,result}})},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(124),propertyIsEnumerableModule=__webpack_require__(598),createPropertyDescriptor=__webpack_require__(329),toIndexedObject=__webpack_require__(200),toPrimitive=__webpack_require__(331),has=__webpack_require__(94),IE8_DOM_DEFINE=__webpack_require__(332),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(125);module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;if("function"==typeof(fn=input.valueOf)&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(124),fails=__webpack_require__(93),createElement=__webpack_require__(333);module.exports=!DESCRIPTORS&&!fails(function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var global=__webpack_require__(30),isObject=__webpack_require__(125),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(124),IE8_DOM_DEFINE=__webpack_require__(332),anObject=__webpack_require__(335),toPrimitive=__webpack_require__(331),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(125);module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},function(module,exports,__webpack_require__){var shared=__webpack_require__(337),functionToString=Function.toString;module.exports=shared("inspectSource",function(it){return functionToString.call(it)})},function(module,exports,__webpack_require__){var IS_PURE=__webpack_require__(602),store=__webpack_require__(603);(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.4.5",mode:IS_PURE?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports={}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),$includes=__webpack_require__(184).includes,addToUnscopables=__webpack_require__(191);$({target:"Array",proto:!0},{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes")},function(module,exports,__webpack_require__){__webpack_require__(3)({target:"Function",proto:!0},{bind:__webpack_require__(627)})},function(module,exports,__webpack_require__){"use strict";var collection=__webpack_require__(203),collectionStrong=__webpack_require__(345);module.exports=collection("Set",function(init){return function Set(){return init(this,arguments.length?arguments[0]:void 0)}},collectionStrong)},function(module,exports,__webpack_require__){var fails=__webpack_require__(7);module.exports=!fails(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),setPrototypeOf=__webpack_require__(194);module.exports=function($this,dummy,Wrapper){var NewTarget,NewTargetPrototype;return setPrototypeOf&&"function"==typeof(NewTarget=dummy.constructor)&&NewTarget!==Wrapper&&isObject(NewTargetPrototype=NewTarget.prototype)&&NewTargetPrototype!==Wrapper.prototype&&setPrototypeOf($this,NewTargetPrototype),$this}},function(module,exports,__webpack_require__){"use strict";var defineProperty=__webpack_require__(21).f,create=__webpack_require__(69),redefineAll=__webpack_require__(119),bind=__webpack_require__(87),anInstance=__webpack_require__(120),iterate=__webpack_require__(121),defineIterator=__webpack_require__(192),setSpecies=__webpack_require__(320),DESCRIPTORS=__webpack_require__(19),fastKey=__webpack_require__(95).fastKey,InternalStateModule=__webpack_require__(52),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor;module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,CONSTRUCTOR_NAME),setInternalState(that,{type:CONSTRUCTOR_NAME,index:create(null),first:void 0,last:void 0,size:0}),DESCRIPTORS||(that.size=0),null!=iterable&&iterate(iterable,that[ADDER],that,IS_MAP)}),getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME),define=function(that,key,value){var previous,index,state=getInternalState(that),entry=getEntry(that,key);return entry?entry.value=value:(state.last=entry={index:index=fastKey(key,!0),key:key,value:value,previous:previous=state.last,next:void 0,removed:!1},state.first||(state.first=entry),previous&&(previous.next=entry),DESCRIPTORS?state.size++:that.size++,"F"!==index&&(state.index[index]=entry)),that},getEntry=function(that,key){var entry,state=getInternalState(that),index=fastKey(key);if("F"!==index)return state.index[index];for(entry=state.first;entry;entry=entry.next)if(entry.key==key)return entry};return redefineAll(C.prototype,{clear:function clear(){for(var state=getInternalState(this),data=state.index,entry=state.first;entry;)entry.removed=!0,entry.previous&&(entry.previous=entry.previous.next=void 0),delete data[entry.index],entry=entry.next;state.first=state.last=void 0,DESCRIPTORS?state.size=0:this.size=0},delete:function(key){var state=getInternalState(this),entry=getEntry(this,key);if(entry){var next=entry.next,prev=entry.previous;delete state.index[entry.index],entry.removed=!0,prev&&(prev.next=next),next&&(next.previous=prev),state.first==entry&&(state.first=next),state.last==entry&&(state.last=prev),DESCRIPTORS?state.size--:this.size--}return!!entry},forEach:function forEach(callbackfn){for(var entry,state=getInternalState(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0,3);entry=entry?entry.next:state.first;)for(boundFunction(entry.value,entry.key,this);entry&&entry.removed;)entry=entry.previous},has:function has(key){return!!getEntry(this,key)}}),redefineAll(C.prototype,IS_MAP?{get:function get(key){var entry=getEntry(this,key);return entry&&entry.value},set:function set(key,value){return define(this,0===key?0:key,value)}}:{add:function add(value){return define(this,value=0===value?0:value,value)}}),DESCRIPTORS&&defineProperty(C.prototype,"size",{get:function(){return getInternalState(this).size}}),C},setStrong:function(C,CONSTRUCTOR_NAME,IS_MAP){var ITERATOR_NAME=CONSTRUCTOR_NAME+" Iterator",getInternalCollectionState=internalStateGetterFor(CONSTRUCTOR_NAME),getInternalIteratorState=internalStateGetterFor(ITERATOR_NAME);defineIterator(C,CONSTRUCTOR_NAME,function(iterated,kind){setInternalState(this,{type:ITERATOR_NAME,target:iterated,state:getInternalCollectionState(iterated),kind:kind,last:void 0})},function(){for(var state=getInternalIteratorState(this),kind=state.kind,entry=state.last;entry&&entry.removed;)entry=entry.previous;return state.target&&(state.last=entry=entry?entry.next:state.state.first)?"keys"==kind?{value:entry.key,done:!1}:"values"==kind?{value:entry.value,done:!1}:{value:[entry.key,entry.value],done:!1}:(state.target=void 0,{value:void 0,done:!0})},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(CONSTRUCTOR_NAME)}}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),notARegExp=__webpack_require__(347),requireObjectCoercible=__webpack_require__(33);$({target:"String",proto:!0,forced:!__webpack_require__(349)("includes")},{includes:function includes(searchString){return!!~String(requireObjectCoercible(this)).indexOf(notARegExp(searchString),arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__webpack_require__){var isRegExp=__webpack_require__(348);module.exports=function(it){if(isRegExp(it))throw TypeError("The method doesn't accept regular expressions");return it}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),classof=__webpack_require__(40),MATCH=__webpack_require__(10)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==classof(it))}},function(module,exports,__webpack_require__){var MATCH=__webpack_require__(10)("match");module.exports=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(e){try{return regexp[MATCH]=!1,"/./"[METHOD_NAME](regexp)}catch(f){}}return!1}},function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__(130),anObject=__webpack_require__(17),toObject=__webpack_require__(28),toLength=__webpack_require__(27),toInteger=__webpack_require__(113),requireObjectCoercible=__webpack_require__(33),advanceStringIndex=__webpack_require__(204),regExpExec=__webpack_require__(131),max=Math.max,min=Math.min,floor=Math.floor,SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d\d?|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d\d?)/g;fixRegExpWellKnownSymbolLogic("replace",2,function(REPLACE,nativeReplace,maybeCallNative){return[function replace(searchValue,replaceValue){var O=requireObjectCoercible(this),replacer=null==searchValue?void 0:searchValue[REPLACE];return void 0!==replacer?replacer.call(searchValue,O,replaceValue):nativeReplace.call(String(O),searchValue,replaceValue)},function(regexp,replaceValue){var res=maybeCallNative(nativeReplace,regexp,this,replaceValue);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),functionalReplace="function"==typeof replaceValue;functionalReplace||(replaceValue=String(replaceValue));var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}for(var results=[];;){var result=regExpExec(rx,S);if(null===result)break;if(results.push(result),!global)break;""===String(result[0])&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode))}for(var it,accumulatedResult="",nextSourcePosition=0,i=0;i<results.length;i++){result=results[i];for(var matched=String(result[0]),position=max(min(toInteger(result.index),S.length),0),captures=[],j=1;j<result.length;j++)captures.push(void 0===(it=result[j])?it:String(it));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);void 0!==namedCaptures&&replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(void 0,replacerArgs))}else replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue);position>=nextSourcePosition&&(accumulatedResult+=S.slice(nextSourcePosition,position)+replacement,nextSourcePosition=position+matched.length)}return accumulatedResult+S.slice(nextSourcePosition)}];function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length,m=captures.length,symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==namedCaptures&&(namedCaptures=toObject(namedCaptures),symbols=SUBSTITUTION_SYMBOLS),nativeReplace.call(replacement,symbols,function(match,ch){var capture;switch(ch.charAt(0)){case"$":return"$";case"&":return matched;case"`":return str.slice(0,position);case"'":return str.slice(tailPos);case"<":capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(0===n)return match;if(n>m){var f=floor(n/10);return 0===f?match:f<=m?void 0===captures[f-1]?ch.charAt(1):captures[f-1]+ch.charAt(1):match}capture=captures[n-1]}return void 0===capture?"":capture})}})},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g,util=__webpack_require__(206),Format={RFC1738:"RFC1738",RFC3986:"RFC3986"};module.exports=util.assign({default:Format.RFC3986,formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return String(value)}}},Format)},function(module,exports){var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function hasUnicode(string){return reHasUnicode.test(string)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(132),stackClear=__webpack_require__(671),stackDelete=__webpack_require__(672),stackGet=__webpack_require__(673),stackHas=__webpack_require__(674),stackSet=__webpack_require__(675);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(0))},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(213),eq=__webpack_require__(97);module.exports=function assignMergeValue(object,key,value){(void 0===value||eq(object[key],value))&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(61),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(31).Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var getPrototype=__webpack_require__(360)(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports){module.exports=function overArg(func,transform){return function(arg){return func(transform(arg))}}},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(703),isObjectLike=__webpack_require__(62),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;module.exports=function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}},function(module,exports){module.exports=function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(365),baseKeysIn=__webpack_require__(714),isArrayLike=__webpack_require__(137);module.exports=function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(713),isArguments=__webpack_require__(361),isArray=__webpack_require__(63),isBuffer=__webpack_require__(215),isIndex=__webpack_require__(366),isTypedArray=__webpack_require__(216),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function isIndex(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},function(module,exports){module.exports=function identity(value){return value}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(728),arraySome=__webpack_require__(731),cacheHas=__webpack_require__(732),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(44),__webpack_require__(29),__webpack_require__(370),__webpack_require__(24),__webpack_require__(46),__webpack_require__(45),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.createSubscriptionsStore=void 0;var createSubscriptionsStore=function createSubscriptionsStore(){var subscriptions=new Map;return{register:function register(subscribe){var subscription=subscriptions.get(subscribe);subscription||(subscription={unsubscribe:subscribe()},subscriptions.set(subscribe,subscription)),subscription.used=!0},markAllAsUnused:function markAllAsUnused(){subscriptions.forEach(function(subscription){subscription.used=!1})},clearUnused:function clearUnused(){subscriptions.forEach(function(subscription,key){subscription.used||(subscription.unsubscribe(),subscriptions.delete(key))})}}};exports.createSubscriptionsStore=createSubscriptionsStore;var _default=createSubscriptionsStore();exports.default=_default},function(module,exports,__webpack_require__){"use strict";var collection=__webpack_require__(203),collectionStrong=__webpack_require__(345);module.exports=collection("Map",function(init){return function Map(){return init(this,arguments.length?arguments[0]:void 0)}},collectionStrong)},function(module,exports,__webpack_require__){__webpack_require__(3)({target:"Object",stat:!0,sham:!__webpack_require__(19)},{create:__webpack_require__(69)})},function(module,exports,__webpack_require__){__webpack_require__(3)({target:"Object",stat:!0},{setPrototypeOf:__webpack_require__(194)})},function(module,exports,__webpack_require__){var $=__webpack_require__(766),global=__webpack_require__(36),userAgent=__webpack_require__(790),slice=[].slice,wrap=function(scheduler){return function(handler,timeout){var boundArgs=arguments.length>2,args=boundArgs?slice.call(arguments,2):void 0;return scheduler(boundArgs?function(){("function"==typeof handler?handler:Function(handler)).apply(this,args)}:handler,timeout)}};$({global:!0,bind:!0,forced:/MSIE .\./.test(userAgent)},{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)})},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(139),propertyIsEnumerableModule=__webpack_require__(767),createPropertyDescriptor=__webpack_require__(375),toIndexedObject=__webpack_require__(218),toPrimitive=__webpack_require__(376),has=__webpack_require__(98),IE8_DOM_DEFINE=__webpack_require__(377),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(141);module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;if("function"==typeof(fn=input.valueOf)&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(139),fails=__webpack_require__(140),createElement=__webpack_require__(771);module.exports=!DESCRIPTORS&&!fails(function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(139),IE8_DOM_DEFINE=__webpack_require__(377),anObject=__webpack_require__(379),toPrimitive=__webpack_require__(376),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(141);module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},function(module,exports,__webpack_require__){var shared=__webpack_require__(381),functionToString=Function.toString;module.exports=shared("inspectSource",function(it){return functionToString.call(it)})},function(module,exports,__webpack_require__){var IS_PURE=__webpack_require__(773),store=__webpack_require__(774);(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.4.5",mode:IS_PURE?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var path=__webpack_require__(781),global=__webpack_require__(36),aFunction=function(variable){return"function"==typeof variable?variable:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g,util=__webpack_require__(220),Format={RFC1738:"RFC1738",RFC3986:"RFC3986"};module.exports=util.assign({default:Format.RFC3986,formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return String(value)}}},Format)},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),$indexOf=__webpack_require__(184).indexOf,sloppyArrayMethod=__webpack_require__(88),nativeIndexOf=[].indexOf,NEGATIVE_ZERO=!!nativeIndexOf&&1/[1].indexOf(1,-0)<0,SLOPPY_METHOD=sloppyArrayMethod("indexOf");$({target:"Array",proto:!0,forced:NEGATIVE_ZERO||SLOPPY_METHOD},{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?nativeIndexOf.apply(this,arguments)||0:$indexOf(this,searchElement,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module){module.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(module){module.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(223),getRawTag=__webpack_require__(831),objectToString=__webpack_require__(832),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(841),getValue=__webpack_require__(846);module.exports=function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(module,exports){module.exports=function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g,util=__webpack_require__(225),Format={RFC1738:"RFC1738",RFC3986:"RFC3986"};module.exports=util.assign({default:Format.RFC3986,formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return String(value)}}},Format)},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={ContentHelpers:!0,request:!0,getRequest:!0,wrapRequest:!0,setCryptoStoreFactory:!0,createClient:!0,createNewMatrixCall:!0,setMatrixCallAudioOutput:!0,setMatrixCallAudioInput:!0,setMatrixCallVideoInput:!0};exports.request=function request(r){requestInstance=r},exports.getRequest=function getRequest(){return requestInstance},exports.wrapRequest=function wrapRequest(wrapper){const origRequest=requestInstance;requestInstance=function(options,callback){return wrapper(origRequest,options,callback)}},exports.setCryptoStoreFactory=function setCryptoStoreFactory(fac){cryptoStoreFactory=fac},exports.createClient=function createClient(opts){"string"==typeof opts&&(opts={baseUrl:opts});return opts.request=opts.request||requestInstance,opts.store=opts.store||new _memory.MemoryStore({localStorage:global.localStorage}),opts.scheduler=opts.scheduler||new _scheduler.MatrixScheduler,opts.cryptoStore=opts.cryptoStore||cryptoStoreFactory(),new _client.MatrixClient(opts)},Object.defineProperty(exports,"createNewMatrixCall",{enumerable:!0,get:function(){return _call.createNewMatrixCall}}),Object.defineProperty(exports,"setMatrixCallAudioOutput",{enumerable:!0,get:function(){return _call.setAudioOutput}}),Object.defineProperty(exports,"setMatrixCallAudioInput",{enumerable:!0,get:function(){return _call.setAudioInput}}),Object.defineProperty(exports,"setMatrixCallVideoInput",{enumerable:!0,get:function(){return _call.setVideoInput}}),exports.ContentHelpers=void 0;var _interopRequireWildcard2=_interopRequireDefault(__webpack_require__(4)),_memoryCryptoStore=__webpack_require__(227);Object.keys(_memoryCryptoStore).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _memoryCryptoStore[key]}}))});var _memory=__webpack_require__(395);Object.keys(_memory).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _memory[key]}}))});var _scheduler=__webpack_require__(888);Object.keys(_scheduler).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _scheduler[key]}}))});var _client=__webpack_require__(889);Object.keys(_client).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _client[key]}}))});var _httpApi=__webpack_require__(147);Object.keys(_httpApi).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _httpApi[key]}}))});var _autodiscovery=__webpack_require__(926);Object.keys(_autodiscovery).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _autodiscovery[key]}}))});var _syncAccumulator=__webpack_require__(410);Object.keys(_syncAccumulator).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _syncAccumulator[key]}}))});var _errors=__webpack_require__(233);Object.keys(_errors).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _errors[key]}}))});var _event=__webpack_require__(54);Object.keys(_event).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _event[key]}}))});var _room=__webpack_require__(397);Object.keys(_room).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _room[key]}}))});var _group=__webpack_require__(400);Object.keys(_group).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _group[key]}}))});var _eventTimeline=__webpack_require__(76);Object.keys(_eventTimeline).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _eventTimeline[key]}}))});var _eventTimelineSet=__webpack_require__(398);Object.keys(_eventTimelineSet).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _eventTimelineSet[key]}}))});var _roomMember=__webpack_require__(231);Object.keys(_roomMember).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _roomMember[key]}}))});var _roomState=__webpack_require__(399);Object.keys(_roomState).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _roomState[key]}}))});var _user=__webpack_require__(146);Object.keys(_user).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _user[key]}}))});var _filter=__webpack_require__(230);Object.keys(_filter).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _filter[key]}}))});var _timelineWindow=__webpack_require__(927);Object.keys(_timelineWindow).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _timelineWindow[key]}}))});var _interactiveAuth=__webpack_require__(928);Object.keys(_interactiveAuth).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _interactiveAuth[key]}}))});var _serviceTypes=__webpack_require__(396);Object.keys(_serviceTypes).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _serviceTypes[key]}}))});var _indexeddb=__webpack_require__(929);Object.keys(_indexeddb).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _indexeddb[key]}}))});var _webstorage=__webpack_require__(932);Object.keys(_webstorage).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _webstorage[key]}}))});var _indexeddbCryptoStore=__webpack_require__(99);Object.keys(_indexeddbCryptoStore).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _indexeddbCryptoStore[key]}}))});var _contentRepo=__webpack_require__(148);Object.keys(_contentRepo).forEach(function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _contentRepo[key]}}))});var _call=__webpack_require__(401);const ContentHelpers=Promise.resolve().then(()=>(0,_interopRequireWildcard2.default)(__webpack_require__(402)));let requestInstance;exports.ContentHelpers=ContentHelpers;let cryptoStoreFactory=()=>new _memoryCryptoStore.MemoryCryptoStore}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.MemoryStore=MemoryStore;var _user=__webpack_require__(146),utils=_interopRequireWildcard(__webpack_require__(5));function MemoryStore(opts){opts=opts||{},this.rooms={},this.groups={},this.users={},this.syncToken=null,this.filters={},this.accountData={},this.localStorage=opts.localStorage,this._oobMembers={},this._clientOptions={}}MemoryStore.prototype={getSyncToken:function(){return this.syncToken},isNewlyCreated:function(){return Promise.resolve(!0)},setSyncToken:function(token){this.syncToken=token},storeGroup:function(group){this.groups[group.groupId]=group},getGroup:function(groupId){return this.groups[groupId]||null},getGroups:function(){return utils.values(this.groups)},storeRoom:function(room){this.rooms[room.roomId]=room,room.currentState.on("RoomState.members",this._onRoomMember.bind(this));const self=this;room.currentState.getMembers().forEach(function(m){self._onRoomMember(null,room.currentState,m)})},_onRoomMember:function(event,state,member){if("invite"===member.membership)return;const user=this.users[member.userId]||new _user.User(member.userId);member.name&&(user.setDisplayName(member.name),member.events.member&&user.setRawDisplayName(member.events.member.getDirectionalContent().displayname)),member.events.member&&member.events.member.getContent().avatar_url&&user.setAvatarUrl(member.events.member.getContent().avatar_url),this.users[user.userId]=user},getRoom:function(roomId){return this.rooms[roomId]||null},getRooms:function(){return utils.values(this.rooms)},removeRoom:function(roomId){this.rooms[roomId]&&this.rooms[roomId].removeListener("RoomState.members",this._onRoomMember),delete this.rooms[roomId]},getRoomSummaries:function(){return utils.map(utils.values(this.rooms),function(room){return room.summary})},storeUser:function(user){this.users[user.userId]=user},getUser:function(userId){return this.users[userId]||null},getUsers:function(){return utils.values(this.users)},scrollback:function(room,limit){return[]},storeEvents:function(room,events,token,toStart){},storeFilter:function(filter){filter&&(this.filters[filter.userId]||(this.filters[filter.userId]={}),this.filters[filter.userId][filter.filterId]=filter)},getFilter:function(userId,filterId){return this.filters[userId]&&this.filters[userId][filterId]?this.filters[userId][filterId]:null},getFilterIdByName:function(filterName){if(!this.localStorage)return null;try{return this.localStorage.getItem("mxjssdk_memory_filter_"+filterName)}catch(e){}return null},setFilterIdByName:function(filterName,filterId){if(this.localStorage)try{this.localStorage.setItem("mxjssdk_memory_filter_"+filterName,filterId)}catch(e){}},storeAccountDataEvents:function(events){const self=this;events.forEach(function(event){self.accountData[event.getType()]=event})},getAccountData:function(eventType){return this.accountData[eventType]},setSyncData:function(syncData){return Promise.resolve()},wantsSave:function(){return!1},save:function(force){},startup:function(){return Promise.resolve()},getSavedSync:function(){return Promise.resolve(null)},getSavedSyncToken:function(){return Promise.resolve(null)},deleteAllData:function(){return this.rooms={},this.users={},this.syncToken=null,this.filters={},this.accountData={},Promise.resolve()},getOutOfBandMembers:function(roomId){return Promise.resolve(this._oobMembers[roomId]||null)},setOutOfBandMembers:function(roomId,membershipEvents){return this._oobMembers[roomId]=membershipEvents,Promise.resolve()},clearOutOfBandMembers:function(){return this._oobMembers={},Promise.resolve()},getClientOptions:function(){return Promise.resolve(this._clientOptions)},storeClientOptions:function(options){return this._clientOptions=Object.assign({},options),Promise.resolve()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SERVICE_TYPES=void 0;const SERVICE_TYPES=Object.freeze({IS:"SERVICE_TYPE_IS",IM:"SERVICE_TYPE_IM"});exports.SERVICE_TYPES=SERVICE_TYPES},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.Room=Room;var _events=__webpack_require__(18),_eventTimelineSet=__webpack_require__(398),_eventTimeline=__webpack_require__(76),_contentRepo=__webpack_require__(148),utils=_interopRequireWildcard(__webpack_require__(5)),_event=__webpack_require__(54),_roomMember=__webpack_require__(231),_roomSummary=__webpack_require__(902),_logger=__webpack_require__(2),_ReEmitter=__webpack_require__(232);const SAFE_ROOM_VERSIONS=["1","2","3","4","5"];function synthesizeReceipt(userId,event,receiptType){const fakeReceipt={content:{},type:"m.receipt",room_id:event.getRoomId()};return fakeReceipt.content[event.getId()]={},fakeReceipt.content[event.getId()][receiptType]={},fakeReceipt.content[event.getId()][receiptType][userId]={ts:event.getTs()},new _event.MatrixEvent(fakeReceipt)}function Room(roomId,client,myUserId,opts){if((opts=opts||{}).pendingEventOrdering=opts.pendingEventOrdering||"chronological",this.reEmitter=new _ReEmitter.ReEmitter(this),-1===["chronological","detached"].indexOf(opts.pendingEventOrdering))throw new Error("opts.pendingEventOrdering MUST be either 'chronological' or 'detached'. Got: '"+opts.pendingEventOrdering+"'");this.myUserId=myUserId,this.roomId=roomId,this.name=roomId,this.tags={},this.accountData={},this.summary=null,this.storageToken=opts.storageToken,this._opts=opts,this._txnToEvent={},this._receipts={},this._receiptCacheByEventId={},this._realReceipts={},this._notificationCounts={},this._timelineSets=[new _eventTimelineSet.EventTimelineSet(this,opts)],this.reEmitter.reEmit(this.getUnfilteredTimelineSet(),["Room.timeline","Room.timelineReset"]),this._fixUpLegacyTimelineFields(),this._filteredTimelineSets={},"detached"==this._opts.pendingEventOrdering&&(this._pendingEventList=[]),this._blacklistUnverifiedDevices=null,this._selfMembership=null,this._summaryHeroes=null,this._client=client,this._opts.lazyLoadMembers?this._membersPromise=null:this._membersPromise=Promise.resolve()}utils.inherits(Room,_events.EventEmitter),Room.prototype.getVersion=function(){const createEvent=this.currentState.getStateEvents("m.room.create","");if(!createEvent)return _logger.logger.warn("Room "+this.room_id+" does not have an m.room.create event"),"1";const ver=createEvent.getContent().room_version;return void 0===ver?"1":ver},Room.prototype.shouldUpgradeToVersion=function(){return SAFE_ROOM_VERSIONS.includes(this.getVersion())?null:"5"},Room.prototype.getRecommendedVersion=async function(){let versionCap=(await this._client.getCapabilities())["m.room_versions"];if(!versionCap){versionCap={default:"5",available:{}};for(const safeVer of SAFE_ROOM_VERSIONS)versionCap.available[safeVer]="stable"}let result=this._checkVersionAgainstCapability(versionCap);if(result.urgent&&result.needsUpgrade){if(_logger.logger.warn("Refreshing room version capability because the server looks to be supporting a newer room version we don't know about."),!(versionCap=(await this._client.getCapabilities(!0))["m.room_versions"]))return _logger.logger.warn("No room version capability - assuming upgrade required."),result;result=this._checkVersionAgainstCapability(versionCap)}return result},Room.prototype._checkVersionAgainstCapability=function(versionCap){const currentVersion=this.getVersion();_logger.logger.log(`[${this.roomId}] Current version: ${currentVersion}`),_logger.logger.log(`[${this.roomId}] Version capability: `,versionCap);const result={version:currentVersion,needsUpgrade:!1,urgent:!1};return currentVersion===versionCap.default?result:Object.keys(versionCap.available).filter(v=>"stable"===versionCap.available[v]).includes(currentVersion)?result:(result.version=versionCap.default,result.needsUpgrade=!0,result.urgent=!!this.getVersion().match(/^[0-9]+[0-9.]*$/g),result.urgent?_logger.logger.warn(`URGENT upgrade required on ${this.roomId}`):_logger.logger.warn(`Non-urgent upgrade required on ${this.roomId}`),result)},Room.prototype.userMayUpgradeRoom=function(userId){return this.currentState.maySendStateEvent("m.room.tombstone",userId)},Room.prototype.getPendingEvents=function(){if("detached"!==this._opts.pendingEventOrdering)throw new Error("Cannot call getPendingEvents with pendingEventOrdering == "+this._opts.pendingEventOrdering);return this._pendingEventList},Room.prototype.hasPendingEvent=function(eventId){if("detached"!==this._opts.pendingEventOrdering)throw new Error("Cannot call hasPendingEvent with pendingEventOrdering == "+this._opts.pendingEventOrdering);return this._pendingEventList.some(event=>event.getId()===eventId)},Room.prototype.getLiveTimeline=function(){return this.getUnfilteredTimelineSet().getLiveTimeline()},Room.prototype.getLastActiveTimestamp=function(){const events=this.getLiveTimeline().getEvents();if(events.length){return events[events.length-1].getTs()}return Number.MIN_SAFE_INTEGER},Room.prototype.getMyMembership=function(){return this._selfMembership},Room.prototype.getDMInviter=function(){if(this.myUserId){const me=this.getMember(this.myUserId);if(me)return me.getDMInviter()}if("invite"===this._selfMembership){if(2==this.getInvitedAndJoinedMemberCount()&&this._summaryHeroes.length)return this._summaryHeroes[0]}},Room.prototype.guessDMUserId=function(){const me=this.getMember(this.myUserId);if(me){const inviterId=me.getDMInviter();if(inviterId)return inviterId}if(Array.isArray(this._summaryHeroes)&&this._summaryHeroes.length)return this._summaryHeroes[0];const anyMember=this.currentState.getMembers().find(m=>m.userId!==this.myUserId);return anyMember?anyMember.userId:this.myUserId},Room.prototype.getAvatarFallbackMember=function(){if(this.getInvitedAndJoinedMemberCount()>2)return;const hasHeroes=Array.isArray(this._summaryHeroes)&&this._summaryHeroes.length;if(hasHeroes){const availableMember=this._summaryHeroes.map(userId=>this.getMember(userId)).find(member=>!!member);if(availableMember)return availableMember}const members=this.currentState.getMembers();if(members.length<=2){const availableMember=members.find(m=>m.userId!==this.myUserId);if(availableMember)return availableMember}if(hasHeroes){const availableUser=this._summaryHeroes.map(userId=>this._client.getUser(userId)).find(user=>!!user);if(availableUser){const member=new _roomMember.RoomMember(this.roomId,availableUser.userId);return member.user=availableUser,member}}},Room.prototype.updateMyMembership=function(membership){const prevMembership=this._selfMembership;this._selfMembership=membership,prevMembership!==membership&&("leave"===membership&&this._cleanupAfterLeaving(),this.emit("Room.myMembership",this,membership,prevMembership))},Room.prototype._loadMembersFromServer=async function(){const lastSyncToken=this._client.store.getSyncToken(),queryString=utils.encodeParams({not_membership:"leave",at:lastSyncToken}),path=utils.encodeUri("/rooms/$roomId/members?"+queryString,{$roomId:this.roomId}),http=this._client._http;return(await http.authedRequest(void 0,"GET",path)).chunk},Room.prototype._loadMembers=async function(){let fromServer=!1,rawMembersEvents=await this._client.store.getOutOfBandMembers(this.roomId);return null===rawMembersEvents&&(fromServer=!0,rawMembersEvents=await this._loadMembersFromServer(),_logger.logger.log(`LL: got ${rawMembersEvents.length} `+`members from server for room ${this.roomId}`)),{memberEvents:rawMembersEvents.map(this._client.getEventMapper()),fromServer:fromServer}},Room.prototype.loadMembersIfNeeded=function(){if(this._membersPromise)return this._membersPromise;this.currentState.markOutOfBandMembersStarted();const inMemoryUpdate=this._loadMembers().then(result=>(this.currentState.setOutOfBandMembers(result.memberEvents),this._client.isCryptoEnabled()&&this._client.isRoomEncrypted(this.roomId)&&this._client._crypto.trackRoomDevices(this.roomId),result.fromServer)).catch(err=>{throw this._membersPromise=null,this.currentState.markOutOfBandMembersFailed(),err});return inMemoryUpdate.then(fromServer=>{if(fromServer){const oobMembers=this.currentState.getMembers().filter(m=>m.isOutOfBand()).map(m=>m.events.member.event);return _logger.logger.log(`LL: telling store to write ${oobMembers.length}`+` members for room ${this.roomId}`),this._client.store.setOutOfBandMembers(this.roomId,oobMembers).catch(err=>{_logger.logger.log("LL: storing OOB room members failed, oh well",err)})}}).catch(err=>{_logger.logger.error(err)}),this._membersPromise=inMemoryUpdate,this._membersPromise},Room.prototype.clearLoadedMembersIfNeeded=async function(){this._opts.lazyLoadMembers&&this._membersPromise&&(await this.loadMembersIfNeeded(),await this._client.store.clearOutOfBandMembers(this.roomId),this.currentState.clearOutOfBandMembers(),this._membersPromise=null)},Room.prototype._cleanupAfterLeaving=function(){this.clearLoadedMembersIfNeeded().catch(err=>{_logger.logger.error("error after clearing loaded members from "+`room ${this.roomId} after leaving`),_logger.logger.log(err)})},Room.prototype.resetLiveTimeline=function(backPaginationToken,forwardPaginationToken){for(let i=0;i<this._timelineSets.length;i++)this._timelineSets[i].resetLiveTimeline(backPaginationToken,forwardPaginationToken);this._fixUpLegacyTimelineFields()},Room.prototype._fixUpLegacyTimelineFields=function(){this.timeline=this.getLiveTimeline().getEvents(),this.oldState=this.getLiveTimeline().getState(_eventTimeline.EventTimeline.BACKWARDS),this.currentState=this.getLiveTimeline().getState(_eventTimeline.EventTimeline.FORWARDS)},Room.prototype.hasUnverifiedDevices=async function(){if(!this._client.isRoomEncrypted(this.roomId))return!1;const e2eMembers=await this.getEncryptionTargetMembers();for(const member of e2eMembers){if((await this._client.getStoredDevicesForUser(member.userId)).some(device=>device.isUnverified()))return!0}return!1},Room.prototype.getTimelineSets=function(){return this._timelineSets},Room.prototype.getUnfilteredTimelineSet=function(){return this._timelineSets[0]},Room.prototype.getTimelineForEvent=function(eventId){return this.getUnfilteredTimelineSet().getTimelineForEvent(eventId)},Room.prototype.addTimeline=function(){return this.getUnfilteredTimelineSet().addTimeline()},Room.prototype.findEventById=function(eventId){return this.getUnfilteredTimelineSet().findEventById(eventId)},Room.prototype.getUnreadNotificationCount=function(type){return type=type||"total",this._notificationCounts[type]},Room.prototype.setUnreadNotificationCount=function(type,count){this._notificationCounts[type]=count},Room.prototype.setSummary=function(summary){const heroes=summary["m.heroes"],joinedCount=summary["m.joined_member_count"],invitedCount=summary["m.invited_member_count"];Number.isInteger(joinedCount)&&this.currentState.setJoinedMemberCount(joinedCount),Number.isInteger(invitedCount)&&this.currentState.setInvitedMemberCount(invitedCount),Array.isArray(heroes)&&(this._summaryHeroes=heroes.filter(userId=>userId!==this.myUserId))},Room.prototype.setBlacklistUnverifiedDevices=function(value){this._blacklistUnverifiedDevices=value},Room.prototype.getBlacklistUnverifiedDevices=function(){return this._blacklistUnverifiedDevices},Room.prototype.getAvatarUrl=function(baseUrl,width,height,resizeMethod,allowDefault){const roomAvatarEvent=this.currentState.getStateEvents("m.room.avatar","");if(void 0===allowDefault&&(allowDefault=!0),!roomAvatarEvent&&!allowDefault)return null;const mainUrl=roomAvatarEvent?roomAvatarEvent.getContent().url:null;return mainUrl?(0,_contentRepo.getHttpUriForMxc)(baseUrl,mainUrl,width,height,resizeMethod):allowDefault?(0,_contentRepo.getIdenticonUri)(baseUrl,this.roomId,width,height):null},Room.prototype.getAliases=function(){const aliasStrings=[],aliasEvents=this.currentState.getStateEvents("m.room.aliases");if(aliasEvents)for(let i=0;i<aliasEvents.length;++i){const aliasEvent=aliasEvents[i];if(utils.isArray(aliasEvent.getContent().aliases)){const filteredAliases=aliasEvent.getContent().aliases.filter(a=>"string"==typeof a&&("#"===a[0]&&!!a.endsWith(`:${aliasEvent.getStateKey()}`)));Array.prototype.push.apply(aliasStrings,filteredAliases)}}return aliasStrings},Room.prototype.getCanonicalAlias=function(){const canonicalAlias=this.currentState.getStateEvents("m.room.canonical_alias","");return canonicalAlias?canonicalAlias.getContent().alias:null},Room.prototype.addEventsToTimeline=function(events,toStartOfTimeline,timeline,paginationToken){timeline.getTimelineSet().addEventsToTimeline(events,toStartOfTimeline,timeline,paginationToken)},Room.prototype.getMember=function(userId){return this.currentState.getMember(userId)},Room.prototype.getJoinedMembers=function(){return this.getMembersWithMembership("join")},Room.prototype.getJoinedMemberCount=function(){return this.currentState.getJoinedMemberCount()},Room.prototype.getInvitedMemberCount=function(){return this.currentState.getInvitedMemberCount()},Room.prototype.getInvitedAndJoinedMemberCount=function(){return this.getInvitedMemberCount()+this.getJoinedMemberCount()},Room.prototype.getMembersWithMembership=function(membership){return utils.filter(this.currentState.getMembers(),function(m){return m.membership===membership})},Room.prototype.getEncryptionTargetMembers=async function(){await this.loadMembersIfNeeded();let members=this.getMembersWithMembership("join");return this.shouldEncryptForInvitedMembers()&&(members=members.concat(this.getMembersWithMembership("invite"))),members},Room.prototype.shouldEncryptForInvitedMembers=function(){const ev=this.currentState.getStateEvents("m.room.history_visibility","");return ev&&ev.getContent()&&"joined"!==ev.getContent().history_visibility},Room.prototype.getDefaultRoomName=function(userId){return calculateRoomName(this,userId,!0)},Room.prototype.hasMembershipState=function(userId,membership){const member=this.getMember(userId);return!!member&&member.membership===membership},Room.prototype.getOrCreateFilteredTimelineSet=function(filter){if(this._filteredTimelineSets[filter.filterId])return this._filteredTimelineSets[filter.filterId];const opts=Object.assign({filter:filter},this._opts),timelineSet=new _eventTimelineSet.EventTimelineSet(this,opts);this.reEmitter.reEmit(timelineSet,["Room.timeline","Room.timelineReset"]),this._filteredTimelineSets[filter.filterId]=timelineSet,this._timelineSets.push(timelineSet);const unfilteredLiveTimeline=this.getLiveTimeline();unfilteredLiveTimeline.getEvents().forEach(function(event){timelineSet.addLiveEvent(event)});let timeline=unfilteredLiveTimeline;for(;timeline.getNeighbouringTimeline(_eventTimeline.EventTimeline.BACKWARDS);)timeline=timeline.getNeighbouringTimeline(_eventTimeline.EventTimeline.BACKWARDS);return timelineSet.getLiveTimeline().setPaginationToken(timeline.getPaginationToken(_eventTimeline.EventTimeline.BACKWARDS),_eventTimeline.EventTimeline.BACKWARDS),timelineSet},Room.prototype.removeFilteredTimelineSet=function(filter){const timelineSet=this._filteredTimelineSets[filter.filterId];delete this._filteredTimelineSets[filter.filterId];const i=this._timelineSets.indexOf(timelineSet);i>-1&&this._timelineSets.splice(i,1)},Room.prototype._addLiveEvent=function(event,duplicateStrategy){if(event.isRedaction()){const redactId=event.event.redacts,redactedEvent=this.getUnfilteredTimelineSet().findEventById(redactId);if(redactedEvent){if(redactedEvent.makeRedacted(event),redactedEvent.getStateKey()){this.currentState.getStateEvents(redactedEvent.getType(),redactedEvent.getStateKey()).getId()===redactedEvent.getId()&&this.currentState.setStateEvents([redactedEvent])}this.emit("Room.redaction",event,this)}}if(event.getUnsigned().transaction_id){const existingEvent=this._txnToEvent[event.getUnsigned().transaction_id];if(existingEvent)return void this._handleRemoteEcho(event,existingEvent)}for(let i=0;i<this._timelineSets.length;i++)this._timelineSets[i].addLiveEvent(event,duplicateStrategy);event.sender&&"m.room.redaction"!==event.getType()&&this.addReceipt(synthesizeReceipt(event.sender.userId,event,"m.read"),!0)},Room.prototype.addPendingEvent=function(event,txnId){if(event.status!==_event.EventStatus.SENDING)throw new Error("addPendingEvent called on an event with status "+event.status);if(this._txnToEvent[txnId])throw new Error("addPendingEvent called on an event with known txnId "+txnId);if(_eventTimeline.EventTimeline.setEventMetadata(event,this.getLiveTimeline().getState(_eventTimeline.EventTimeline.FORWARDS),!1),this._txnToEvent[txnId]=event,"detached"==this._opts.pendingEventOrdering){if(this._pendingEventList.some(e=>e.status===_event.EventStatus.NOT_SENT)&&(_logger.logger.warn("Setting event as NOT_SENT due to messages in the same state"),event.setStatus(_event.EventStatus.NOT_SENT)),this._pendingEventList.push(event),event.isRelation()&&this._aggregateNonLiveRelation(event),event.isRedaction()){const redactId=event.event.redacts;let redactedEvent=this._pendingEventList&&this._pendingEventList.find(e=>e.getId()===redactId);redactedEvent||(redactedEvent=this.getUnfilteredTimelineSet().findEventById(redactId)),redactedEvent&&(redactedEvent.markLocallyRedacted(event),this.emit("Room.redaction",event,this))}}else for(let i=0;i<this._timelineSets.length;i++){const timelineSet=this._timelineSets[i];timelineSet.getFilter()?timelineSet.getFilter().filterRoomTimeline([event]).length&&timelineSet.addEventToTimeline(event,timelineSet.getLiveTimeline(),!1):timelineSet.addEventToTimeline(event,timelineSet.getLiveTimeline(),!1)}this.emit("Room.localEchoUpdated",event,this,null,null)},Room.prototype._aggregateNonLiveRelation=function(event){for(let i=0;i<this._timelineSets.length;i++){const timelineSet=this._timelineSets[i];timelineSet.getFilter()?timelineSet.getFilter().filterRoomTimeline([event]).length&&timelineSet.aggregateRelations(event):timelineSet.aggregateRelations(event)}},Room.prototype._handleRemoteEcho=function(remoteEvent,localEvent){const oldEventId=localEvent.getId(),newEventId=remoteEvent.getId(),oldStatus=localEvent.status;delete this._txnToEvent[remoteEvent.getUnsigned().transaction_id],this._pendingEventList&&utils.removeElement(this._pendingEventList,function(ev){return ev.getId()==oldEventId},!1),localEvent.handleRemoteEcho(remoteEvent.event);for(let i=0;i<this._timelineSets.length;i++){this._timelineSets[i].handleRemoteEcho(localEvent,oldEventId,newEventId)}this.emit("Room.localEchoUpdated",localEvent,this,oldEventId,oldStatus)};const ALLOWED_TRANSITIONS={};function calculateRoomName(room,userId,ignoreRoomNameEvent){if(!ignoreRoomNameEvent){const mRoomName=room.currentState.getStateEvents("m.room.name","");if(mRoomName&&mRoomName.getContent()&&mRoomName.getContent().name)return mRoomName.getContent().name}let alias=room.getCanonicalAlias();if(!alias){const aliases=room.getAliases();aliases.length&&(alias=aliases[0])}if(alias)return alias;const inviteJoinCount=room.currentState.getJoinedMemberCount()+room.currentState.getInvitedMemberCount()-1;let otherNames=null;if(room._summaryHeroes)otherNames=room._summaryHeroes.map(userId=>{const member=room.getMember(userId);return member?member.name:userId});else{let otherMembers=room.currentState.getMembers().filter(m=>m.userId!==userId&&("invite"===m.membership||"join"===m.membership));otherMembers.sort((a,b)=>a.userId.localeCompare(b.userId)),otherNames=(otherMembers=otherMembers.slice(0,5)).map(m=>m.name)}if(inviteJoinCount)return memberNamesToRoomName(otherNames,inviteJoinCount);if("join"==room.getMyMembership()){const thirdPartyInvites=room.currentState.getStateEvents("m.room.third_party_invite");if(thirdPartyInvites&&thirdPartyInvites.length){return`Inviting ${memberNamesToRoomName(thirdPartyInvites.map(i=>i.getContent().display_name))}`}}let leftNames=otherNames;return leftNames.length||(leftNames=room.currentState.getMembers().filter(m=>m.userId!==userId&&"invite"!==m.membership&&"join"!==m.membership).map(m=>m.name)),leftNames.length?`Empty room (was ${memberNamesToRoomName(leftNames)})`:"Empty room"}function memberNamesToRoomName(names,count=names.length+1){const countWithoutMe=count-1;if(names.length){if(1===names.length&&countWithoutMe<=1)return names[0];if(2===names.length&&countWithoutMe<=2)return`${names[0]} and ${names[1]}`;return countWithoutMe>1?`${names[0]} and ${countWithoutMe} others`:`${names[0]} and 1 other`}return"Empty room"}ALLOWED_TRANSITIONS[_event.EventStatus.ENCRYPTING]=[_event.EventStatus.SENDING,_event.EventStatus.NOT_SENT],ALLOWED_TRANSITIONS[_event.EventStatus.SENDING]=[_event.EventStatus.ENCRYPTING,_event.EventStatus.QUEUED,_event.EventStatus.NOT_SENT,_event.EventStatus.SENT],ALLOWED_TRANSITIONS[_event.EventStatus.QUEUED]=[_event.EventStatus.SENDING,_event.EventStatus.CANCELLED],ALLOWED_TRANSITIONS[_event.EventStatus.SENT]=[],ALLOWED_TRANSITIONS[_event.EventStatus.NOT_SENT]=[_event.EventStatus.SENDING,_event.EventStatus.QUEUED,_event.EventStatus.CANCELLED],ALLOWED_TRANSITIONS[_event.EventStatus.CANCELLED]=[],Room.prototype.updatePendingEvent=function(event,newStatus,newEventId){if(_logger.logger.log(`setting pendingEvent status to ${newStatus} in ${event.getRoomId()}`),newStatus==_event.EventStatus.SENT&&!newEventId)throw new Error("updatePendingEvent called with status=SENT, but no new event id");if(newStatus==_event.EventStatus.SENT){if(this.getUnfilteredTimelineSet().eventIdToTimeline(newEventId))return}const oldStatus=event.status,oldEventId=event.getId();if(!oldStatus)throw new Error("updatePendingEventStatus called on an event which is not a local echo.");const allowed=ALLOWED_TRANSITIONS[oldStatus];if(!allowed||allowed.indexOf(newStatus)<0)throw new Error("Invalid EventStatus transition "+oldStatus+"->"+newStatus);if(event.setStatus(newStatus),newStatus==_event.EventStatus.SENT){event.replaceLocalEventId(newEventId);for(let i=0;i<this._timelineSets.length;i++)this._timelineSets[i].replaceEventId(oldEventId,newEventId)}else if(newStatus==_event.EventStatus.CANCELLED){if(this._pendingEventList){const idx=this._pendingEventList.findIndex(ev=>ev.getId()===oldEventId);if(-1!==idx){const[removedEvent]=this._pendingEventList.splice(idx,1);removedEvent.isRedaction()&&this._revertRedactionLocalEcho(removedEvent)}}this.removeEvent(oldEventId)}this.emit("Room.localEchoUpdated",event,this,oldEventId,oldStatus)},Room.prototype._revertRedactionLocalEcho=function(redactionEvent){const redactId=redactionEvent.event.redacts;if(!redactId)return;const redactedEvent=this.getUnfilteredTimelineSet().findEventById(redactId);redactedEvent&&(redactedEvent.unmarkLocallyRedacted(),this.emit("Room.redactionCancelled",redactionEvent,this),redactedEvent.isRelation()&&this._aggregateNonLiveRelation(redactedEvent))},Room.prototype.addLiveEvents=function(events,duplicateStrategy){let i;if(duplicateStrategy&&-1===["replace","ignore"].indexOf(duplicateStrategy))throw new Error("duplicateStrategy MUST be either 'replace' or 'ignore'");for(i=0;i<this._timelineSets.length;i++){const liveTimeline=this._timelineSets[i].getLiveTimeline();if(liveTimeline.getPaginationToken(_eventTimeline.EventTimeline.FORWARDS))throw new Error("live timeline "+i+" is no longer live - it has a pagination token ("+liveTimeline.getPaginationToken(_eventTimeline.EventTimeline.FORWARDS)+")");if(liveTimeline.getNeighbouringTimeline(_eventTimeline.EventTimeline.FORWARDS))throw new Error("live timeline "+i+" is no longer live - it has a neighbouring timeline")}for(i=0;i<events.length;i++)this._addLiveEvent(events[i],duplicateStrategy)},Room.prototype.addEphemeralEvents=function(events){for(const event of events)"m.typing"===event.getType()?this.currentState.setTypingEvent(event):"m.receipt"===event.getType()&&this.addReceipt(event)},Room.prototype.removeEvents=function(eventIds){for(let i=0;i<eventIds.length;++i)this.removeEvent(eventIds[i])},Room.prototype.removeEvent=function(eventId){let removedAny=!1;for(let i=0;i<this._timelineSets.length;i++){const removed=this._timelineSets[i].removeEvent(eventId);removed&&(removed.isRedaction()&&this._revertRedactionLocalEcho(removed),removedAny=!0)}return removedAny},Room.prototype.recalculate=function(){const self=this,membershipEvent=this.currentState.getStateEvents("m.room.member",this.myUserId);if(membershipEvent&&"invite"===membershipEvent.getContent().membership){const strippedStateEvents=membershipEvent.event.invite_room_state||[];utils.forEach(strippedStateEvents,function(strippedEvent){self.currentState.getStateEvents(strippedEvent.type,strippedEvent.state_key)||self.currentState.setStateEvents([new _event.MatrixEvent({type:strippedEvent.type,state_key:strippedEvent.state_key,content:strippedEvent.content,event_id:"$fake"+Date.now(),room_id:self.roomId,user_id:self.myUserId})])})}const oldName=this.name;this.name=calculateRoomName(this,this.myUserId),this.summary=new _roomSummary.RoomSummary(this.roomId,{title:this.name}),oldName!==this.name&&this.emit("Room.name",this)},Room.prototype.getUsersReadUpTo=function(event){return this.getReceiptsForEvent(event).filter(function(receipt){return"m.read"===receipt.type}).map(function(receipt){return receipt.userId})},Room.prototype.getEventReadUpTo=function(userId,ignoreSynthesized){let receipts=this._receipts;return ignoreSynthesized&&(receipts=this._realReceipts),void 0===receipts["m.read"]||void 0===receipts["m.read"][userId]?null:receipts["m.read"][userId].eventId},Room.prototype.hasUserReadEvent=function(userId,eventId){const readUpToId=this.getEventReadUpTo(userId,!1);if(readUpToId===eventId)return!0;if(this.timeline.length&&this.timeline[this.timeline.length-1].getSender()&&this.timeline[this.timeline.length-1].getSender()===userId)return!0;for(let i=this.timeline.length-1;i>=0;--i){const ev=this.timeline[i];if(ev.getId()===eventId)return!1;if(ev.getId()===readUpToId)return!0}return!1},Room.prototype.getReceiptsForEvent=function(event){return this._receiptCacheByEventId[event.getId()]||[]},Room.prototype.addReceipt=function(event,fake){void 0===fake&&(fake=!1),fake||this._addReceiptsToStructure(event,this._realReceipts),this._addReceiptsToStructure(event,this._receipts),this._receiptCacheByEventId=this._buildReceiptCache(this._receipts),this.emit("Room.receipt",event,this)},Room.prototype._addReceiptsToStructure=function(event,receipts){const self=this;utils.keys(event.getContent()).forEach(function(eventId){utils.keys(event.getContent()[eventId]).forEach(function(receiptType){utils.keys(event.getContent()[eventId][receiptType]).forEach(function(userId){const receipt=event.getContent()[eventId][receiptType][userId];receipts[receiptType]||(receipts[receiptType]={});const existingReceipt=receipts[receiptType][userId];if(existingReceipt){const ordering=self.getUnfilteredTimelineSet().compareEventOrdering(existingReceipt.eventId,eventId);if(null!==ordering&&ordering>=0)return}else receipts[receiptType][userId]={};receipts[receiptType][userId]={eventId:eventId,data:receipt}})})})},Room.prototype._buildReceiptCache=function(receipts){const receiptCacheByEventId={};return utils.keys(receipts).forEach(function(receiptType){utils.keys(receipts[receiptType]).forEach(function(userId){const receipt=receipts[receiptType][userId];receiptCacheByEventId[receipt.eventId]||(receiptCacheByEventId[receipt.eventId]=[]),receiptCacheByEventId[receipt.eventId].push({userId:userId,type:receiptType,data:receipt.data})})}),receiptCacheByEventId},Room.prototype._addLocalEchoReceipt=function(userId,e,receiptType){this.addReceipt(synthesizeReceipt(userId,e,receiptType),!0)},Room.prototype.addTags=function(event){this.tags=event.getContent().tags||{},this.emit("Room.tags",event,this)},Room.prototype.addAccountData=function(events){for(let i=0;i<events.length;i++){const event=events[i];"m.tag"===event.getType()&&this.addTags(event),this.accountData[event.getType()]=event,this.emit("Room.accountData",event,this)}},Room.prototype.getAccountData=function(type){return this.accountData[type]},Room.prototype.maySendMessage=function(){return"join"===this.getMyMembership()&&this.currentState.maySendEvent("m.room.message",this.myUserId)}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventTimelineSet=EventTimelineSet;var _events=__webpack_require__(18),_eventTimeline=__webpack_require__(76),_event=__webpack_require__(54),utils=_interopRequireWildcard(__webpack_require__(5)),_logger=__webpack_require__(2),_relations=__webpack_require__(900);let debuglog;function EventTimelineSet(room,opts){this.room=room,this._timelineSupport=Boolean(opts.timelineSupport),this._liveTimeline=new _eventTimeline.EventTimeline(this),this._unstableClientRelationAggregation=!!opts.unstableClientRelationAggregation,this._timelines=[this._liveTimeline],this._eventIdToTimeline={},this._filter=opts.filter||null,this._unstableClientRelationAggregation&&(this._relations={})}debuglog=_logger.logger.log.bind(_logger.logger),utils.inherits(EventTimelineSet,_events.EventEmitter),EventTimelineSet.prototype.getTimelines=function(){return this._timelines},EventTimelineSet.prototype.getFilter=function(){return this._filter},EventTimelineSet.prototype.setFilter=function(filter){this._filter=filter},EventTimelineSet.prototype.getPendingEvents=function(){return this.room?this._filter?this._filter.filterRoomTimeline(this.room.getPendingEvents()):this.room.getPendingEvents():[]},EventTimelineSet.prototype.getLiveTimeline=function(){return this._liveTimeline},EventTimelineSet.prototype.eventIdToTimeline=function(eventId){return this._eventIdToTimeline[eventId]},EventTimelineSet.prototype.replaceEventId=function(oldEventId,newEventId){const existingTimeline=this._eventIdToTimeline[oldEventId];existingTimeline&&(delete this._eventIdToTimeline[oldEventId],this._eventIdToTimeline[newEventId]=existingTimeline)},EventTimelineSet.prototype.resetLiveTimeline=function(backPaginationToken,forwardPaginationToken){const resetAllTimelines=!this._timelineSupport||!forwardPaginationToken,oldTimeline=this._liveTimeline,newTimeline=resetAllTimelines?oldTimeline.forkLive(_eventTimeline.EventTimeline.FORWARDS):oldTimeline.fork(_eventTimeline.EventTimeline.FORWARDS);resetAllTimelines?(this._timelines=[newTimeline],this._eventIdToTimeline={}):this._timelines.push(newTimeline),forwardPaginationToken&&oldTimeline.setPaginationToken(forwardPaginationToken,_eventTimeline.EventTimeline.FORWARDS),newTimeline.setPaginationToken(backPaginationToken,_eventTimeline.EventTimeline.BACKWARDS),this._liveTimeline=newTimeline,this.emit("Room.timelineReset",this.room,this,resetAllTimelines)},EventTimelineSet.prototype.getTimelineForEvent=function(eventId){const res=this._eventIdToTimeline[eventId];return void 0===res?null:res},EventTimelineSet.prototype.findEventById=function(eventId){const tl=this.getTimelineForEvent(eventId);if(tl)return utils.findElement(tl.getEvents(),function(ev){return ev.getId()==eventId})},EventTimelineSet.prototype.addTimeline=function(){if(!this._timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");const timeline=new _eventTimeline.EventTimeline(this);return this._timelines.push(timeline),timeline},EventTimelineSet.prototype.addEventsToTimeline=function(events,toStartOfTimeline,timeline,paginationToken){if(!timeline)throw new Error("'timeline' not specified for EventTimelineSet.addEventsToTimeline");if(!toStartOfTimeline&&timeline==this._liveTimeline)throw new Error("EventTimelineSet.addEventsToTimeline cannot be used for adding events to the live timeline - use Room.addLiveEvents instead");if(this._filter&&!(events=this._filter.filterRoomTimeline(events)).length)return;const direction=toStartOfTimeline?_eventTimeline.EventTimeline.BACKWARDS:_eventTimeline.EventTimeline.FORWARDS,inverseDirection=toStartOfTimeline?_eventTimeline.EventTimeline.FORWARDS:_eventTimeline.EventTimeline.BACKWARDS;let didUpdate=!1,lastEventWasNew=!1;for(let i=0;i<events.length;i++){const event=events[i],eventId=event.getId(),existingTimeline=this._eventIdToTimeline[eventId];if(!existingTimeline){this.addEventToTimeline(event,timeline,toStartOfTimeline),lastEventWasNew=!0,didUpdate=!0;continue}if(lastEventWasNew=!1,existingTimeline==timeline){debuglog("Event "+eventId+" already in timeline "+timeline);continue}const neighbour=timeline.getNeighbouringTimeline(direction);if(neighbour){debuglog(existingTimeline==neighbour?"Event "+eventId+" in neighbouring timeline - switching to "+existingTimeline:"Event "+eventId+" already in a different timeline "+existingTimeline),timeline=existingTimeline;continue}_logger.logger.info("Already have timeline for "+eventId+" - joining timeline "+timeline+" to "+existingTimeline);const existingIsLive=existingTimeline===this._liveTimeline,timelineIsLive=timeline===this._liveTimeline,backwardsIsLive=direction===_eventTimeline.EventTimeline.BACKWARDS&&existingIsLive,forwardsIsLive=direction===_eventTimeline.EventTimeline.FORWARDS&&timelineIsLive;backwardsIsLive||forwardsIsLive?(backwardsIsLive&&_logger.logger.warn("Refusing to set a preceding existingTimeLine on our timeline as the existingTimeLine is live ("+existingTimeline+")"),forwardsIsLive&&_logger.logger.warn("Refusing to set our preceding timeline on a existingTimeLine as our timeline is live ("+timeline+")")):(timeline.setNeighbouringTimeline(existingTimeline,direction),existingTimeline.setNeighbouringTimeline(timeline,inverseDirection),timeline=existingTimeline,didUpdate=!0)}if(lastEventWasNew||!didUpdate){if(direction===_eventTimeline.EventTimeline.FORWARDS&&timeline===this._liveTimeline)return _logger.logger.warn({lastEventWasNew:lastEventWasNew,didUpdate:didUpdate}),void _logger.logger.warn("Refusing to set forwards pagination token of live timeline "+`${timeline} to ${paginationToken}`);timeline.setPaginationToken(paginationToken,direction)}},EventTimelineSet.prototype.addLiveEvent=function(event,duplicateStrategy){if(this._filter){if(!this._filter.filterRoomTimeline([event]).length)return}const timeline=this._eventIdToTimeline[event.getId()];if(timeline)if("replace"===duplicateStrategy){debuglog("EventTimelineSet.addLiveEvent: replacing duplicate event "+event.getId());const tlEvents=timeline.getEvents();for(let j=0;j<tlEvents.length;j++)if(tlEvents[j].getId()===event.getId()){_eventTimeline.EventTimeline.setEventMetadata(event,timeline.getState(_eventTimeline.EventTimeline.FORWARDS),!1),tlEvents[j].encryptedType||(tlEvents[j]=event);break}}else debuglog("EventTimelineSet.addLiveEvent: ignoring duplicate event "+event.getId());else this.addEventToTimeline(event,this._liveTimeline,!1)},EventTimelineSet.prototype.addEventToTimeline=function(event,timeline,toStartOfTimeline){const eventId=event.getId();timeline.addEvent(event,toStartOfTimeline),this._eventIdToTimeline[eventId]=timeline,this.setRelationsTarget(event),this.aggregateRelations(event);const data={timeline:timeline,liveEvent:!toStartOfTimeline&&timeline==this._liveTimeline};this.emit("Room.timeline",event,this.room,Boolean(toStartOfTimeline),!1,data)},EventTimelineSet.prototype.handleRemoteEcho=function(localEvent,oldEventId,newEventId){const existingTimeline=this._eventIdToTimeline[oldEventId];existingTimeline?(delete this._eventIdToTimeline[oldEventId],this._eventIdToTimeline[newEventId]=existingTimeline):this._filter?this._filter.filterRoomTimeline([localEvent]).length&&this.addEventToTimeline(localEvent,this._liveTimeline,!1):this.addEventToTimeline(localEvent,this._liveTimeline,!1)},EventTimelineSet.prototype.removeEvent=function(eventId){const timeline=this._eventIdToTimeline[eventId];if(!timeline)return null;const removed=timeline.removeEvent(eventId);if(removed){delete this._eventIdToTimeline[eventId];const data={timeline:timeline};this.emit("Room.timeline",removed,this.room,void 0,!0,data)}return removed},EventTimelineSet.prototype.compareEventOrdering=function(eventId1,eventId2){if(eventId1==eventId2)return 0;const timeline1=this._eventIdToTimeline[eventId1],timeline2=this._eventIdToTimeline[eventId2];if(void 0===timeline1)return null;if(void 0===timeline2)return null;if(timeline1===timeline2){let idx1,idx2;const events=timeline1.getEvents();for(let idx=0;idx<events.length&&(void 0===idx1||void 0===idx2);idx++){const evId=events[idx].getId();evId==eventId1&&(idx1=idx),evId==eventId2&&(idx2=idx)}return idx1-idx2}let tl=timeline1;for(;tl;){if(tl===timeline2)return-1;tl=tl.getNeighbouringTimeline(_eventTimeline.EventTimeline.FORWARDS)}for(tl=timeline1;tl;){if(tl===timeline2)return 1;tl=tl.getNeighbouringTimeline(_eventTimeline.EventTimeline.BACKWARDS)}return null},EventTimelineSet.prototype.getRelationsForEvent=function(eventId,relationType,eventType){if(!this._unstableClientRelationAggregation)throw new Error("Client-side relation aggregation is disabled");if(!eventId||!relationType||!eventType)throw new Error("Invalid arguments for `getRelationsForEvent`");return((this._relations[eventId]||{})[relationType]||{})[eventType]},EventTimelineSet.prototype.setRelationsTarget=function(event){if(!this._unstableClientRelationAggregation)return;const relationsForEvent=this._relations[event.getId()];if(!relationsForEvent)return;const relationsWithRelType=relationsForEvent["m.replace"];if(!relationsWithRelType)return;const relationsWithEventType=relationsWithRelType["m.room.message"];relationsWithEventType&&relationsWithEventType.setTargetEvent(event)},EventTimelineSet.prototype.aggregateRelations=function(event){if(!this._unstableClientRelationAggregation)return;if(event.isRedacted()||event.status===_event.EventStatus.CANCELLED)return;if(event.isBeingDecrypted())return void event.once("Event.decrypted",()=>{this.aggregateRelations(event)});const relation=event.getRelation();if(!relation)return;const relatesToEventId=relation.event_id,relationType=relation.rel_type,eventType=event.getType();let relationsForEvent=this._relations[relatesToEventId];relationsForEvent||(relationsForEvent=this._relations[relatesToEventId]={});let relationsWithRelType=relationsForEvent[relationType];relationsWithRelType||(relationsWithRelType=relationsForEvent[relationType]={});let relatesToEvent,relationsWithEventType=relationsWithRelType[eventType],isNewRelations=!1;relationsWithEventType||(relationsWithEventType=relationsWithRelType[eventType]=new _relations.Relations(relationType,eventType,this.room),isNewRelations=!0,(relatesToEvent=this.findEventById(relatesToEventId))&&relationsWithEventType.setTargetEvent(relatesToEvent)),relationsWithEventType.addEvent(event),isNewRelations&&relatesToEvent&&relatesToEvent.emit("Event.relationsCreated",relationType,eventType)}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoomState=RoomState;var _events=__webpack_require__(18),_roomMember=__webpack_require__(231),_logger=__webpack_require__(2),utils=_interopRequireWildcard(__webpack_require__(5));const OOB_STATUS_NOTSTARTED=1;function RoomState(roomId,oobMemberFlags){this.roomId=roomId,this.members={},this.events={},this.paginationToken=null,this._sentinels={},this._updateModifiedTime(),this._displayNameToUserIds={},this._userIdsToDisplayNames={},this._tokenToInvite={},this._joinedMemberCount=null,this._summaryJoinedMemberCount=null,this._invitedMemberCount=null,this._summaryInvitedMemberCount=null,oobMemberFlags||(oobMemberFlags={status:OOB_STATUS_NOTSTARTED}),this._oobMemberFlags=oobMemberFlags}function _updateDisplayNameCache(roomState,userId,displayName){const oldName=roomState._userIdsToDisplayNames[userId];if(delete roomState._userIdsToDisplayNames[userId],oldName){const strippedOldName=utils.removeHiddenChars(oldName),existingUserIds=roomState._displayNameToUserIds[strippedOldName];if(existingUserIds){const filteredUserIDs=existingUserIds.filter(id=>id!==userId);roomState._displayNameToUserIds[strippedOldName]=filteredUserIDs}}roomState._userIdsToDisplayNames[userId]=displayName;const strippedDisplayname=displayName&&utils.removeHiddenChars(displayName);strippedDisplayname&&(roomState._displayNameToUserIds[strippedDisplayname]||(roomState._displayNameToUserIds[strippedDisplayname]=[]),roomState._displayNameToUserIds[strippedDisplayname].push(userId))}utils.inherits(RoomState,_events.EventEmitter),RoomState.prototype.getJoinedMemberCount=function(){return null!==this._summaryJoinedMemberCount?this._summaryJoinedMemberCount:(null===this._joinedMemberCount&&(this._joinedMemberCount=this.getMembers().reduce((count,m)=>"join"===m.membership?count+1:count,0)),this._joinedMemberCount)},RoomState.prototype.setJoinedMemberCount=function(count){this._summaryJoinedMemberCount=count},RoomState.prototype.getInvitedMemberCount=function(){return null!==this._summaryInvitedMemberCount?this._summaryInvitedMemberCount:(null===this._invitedMemberCount&&(this._invitedMemberCount=this.getMembers().reduce((count,m)=>"invite"===m.membership?count+1:count,0)),this._invitedMemberCount)},RoomState.prototype.setInvitedMemberCount=function(count){this._summaryInvitedMemberCount=count},RoomState.prototype.getMembers=function(){return utils.values(this.members)},RoomState.prototype.getMembersExcept=function(excludedIds){return utils.values(this.members).filter(m=>!excludedIds.includes(m.userId))},RoomState.prototype.getMember=function(userId){return this.members[userId]||null},RoomState.prototype.getSentinelMember=function(userId){if(!userId)return null;let sentinel=this._sentinels[userId];if(void 0===sentinel){sentinel=new _roomMember.RoomMember(this.roomId,userId);const member=this.members[userId];member&&sentinel.setMembershipEvent(member.events.member,this),this._sentinels[userId]=sentinel}return sentinel},RoomState.prototype.getStateEvents=function(eventType,stateKey){if(!this.events[eventType])return void 0===stateKey?[]:null;if(void 0===stateKey)return utils.values(this.events[eventType]);const event=this.events[eventType][stateKey];return event||null},RoomState.prototype.clone=function(){const copy=new RoomState(this.roomId,this._oobMemberFlags),status=this._oobMemberFlags.status;return this._oobMemberFlags.status=OOB_STATUS_NOTSTARTED,Object.values(this.events).forEach(eventsByStateKey=>{const eventsForType=Object.values(eventsByStateKey);copy.setStateEvents(eventsForType)}),this._oobMemberFlags.status=status,null!==this._summaryInvitedMemberCount&&copy.setInvitedMemberCount(this.getInvitedMemberCount()),null!==this._summaryJoinedMemberCount&&copy.setJoinedMemberCount(this.getJoinedMemberCount()),3==this._oobMemberFlags.status&&this.getMembers().forEach(member=>{if(member.isOutOfBand()){copy.getMember(member.userId).markOutOfBand()}}),copy},RoomState.prototype.setUnknownStateEvents=function(events){const unknownStateEvents=events.filter(event=>void 0===this.events[event.getType()]||void 0===this.events[event.getType()][event.getStateKey()]);this.setStateEvents(unknownStateEvents)},RoomState.prototype.setStateEvents=function(stateEvents){const self=this;this._updateModifiedTime(),utils.forEach(stateEvents,function(event){event.getRoomId()===self.roomId&&event.isState()&&(self._setStateEvent(event),"m.room.member"===event.getType()&&(_updateDisplayNameCache(self,event.getStateKey(),event.getContent().displayname),function _updateThirdPartyTokenCache(roomState,memberEvent){if(!memberEvent.getContent().third_party_invite)return;const token=(memberEvent.getContent().third_party_invite.signed||{}).token;if(!token)return;if(!roomState.getStateEvents("m.room.third_party_invite",token))return;roomState._tokenToInvite[token]=memberEvent}(self,event)),self.emit("RoomState.events",event,self))}),utils.forEach(stateEvents,function(event){if(event.getRoomId()===self.roomId&&event.isState())if("m.room.member"===event.getType()){const userId=event.getStateKey();"leave"!==event.getContent().membership&&"ban"!==event.getContent().membership||(event.getContent().avatar_url=event.getContent().avatar_url||event.getPrevContent().avatar_url,event.getContent().displayname=event.getContent().displayname||event.getPrevContent().displayname);const member=self._getOrCreateMember(userId,event);member.setMembershipEvent(event,self),self._updateMember(member),self.emit("RoomState.members",event,self,member)}else if("m.room.power_levels"===event.getType()){const members=utils.values(self.members);utils.forEach(members,function(member){member.setPowerLevelEvent(event),self.emit("RoomState.members",event,self,member)}),self._sentinels={}}})},RoomState.prototype._getOrCreateMember=function(userId,event){let member=this.members[userId];return member||(member=new _roomMember.RoomMember(this.roomId,userId),this.members[userId]=member,this.emit("RoomState.newMember",event,this,member)),member},RoomState.prototype._setStateEvent=function(event){void 0===this.events[event.getType()]&&(this.events[event.getType()]={}),this.events[event.getType()][event.getStateKey()]=event},RoomState.prototype._updateMember=function(member){const pwrLvlEvent=this.getStateEvents("m.room.power_levels","");pwrLvlEvent&&member.setPowerLevelEvent(pwrLvlEvent),delete this._sentinels[member.userId],this.members[member.userId]=member,this._joinedMemberCount=null,this._invitedMemberCount=null},RoomState.prototype.needsOutOfBandMembers=function(){return this._oobMemberFlags.status===OOB_STATUS_NOTSTARTED},RoomState.prototype.markOutOfBandMembersStarted=function(){this._oobMemberFlags.status===OOB_STATUS_NOTSTARTED&&(this._oobMemberFlags.status=2)},RoomState.prototype.markOutOfBandMembersFailed=function(){2===this._oobMemberFlags.status&&(this._oobMemberFlags.status=OOB_STATUS_NOTSTARTED)},RoomState.prototype.clearOutOfBandMembers=function(){let count=0;Object.keys(this.members).forEach(userId=>{this.members[userId].isOutOfBand()&&(++count,delete this.members[userId])}),_logger.logger.log(`LL: RoomState removed ${count} members...`),this._oobMemberFlags.status=OOB_STATUS_NOTSTARTED},RoomState.prototype.setOutOfBandMembers=function(stateEvents){_logger.logger.log(`LL: RoomState about to set ${stateEvents.length} OOB members ...`),2===this._oobMemberFlags.status&&(_logger.logger.log("LL: RoomState put in OOB_STATUS_FINISHED state ..."),this._oobMemberFlags.status=3,stateEvents.forEach(e=>this._setOutOfBandMember(e)))},RoomState.prototype._setOutOfBandMember=function(stateEvent){if("m.room.member"!==stateEvent.getType())return;const userId=stateEvent.getStateKey(),existingMember=this.getMember(userId);if(existingMember&&!existingMember.isOutOfBand())return;const member=this._getOrCreateMember(userId,stateEvent);member.setMembershipEvent(stateEvent,this),member.markOutOfBand(),_updateDisplayNameCache(this,member.userId,member.name),this._setStateEvent(stateEvent),this._updateMember(member),this.emit("RoomState.members",stateEvent,this,member)},RoomState.prototype.setTypingEvent=function(event){utils.forEach(utils.values(this.members),function(member){member.setTypingEvent(event)})},RoomState.prototype.getInviteForThreePidToken=function(token){return this._tokenToInvite[token]||null},RoomState.prototype._updateModifiedTime=function(){this._modified=Date.now()},RoomState.prototype.getLastModifiedTime=function(){return this._modified},RoomState.prototype.getUserIdsWithDisplayName=function(displayName){return this._displayNameToUserIds[utils.removeHiddenChars(displayName)]||[]},RoomState.prototype.maySendRedactionForEvent=function(mxEvent,userId){const member=this.getMember(userId);if(!member||"leave"===member.membership)return!1;if(mxEvent.status||mxEvent.isRedacted())return!1;const canRedact=this.maySendEvent("m.room.redaction",userId);return mxEvent.getSender()===userId?canRedact:this._hasSufficientPowerLevelFor("redact",member.powerLevel)},RoomState.prototype._hasSufficientPowerLevelFor=function(action,powerLevel){const powerLevelsEvent=this.getStateEvents("m.room.power_levels","");let powerLevels={};powerLevelsEvent&&(powerLevels=powerLevelsEvent.getContent());let requiredLevel=50;return utils.isNumber(powerLevels[action])&&(requiredLevel=powerLevels[action]),powerLevel>=requiredLevel},RoomState.prototype.maySendMessage=function(userId){return this._maySendEventOfType("m.room.message",userId,!1)},RoomState.prototype.maySendEvent=function(eventType,userId){return this._maySendEventOfType(eventType,userId,!1)},RoomState.prototype.mayClientSendStateEvent=function(stateEventType,cli){return!cli.isGuest()&&this.maySendStateEvent(stateEventType,cli.credentials.userId)},RoomState.prototype.maySendStateEvent=function(stateEventType,userId){return this._maySendEventOfType(stateEventType,userId,!0)},RoomState.prototype._maySendEventOfType=function(eventType,userId,state){const power_levels_event=this.getStateEvents("m.room.power_levels","");let power_levels,events_levels={},state_default=0,events_default=0,powerLevel=0;if(power_levels_event){events_levels=(power_levels=power_levels_event.getContent()).events||{},state_default=Number.isFinite(power_levels.state_default)?power_levels.state_default:50;const userPowerLevel=power_levels.users&&power_levels.users[userId];Number.isFinite(userPowerLevel)?powerLevel=userPowerLevel:Number.isFinite(power_levels.users_default)&&(powerLevel=power_levels.users_default),Number.isFinite(power_levels.events_default)&&(events_default=power_levels.events_default)}let required_level=state?state_default:events_default;return Number.isFinite(events_levels[eventType])&&(required_level=events_levels[eventType]),powerLevel>=required_level},RoomState.prototype.mayTriggerNotifOfType=function(notifLevelKey,userId){const member=this.getMember(userId);if(!member)return!1;const powerLevelsEvent=this.getStateEvents("m.room.power_levels","");let notifLevel=50;return powerLevelsEvent&&powerLevelsEvent.getContent()&&powerLevelsEvent.getContent().notifications&&utils.isNumber(powerLevelsEvent.getContent().notifications[notifLevelKey])&&(notifLevel=powerLevelsEvent.getContent().notifications[notifLevelKey]),member.powerLevel>=notifLevel}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.Group=Group;var utils=_interopRequireWildcard(__webpack_require__(5)),_events=__webpack_require__(18);function Group(groupId){this.groupId=groupId,this.name=null,this.avatarUrl=null,this.myMembership=null,this.inviter=null}utils.inherits(Group,_events.EventEmitter),Group.prototype.setProfile=function(name,avatarUrl){this.name===name&&this.avatarUrl===avatarUrl||(this.name=name||this.groupId,this.avatarUrl=avatarUrl,this.emit("Group.profile",this))},Group.prototype.setMyMembership=function(membership){this.myMembership!==membership&&(this.myMembership=membership,this.emit("Group.myMembership",this))},Group.prototype.setInviter=function(inviter){this.inviter=inviter}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.MatrixCall=MatrixCall,exports.setAudioOutput=function setAudioOutput(deviceId){audioOutput=deviceId},exports.setAudioInput=function setAudioInput(deviceId){audioInput=deviceId},exports.setVideoInput=function setVideoInput(deviceId){videoInput=deviceId},exports.createNewMatrixCall=function createNewMatrixCall(client,roomId,options){const w=global.window,doc=global.document;if(!w||!doc)return null;const webRtc={};webRtc.isOpenWebRTC=function(){const scripts=doc.getElementById("script");if(!scripts||!scripts.length)return!1;for(let i=0;i<scripts.length;i++)if(scripts[i].src.indexOf("owr.js")>-1)return!0;return!1};const getUserMedia=w.navigator.getUserMedia||w.navigator.webkitGetUserMedia||w.navigator.mozGetUserMedia;getUserMedia&&(webRtc.getUserMedia=function(){return getUserMedia.apply(w.navigator,arguments)});try{webRtc.RtcPeerConnection=w.RTCPeerConnection||w.webkitRTCPeerConnection||w.mozRTCPeerConnection,webRtc.RtcSessionDescription=w.RTCSessionDescription||w.webkitRTCSessionDescription||w.mozRTCSessionDescription,webRtc.RtcIceCandidate=w.RTCIceCandidate||w.webkitRTCIceCandidate||w.mozRTCIceCandidate,webRtc.vendor=null,w.mozRTCPeerConnection?webRtc.vendor="mozilla":w.webkitRTCPeerConnection?webRtc.vendor="webkit":w.RTCPeerConnection&&(webRtc.vendor="generic")}catch(e){return _logger.logger.error("Failed to set up WebRTC object: possible browser interference?"),_logger.logger.error(e),null}if(!(webRtc.RtcIceCandidate&&webRtc.RtcSessionDescription&&webRtc.RtcPeerConnection&&webRtc.getUserMedia))return null;const optionsForceTURN=!!options&&options.forceTURN;return new MatrixCall({webRtc:webRtc,client:client,URL:w.URL,roomId:roomId,turnServers:client.getTurnServers(),forceTURN:client._forceTURN||optionsForceTURN})};var _logger=__webpack_require__(2),_events=__webpack_require__(18),utils=_interopRequireWildcard(__webpack_require__(5));function MatrixCall(opts){this.roomId=opts.roomId,this.client=opts.client,this.webRtc=opts.webRtc,this.forceTURN=opts.forceTURN,this.URL=opts.URL,this.turnServers=opts.turnServers||[],0===this.turnServers.length&&this.client.isFallbackICEServerAllowed()&&this.turnServers.push({urls:[MatrixCall.FALLBACK_ICE_SERVER]}),utils.forEach(this.turnServers,function(server){utils.checkObjectHasKeys(server,["urls"])}),this.callId="c"+(new Date).getTime()+Math.random(),this.state="fledgling",this.didConnect=!1,this.candidateSendQueue=[],this.candidateSendTries=0,this.mediaPromises=Object.create(null),this.screenSharingStream=null,this._answerContent=null}MatrixCall.CALL_TIMEOUT_MS=6e4,MatrixCall.FALLBACK_ICE_SERVER="stun:turn.matrix.org",MatrixCall.ERR_LOCAL_OFFER_FAILED="local_offer_failed",MatrixCall.ERR_NO_USER_MEDIA="no_user_media",MatrixCall.ERR_UNKNOWN_DEVICES="unknown_devices",MatrixCall.ERR_SEND_INVITE="send_invite",MatrixCall.ERR_SEND_ANSWER="send_answer",utils.inherits(MatrixCall,_events.EventEmitter),MatrixCall.prototype.placeVoiceCall=function(){debuglog("placeVoiceCall"),checkForErrorListener(this),_placeCallWithConstraints(this,_getUserMediaVideoContraints("voice")),this.type="voice"},MatrixCall.prototype.placeVideoCall=function(remoteVideoElement,localVideoElement){debuglog("placeVideoCall"),checkForErrorListener(this),this.localVideoElement=localVideoElement,this.remoteVideoElement=remoteVideoElement,_placeCallWithConstraints(this,_getUserMediaVideoContraints("video")),this.type="video",_tryPlayRemoteStream(this)},MatrixCall.prototype.placeScreenSharingCall=function(remoteVideoElement,localVideoElement){debuglog("placeScreenSharingCall"),checkForErrorListener(this);const screenConstraints=_getScreenSharingConstraints(this);if(!screenConstraints)return;this.localVideoElement=localVideoElement,this.remoteVideoElement=remoteVideoElement;const self=this;this.webRtc.getUserMedia(screenConstraints,function(stream){self.screenSharingStream=stream,debuglog("Got screen stream, requesting audio stream...");const audioConstraints=_getUserMediaVideoContraints("voice");_placeCallWithConstraints(self,audioConstraints)},function(err){self.emit("error",callError(MatrixCall.ERR_NO_USER_MEDIA,"Failed to get screen-sharing stream: "+err))}),this.type="video",_tryPlayRemoteStream(this)},MatrixCall.prototype.playElement=function(element,queueId){_logger.logger.log("queuing play on "+queueId+" and element "+element),this.mediaPromises[queueId]?this.mediaPromises[queueId]=this.mediaPromises[queueId].then(function(){return _logger.logger.log("previous promise completed for "+queueId),element.play()},function(){return _logger.logger.log("previous promise failed for "+queueId),element.play()}):this.mediaPromises[queueId]=element.play()},MatrixCall.prototype.pauseElement=function(element,queueId){_logger.logger.log("queuing pause on "+queueId+" and element "+element),this.mediaPromises[queueId]?this.mediaPromises[queueId]=this.mediaPromises[queueId].then(function(){return _logger.logger.log("previous promise completed for "+queueId),element.pause()},function(){return _logger.logger.log("previous promise failed for "+queueId),element.pause()}):this.mediaPromises[queueId]=element.pause()},MatrixCall.prototype.assignElement=function(element,srcObject,queueId){_logger.logger.log("queuing assign on "+queueId+" element "+element+" for "+srcObject),this.mediaPromises[queueId]?this.mediaPromises[queueId]=this.mediaPromises[queueId].then(function(){_logger.logger.log("previous promise completed for "+queueId),element.srcObject=srcObject},function(){_logger.logger.log("previous promise failed for "+queueId),element.srcObject=srcObject}):element.srcObject=srcObject},MatrixCall.prototype.getLocalVideoElement=function(){return this.localVideoElement},MatrixCall.prototype.getRemoteVideoElement=function(){return this.remoteVideoElement},MatrixCall.prototype.getRemoteAudioElement=function(){return this.remoteAudioElement},MatrixCall.prototype.setLocalVideoElement=function(element){if(this.localVideoElement=element,element&&this.localAVStream&&"video"===this.type){element.autoplay=!0,this.assignElement(element,this.localAVStream,"localVideo"),element.muted=!0;const self=this;setTimeout(function(){const vel=self.getLocalVideoElement();vel.play&&self.playElement(vel,"localVideo")},0)}},MatrixCall.prototype.setRemoteVideoElement=function(element){this.remoteVideoElement=element,_tryPlayRemoteStream(this)},MatrixCall.prototype.setRemoteAudioElement=function(element){this.remoteVideoElement.muted=!0,this.remoteAudioElement=element,this.remoteAudioElement.muted=!1,_tryPlayRemoteAudioStream(this)},MatrixCall.prototype._initWithInvite=function(event){this.msg=event.getContent(),this.peerConn=_createPeerConnection(this);const self=this;this.peerConn&&this.peerConn.setRemoteDescription(new this.webRtc.RtcSessionDescription(this.msg.offer),hookCallback(self,self._onSetRemoteDescriptionSuccess),hookCallback(self,self._onSetRemoteDescriptionError)),setState(this,"ringing"),this.direction="inbound",this.msg.offer&&this.msg.offer.sdp&&this.msg.offer.sdp.indexOf("m=video")>-1?this.type="video":this.type="voice",event.getAge()&&setTimeout(function(){"ringing"==self.state&&(debuglog("Call invite has expired. Hanging up."),self.hangupParty="remote",setState(self,"ended"),stopAllMedia(self),"closed"!=self.peerConn.signalingState&&self.peerConn.close(),self.emit("hangup",self))},this.msg.lifetime-event.getAge())},MatrixCall.prototype._initWithHangup=function(event){this.msg=event.getContent(),setState(this,"ended")},MatrixCall.prototype.answer=function(){debuglog("Answering call %s of type %s",this.callId,this.type);const self=this;self._answerContent?self._sendAnswer():this.localAVStream||this.waitForLocalAVStream?this.localAVStream?this._maybeGotUserMediaForAnswer(this.localAVStream):this.waitForLocalAVStream&&setState(this,"wait_local_media"):(this.webRtc.getUserMedia(_getUserMediaVideoContraints(this.type),hookCallback(self,self._maybeGotUserMediaForAnswer),hookCallback(self,self._maybeGotUserMediaForAnswer)),setState(this,"wait_local_media"))},MatrixCall.prototype._replacedBy=function(newCall){debuglog(this.callId+" being replaced by "+newCall.callId),"wait_local_media"==this.state?(debuglog("Telling new call to wait for local media"),newCall.waitForLocalAVStream=!0):"create_offer"==this.state?(debuglog("Handing local stream to new call"),newCall._maybeGotUserMediaForAnswer(this.localAVStream),delete this.localAVStream):"invite_sent"==this.state&&(debuglog("Handing local stream to new call"),newCall._maybeGotUserMediaForAnswer(this.localAVStream),delete this.localAVStream),newCall.localVideoElement=this.localVideoElement,newCall.remoteVideoElement=this.remoteVideoElement,newCall.remoteAudioElement=this.remoteAudioElement,this.successor=newCall,this.emit("replaced",newCall),this.hangup(!0)},MatrixCall.prototype.hangup=function(reason,suppressEvent){if("ended"==this.state)return;debuglog("Ending call "+this.callId),terminate(this,"local",reason,!suppressEvent);const content={version:0,call_id:this.callId,reason:reason};sendEvent(this,"m.call.hangup",content)},MatrixCall.prototype.setLocalVideoMuted=function(muted){this.localAVStream&&setTracksEnabled(this.localAVStream.getVideoTracks(),!muted)},MatrixCall.prototype.isLocalVideoMuted=function(){return!!this.localAVStream&&!isTracksEnabled(this.localAVStream.getVideoTracks())},MatrixCall.prototype.setMicrophoneMuted=function(muted){this.localAVStream&&setTracksEnabled(this.localAVStream.getAudioTracks(),!muted)},MatrixCall.prototype.isMicrophoneMuted=function(){return!!this.localAVStream&&!isTracksEnabled(this.localAVStream.getAudioTracks())},MatrixCall.prototype._maybeGotUserMediaForInvite=function(stream){if(this.successor)return void this.successor._maybeGotUserMediaForAnswer(stream);if("ended"==this.state)return;debuglog("_maybeGotUserMediaForInvite -> "+this.type);const self=this,error=stream,constraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:"video"===self.type}};if(stream instanceof MediaStream){const videoEl=this.getLocalVideoElement();videoEl&&"video"==this.type&&(videoEl.autoplay=!0,this.screenSharingStream?(debuglog("Setting screen sharing stream to the local video element"),this.assignElement(videoEl,this.screenSharingStream,"localVideo")):this.assignElement(videoEl,stream,"localVideo"),videoEl.muted=!0,setTimeout(function(){const vel=self.getLocalVideoElement();vel.play&&self.playElement(vel,"localVideo")},0)),this.screenSharingStream&&(this.screenSharingStream.addTrack(stream.getAudioTracks()[0]),stream=this.screenSharingStream),this.localAVStream=stream,setTracksEnabled(stream.getAudioTracks(),!0),this.peerConn=_createPeerConnection(this),this.peerConn.addStream(stream)}else{if("PermissionDeniedError"!==error.name)return debuglog("Failed to getUserMedia: "+error.name),void this._getUserMediaFailed(error);debuglog("User denied access to camera/microphone. Or possibly you are using an insecure domain. Receiving only."),this.peerConn=_createPeerConnection(this)}this.peerConn.createOffer(hookCallback(self,self._gotLocalOffer),hookCallback(self,self._getLocalOfferFailed),constraints),setState(self,"create_offer")},MatrixCall.prototype._sendAnswer=function(stream){sendEvent(this,"m.call.answer",this._answerContent).then(()=>{setState(this,"connecting"),_sendCandidateQueue(this)}).catch(error=>{setState(this,"ringing"),this.client.cancelPendingEvent(error.event);let code=MatrixCall.ERR_SEND_ANSWER,message="Failed to send answer";throw"UnknownDeviceError"==error.name&&(code=MatrixCall.ERR_UNKNOWN_DEVICES,message="Unknown devices present in the room"),this.emit("error",callError(code,message)),error})},MatrixCall.prototype._maybeGotUserMediaForAnswer=function(stream){const self=this;if("ended"==self.state)return;const error=stream;if(stream instanceof MediaStream){const localVidEl=self.getLocalVideoElement();localVidEl&&"video"==self.type&&(localVidEl.autoplay=!0,this.assignElement(localVidEl,stream,"localVideo"),localVidEl.muted=!0,setTimeout(function(){const vel=self.getLocalVideoElement();vel.play&&self.playElement(vel,"localVideo")},0)),self.localAVStream=stream,setTracksEnabled(stream.getAudioTracks(),!0),self.peerConn.addStream(stream)}else{if("PermissionDeniedError"!==error.name)return debuglog("Failed to getUserMedia: "+error.name),void this._getUserMediaFailed(error);debuglog("User denied access to camera/microphone. Or possibly you are using an insecure domain. Receiving only.")}const constraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:"video"===self.type}};self.peerConn.createAnswer(function(description){debuglog("Created answer: ",description),self.peerConn.setLocalDescription(description,function(){self._answerContent={version:0,call_id:self.callId,answer:{sdp:self.peerConn.localDescription.sdp,type:self.peerConn.localDescription.type}},self._sendAnswer()},function(){debuglog("Error setting local description!")},constraints)},function(err){debuglog("Failed to create answer: "+err)}),setState(self,"create_answer")},MatrixCall.prototype._gotLocalIceCandidate=function(event){if(event.candidate){if(debuglog("Got local ICE "+event.candidate.sdpMid+" candidate: "+event.candidate.candidate),"ended"==this.state)return;const c={candidate:event.candidate.candidate,sdpMid:event.candidate.sdpMid,sdpMLineIndex:event.candidate.sdpMLineIndex};sendCandidate(this,c)}},MatrixCall.prototype._gotRemoteIceCandidate=function(cand){"ended"!=this.state&&(debuglog("Got remote ICE "+cand.sdpMid+" candidate: "+cand.candidate),this.peerConn.addIceCandidate(new this.webRtc.RtcIceCandidate(cand),function(){},function(e){}))},MatrixCall.prototype._receivedAnswer=function(msg){if("ended"==this.state)return;this.peerConn.setRemoteDescription(new this.webRtc.RtcSessionDescription(msg.answer),hookCallback(this,this._onSetRemoteDescriptionSuccess),hookCallback(this,this._onSetRemoteDescriptionError)),setState(this,"connecting")},MatrixCall.prototype._gotLocalOffer=function(description){const self=this;debuglog("Created offer: ",description),"ended"!=self.state?self.peerConn.setLocalDescription(description,function(){const content={version:0,call_id:self.callId,offer:{sdp:self.peerConn.localDescription.sdp,type:self.peerConn.localDescription.type},lifetime:MatrixCall.CALL_TIMEOUT_MS};sendEvent(self,"m.call.invite",content).then(()=>{setState(self,"invite_sent"),setTimeout(function(){"invite_sent"==self.state&&self.hangup("invite_timeout")},MatrixCall.CALL_TIMEOUT_MS)}).catch(error=>{let code=MatrixCall.ERR_SEND_INVITE,message="Failed to send invite";throw"UnknownDeviceError"==error.name&&(code=MatrixCall.ERR_UNKNOWN_DEVICES,message="Unknown devices present in the room"),self.client.cancelPendingEvent(error.event),terminate(self,"local",code,!1),self.emit("error",callError(code,message)),error})},function(){debuglog("Error setting local description!")}):debuglog("Ignoring newly created offer on call ID "+self.callId+" because the call has ended")},MatrixCall.prototype._getLocalOfferFailed=function(error){this.emit("error",callError(MatrixCall.ERR_LOCAL_OFFER_FAILED,"Failed to start audio for call!"))},MatrixCall.prototype._getUserMediaFailed=function(error){terminate(this,"local","user_media_failed",!1),this.emit("error",callError(MatrixCall.ERR_NO_USER_MEDIA,"Couldn't start capturing media! Is your microphone set up and does this app have permission?"))},MatrixCall.prototype._onIceConnectionStateChanged=function(){"ended"!=this.state&&(debuglog("Ice connection state changed to: "+this.peerConn.iceConnectionState),"completed"==this.peerConn.iceConnectionState||"connected"==this.peerConn.iceConnectionState?(setState(this,"connected"),this.didConnect=!0):"failed"==this.peerConn.iceConnectionState&&this.hangup("ice_failed"))},MatrixCall.prototype._onSignallingStateChanged=function(){debuglog("call "+this.callId+": Signalling state changed to: "+this.peerConn.signalingState)},MatrixCall.prototype._onSetRemoteDescriptionSuccess=function(){debuglog("Set remote description")},MatrixCall.prototype._onSetRemoteDescriptionError=function(e){debuglog("Failed to set remote description"+e)},MatrixCall.prototype._onAddStream=function(event){debuglog("Stream id "+event.stream.id+" added");const s=event.stream;s.getVideoTracks().length>0?(this.type="video",this.remoteAVStream=s,this.remoteAStream=s):(this.type="voice",this.remoteAStream=s);const self=this;forAllTracksOnStream(s,function(t){debuglog("Track id "+t.id+" added"),t.onstarted=hookCallback(self,self._onRemoteStreamTrackStarted)}),void 0!==event.stream.oninactive?event.stream.oninactive=hookCallback(self,self._onRemoteStreamEnded):event.stream.onended=hookCallback(self,self._onRemoteStreamEnded),event.stream.onstarted=hookCallback(self,self._onRemoteStreamStarted),"video"===this.type?(_tryPlayRemoteStream(this),_tryPlayRemoteAudioStream(this)):_tryPlayRemoteAudioStream(this)},MatrixCall.prototype._onRemoteStreamStarted=function(event){setState(this,"connected")},MatrixCall.prototype._onRemoteStreamEnded=function(event){debuglog("Remote stream ended"),this.hangupParty="remote",setState(this,"ended"),stopAllMedia(this),"closed"!=this.peerConn.signalingState&&this.peerConn.close(),this.emit("hangup",this)},MatrixCall.prototype._onRemoteStreamTrackStarted=function(event){setState(this,"connected")},MatrixCall.prototype._onHangupReceived=function(msg){debuglog("Hangup received"),terminate(this,"remote",msg.reason,!0)},MatrixCall.prototype._onAnsweredElsewhere=function(msg){debuglog("Answered elsewhere"),terminate(this,"remote","answered_elsewhere",!0)};const setTracksEnabled=function(tracks,enabled){for(let i=0;i<tracks.length;i++)tracks[i].enabled=enabled},isTracksEnabled=function(tracks){for(let i=0;i<tracks.length;i++)if(tracks[i].enabled)return!0;return!1},setState=function(self,state){const oldState=self.state;self.state=state,self.emit("state",state,oldState)},sendEvent=function(self,eventType,content){return self.client.sendEvent(self.roomId,eventType,content)},sendCandidate=function(self,content){self.candidateSendQueue.push(content),"ringing"!=self.state&&0===self.candidateSendTries&&setTimeout(function(){_sendCandidateQueue(self)},100)},terminate=function(self,hangupParty,hangupReason,shouldEmit){self.getRemoteVideoElement()&&(self.getRemoteVideoElement().pause&&self.pauseElement(self.getRemoteVideoElement(),"remoteVideo"),self.assignElement(self.getRemoteVideoElement(),null,"remoteVideo")),self.getRemoteAudioElement()&&(self.getRemoteAudioElement().pause&&self.pauseElement(self.getRemoteAudioElement(),"remoteAudio"),self.assignElement(self.getRemoteAudioElement(),null,"remoteAudio")),self.getLocalVideoElement()&&(self.getLocalVideoElement().pause&&self.pauseElement(self.getLocalVideoElement(),"localVideo"),self.assignElement(self.getLocalVideoElement(),null,"localVideo")),self.hangupParty=hangupParty,self.hangupReason=hangupReason,setState(self,"ended"),stopAllMedia(self),self.peerConn&&"closed"!==self.peerConn.signalingState&&self.peerConn.close(),shouldEmit&&self.emit("hangup",self)},stopAllMedia=function(self){debuglog("stopAllMedia (stream=%s)",self.localAVStream),self.localAVStream&&(forAllTracksOnStream(self.localAVStream,function(t){t.stop&&t.stop()}),self.localAVStream.stop&&self.localAVStream.stop()),self.screenSharingStream&&(forAllTracksOnStream(self.screenSharingStream,function(t){t.stop&&t.stop()}),self.screenSharingStream.stop&&self.screenSharingStream.stop()),self.remoteAVStream&&forAllTracksOnStream(self.remoteAVStream,function(t){t.stop&&t.stop()}),self.remoteAStream&&forAllTracksOnStream(self.remoteAStream,function(t){t.stop&&t.stop()})},_tryPlayRemoteStream=function(self){if(self.getRemoteVideoElement()&&self.remoteAVStream){const player=self.getRemoteVideoElement();player.autoplay=!0,self.assignElement(player,self.remoteAVStream,"remoteVideo"),setTimeout(function(){const vel=self.getRemoteVideoElement();vel.play&&self.playElement(vel,"remoteVideo"),self.webRtc.isOpenWebRTC()&&setState(self,"connected")},0)}},_tryPlayRemoteAudioStream=async function(self){if(self.getRemoteAudioElement()&&self.remoteAStream){const player=self.getRemoteAudioElement();audioOutput&&await player.setSinkId(audioOutput),player.autoplay=!0,self.assignElement(player,self.remoteAStream,"remoteAudio"),setTimeout(function(){const ael=self.getRemoteAudioElement();ael.play&&self.playElement(ael,"remoteAudio"),self.webRtc.isOpenWebRTC()&&setState(self,"connected")},0)}},checkForErrorListener=function(self){if(0===self.listeners("error").length)throw new Error("You MUST attach an error listener using call.on('error', function() {})")},callError=function(code,msg){const e=new Error(msg);return e.code=code,e},debuglog=function(){_logger.logger.log(...arguments)},_sendCandidateQueue=function(self){if(0===self.candidateSendQueue.length)return;const cands=self.candidateSendQueue;self.candidateSendQueue=[],++self.candidateSendTries;const content={version:0,call_id:self.callId,candidates:cands};debuglog("Attempting to send "+cands.length+" candidates"),sendEvent(self,"m.call.candidates",content).then(function(){self.candidateSendTries=0,_sendCandidateQueue(self)},function(error){for(let i=0;i<cands.length;i++)self.candidateSendQueue.push(cands[i]);if(self.candidateSendTries>5)return debuglog("Failed to send candidates on attempt %s. Giving up for now.",self.candidateSendTries),void(self.candidateSendTries=0);const delayMs=500*Math.pow(2,self.candidateSendTries);++self.candidateSendTries,debuglog("Failed to send candidates. Retrying in "+delayMs+"ms"),setTimeout(function(){_sendCandidateQueue(self)},delayMs)})},_placeCallWithConstraints=function(self,constraints){self.client.callList[self.callId]=self,self.webRtc.getUserMedia(constraints,hookCallback(self,self._maybeGotUserMediaForInvite),hookCallback(self,self._maybeGotUserMediaForInvite)),setState(self,"wait_local_media"),self.direction="outbound",self.config=constraints},_createPeerConnection=function(self){const pc=new self.webRtc.RtcPeerConnection({iceTransportPolicy:self.forceTURN?"relay":void 0,iceServers:self.turnServers});return pc.oniceconnectionstatechange=hookCallback(self,self._onIceConnectionStateChanged),pc.onsignalingstatechange=hookCallback(self,self._onSignallingStateChanged),pc.onicecandidate=hookCallback(self,self._gotLocalIceCandidate),pc.onaddstream=hookCallback(self,self._onAddStream),pc},_getScreenSharingConstraints=function(call){const screen=global.screen;if(screen)return{video:{mediaSource:"screen",mandatory:{chromeMediaSource:"screen",chromeMediaSourceId:""+Date.now(),maxWidth:screen.width,maxHeight:screen.height,minFrameRate:1,maxFrameRate:10}}};call.emit("error",callError(MatrixCall.ERR_NO_USER_MEDIA,"Couldn't determine screen sharing constaints."))},_getUserMediaVideoContraints=function(callType){const isWebkit=!!global.window.navigator.webkitGetUserMedia;switch(callType){case"voice":return{audio:{deviceId:audioInput?{ideal:audioInput}:void 0},video:!1};case"video":return{audio:{deviceId:audioInput?{ideal:audioInput}:void 0},video:{deviceId:videoInput?{ideal:videoInput}:void 0,width:isWebkit?{exact:640}:{ideal:640},height:isWebkit?{exact:360}:{ideal:360}}}}},hookCallback=function(call,fn){return function(){return fn.apply(call,arguments)}},forAllTracksOnStream=function(s,f){!function(s,f){const tracks=s.getVideoTracks();for(let i=0;i<tracks.length;i++)f(tracks[i])}(s,f),function(s,f){const tracks=s.getAudioTracks();for(let i=0;i<tracks.length;i++)f(tracks[i])}(s,f)};let audioOutput,audioInput,videoInput}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeHtmlMessage=function makeHtmlMessage(body,htmlBody){return{msgtype:"m.text",format:"org.matrix.custom.html",body:body,formatted_body:htmlBody}},exports.makeHtmlNotice=function makeHtmlNotice(body,htmlBody){return{msgtype:"m.notice",format:"org.matrix.custom.html",body:body,formatted_body:htmlBody}},exports.makeHtmlEmote=function makeHtmlEmote(body,htmlBody){return{msgtype:"m.emote",format:"org.matrix.custom.html",body:body,formatted_body:htmlBody}},exports.makeTextMessage=function makeTextMessage(body){return{msgtype:"m.text",body:body}},exports.makeNotice=function makeNotice(body){return{msgtype:"m.notice",body:body}},exports.makeEmoteMessage=function makeEmoteMessage(body){return{msgtype:"m.emote",body:body}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exists=function exists(indexedDB,dbName){return new Promise((resolve,reject)=>{let exists=!0;const req=indexedDB.open(dbName);req.onupgradeneeded=()=>{exists=!1},req.onblocked=()=>reject(),req.onsuccess=()=>{req.result.close(),exists||indexedDB.deleteDatabase(dbName),resolve(exists)},req.onerror=ev=>reject(ev.target.error)})}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.OlmDevice=OlmDevice,exports.WITHHELD_MESSAGES=void 0;var _logger=__webpack_require__(2),_indexeddbCryptoStore=__webpack_require__(99),algorithms=_interopRequireWildcard(__webpack_require__(405));const MAX_PLAINTEXT_LENGTH=49152;function checkPayloadLength(payloadString){if(void 0===payloadString)throw new Error("payloadString undefined");if(payloadString.length>MAX_PLAINTEXT_LENGTH)throw new Error("Message too long ("+payloadString.length+" bytes). The maximum for an encrypted message is "+MAX_PLAINTEXT_LENGTH+" bytes.")}function OlmDevice(cryptoStore){this._cryptoStore=cryptoStore,this._pickleKey="DEFAULT_KEY",this.deviceCurve25519Key=null,this.deviceEd25519Key=null,this._maxOneTimeKeys=null,this._outboundGroupSessionStore={},this._inboundGroupSessionMessageIndexes={},this._sessionsInProgress={}}OlmDevice.prototype.init=async function(){let e2eKeys;const account=new global.Olm.Account;try{await async function _initialiseAccount(cryptoStore,pickleKey,account){await cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT],txn=>{cryptoStore.getAccount(txn,pickledAccount=>{null!==pickledAccount?account.unpickle(pickleKey,pickledAccount):(account.create(),pickledAccount=account.pickle(pickleKey),cryptoStore.storeAccount(txn,pickledAccount))})})}(this._cryptoStore,this._pickleKey,account),e2eKeys=JSON.parse(account.identity_keys()),this._maxOneTimeKeys=account.max_number_of_one_time_keys()}finally{account.free()}this.deviceCurve25519Key=e2eKeys.curve25519,this.deviceEd25519Key=e2eKeys.ed25519},OlmDevice.getOlmVersion=function(){return global.Olm.get_library_version()},OlmDevice.prototype._getAccount=function(txn,func){this._cryptoStore.getAccount(txn,pickledAccount=>{const account=new global.Olm.Account;try{account.unpickle(this._pickleKey,pickledAccount),func(account)}finally{account.free()}})},OlmDevice.prototype._storeAccount=function(txn,account){this._cryptoStore.storeAccount(txn,account.pickle(this._pickleKey))},OlmDevice.prototype._getSession=function(deviceKey,sessionId,txn,func){this._cryptoStore.getEndToEndSession(deviceKey,sessionId,txn,sessionInfo=>{this._unpickleSession(sessionInfo,func)})},OlmDevice.prototype._unpickleSession=function(sessionInfo,func){const session=new global.Olm.Session;try{session.unpickle(this._pickleKey,sessionInfo.session),func(Object.assign({},sessionInfo,{session:session}))}finally{session.free()}},OlmDevice.prototype._saveSession=function(deviceKey,sessionInfo,txn){const sessionId=sessionInfo.session.session_id(),pickledSessionInfo=Object.assign(sessionInfo,{session:sessionInfo.session.pickle(this._pickleKey)});this._cryptoStore.storeEndToEndSession(deviceKey,sessionId,pickledSessionInfo,txn)},OlmDevice.prototype._getUtility=function(func){const utility=new global.Olm.Utility;try{return func(utility)}finally{utility.free()}},OlmDevice.prototype.sign=async function(message){let result;return await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT],txn=>{this._getAccount(txn,account=>{result=account.sign(message)})}),result},OlmDevice.prototype.getOneTimeKeys=async function(){let result;return await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT],txn=>{this._getAccount(txn,account=>{result=JSON.parse(account.one_time_keys())})}),result},OlmDevice.prototype.maxNumberOfOneTimeKeys=function(){return this._maxOneTimeKeys},OlmDevice.prototype.markKeysAsPublished=async function(){await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT],txn=>{this._getAccount(txn,account=>{account.mark_keys_as_published(),this._storeAccount(txn,account)})})},OlmDevice.prototype.generateOneTimeKeys=function(numKeys){return this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT],txn=>{this._getAccount(txn,account=>{account.generate_one_time_keys(numKeys),this._storeAccount(txn,account)})})},OlmDevice.prototype.createOutboundSession=async function(theirIdentityKey,theirOneTimeKey){let newSessionId;return await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT,_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_SESSIONS],txn=>{this._getAccount(txn,account=>{const session=new global.Olm.Session;try{session.create_outbound(account,theirIdentityKey,theirOneTimeKey),newSessionId=session.session_id(),this._storeAccount(txn,account);const sessionInfo={session:session,lastReceivedMessageTs:Date.now()};this._saveSession(theirIdentityKey,sessionInfo,txn)}finally{session.free()}})}),newSessionId},OlmDevice.prototype.createInboundSession=async function(theirDeviceIdentityKey,messageType,ciphertext){if(0!==messageType)throw new Error("Need messageType == 0 to create inbound session");let result;return await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT,_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_SESSIONS],txn=>{this._getAccount(txn,account=>{const session=new global.Olm.Session;try{session.create_inbound_from(account,theirDeviceIdentityKey,ciphertext),account.remove_one_time_keys(session),this._storeAccount(txn,account);const payloadString=session.decrypt(messageType,ciphertext),sessionInfo={session:session,lastReceivedMessageTs:Date.now()};this._saveSession(theirDeviceIdentityKey,sessionInfo,txn),result={payload:payloadString,session_id:session.session_id()}}finally{session.free()}})}),result},OlmDevice.prototype.getSessionIdsForDevice=async function(theirDeviceIdentityKey){if(this._sessionsInProgress[theirDeviceIdentityKey]){_logger.logger.log("waiting for olm session to be created");try{await this._sessionsInProgress[theirDeviceIdentityKey]}catch(e){}}let sessionIds;return await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_SESSIONS],txn=>{this._cryptoStore.getEndToEndSessions(theirDeviceIdentityKey,txn,sessions=>{sessionIds=Object.keys(sessions)})}),sessionIds},OlmDevice.prototype.getSessionIdForDevice=async function(theirDeviceIdentityKey,nowait){const sessionInfos=await this.getSessionInfoForDevice(theirDeviceIdentityKey,nowait);if(0===sessionInfos.length)return null;let idxOfBest=0;for(let i=1;i<sessionInfos.length;i++){const thisSessInfo=sessionInfos[i],thisLastReceived=void 0===thisSessInfo.lastReceivedMessageTs?0:thisSessInfo.lastReceivedMessageTs,bestSessInfo=sessionInfos[idxOfBest],bestLastReceived=void 0===bestSessInfo.lastReceivedMessageTs?0:bestSessInfo.lastReceivedMessageTs;(thisLastReceived>bestLastReceived||thisLastReceived===bestLastReceived&&thisSessInfo.sessionId<bestSessInfo.sessionId)&&(idxOfBest=i)}return sessionInfos[idxOfBest].sessionId},OlmDevice.prototype.getSessionInfoForDevice=async function(deviceIdentityKey,nowait){if(this._sessionsInProgress[deviceIdentityKey]&&!nowait){_logger.logger.log("waiting for olm session to be created");try{await this._sessionsInProgress[deviceIdentityKey]}catch(e){}}const info=[];return await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_SESSIONS],txn=>{this._cryptoStore.getEndToEndSessions(deviceIdentityKey,txn,sessions=>{const sessionIds=Object.keys(sessions).sort();for(const sessionId of sessionIds)this._unpickleSession(sessions[sessionId],sessInfo=>{info.push({lastReceivedMessageTs:sessInfo.lastReceivedMessageTs,hasReceivedMessage:sessInfo.session.has_received_message(),sessionId:sessionId})})})}),info},OlmDevice.prototype.encryptMessage=async function(theirDeviceIdentityKey,sessionId,payloadString){let res;return checkPayloadLength(payloadString),await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_SESSIONS],txn=>{this._getSession(theirDeviceIdentityKey,sessionId,txn,sessionInfo=>{const sessionDesc=sessionInfo.session.describe();_logger.logger.log("encryptMessage: Olm Session ID "+sessionId+" to "+theirDeviceIdentityKey+": "+sessionDesc),res=sessionInfo.session.encrypt(payloadString),this._saveSession(theirDeviceIdentityKey,sessionInfo,txn)})}),res},OlmDevice.prototype.decryptMessage=async function(theirDeviceIdentityKey,sessionId,messageType,ciphertext){let payloadString;return await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_SESSIONS],txn=>{this._getSession(theirDeviceIdentityKey,sessionId,txn,sessionInfo=>{const sessionDesc=sessionInfo.session.describe();_logger.logger.log("decryptMessage: Olm Session ID "+sessionId+" from "+theirDeviceIdentityKey+": "+sessionDesc),payloadString=sessionInfo.session.decrypt(messageType,ciphertext),sessionInfo.lastReceivedMessageTs=Date.now(),this._saveSession(theirDeviceIdentityKey,sessionInfo,txn)})}),payloadString},OlmDevice.prototype.matchesSession=async function(theirDeviceIdentityKey,sessionId,messageType,ciphertext){if(0!==messageType)return!1;let matches;return await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_SESSIONS],txn=>{this._getSession(theirDeviceIdentityKey,sessionId,txn,sessionInfo=>{matches=sessionInfo.session.matches_inbound(ciphertext)})}),matches},OlmDevice.prototype.recordSessionProblem=async function(deviceKey,type,fixed){await this._cryptoStore.storeEndToEndSessionProblem(deviceKey,type,fixed)},OlmDevice.prototype.sessionMayHaveProblems=async function(deviceKey,timestamp){return await this._cryptoStore.getEndToEndSessionProblem(deviceKey,timestamp)},OlmDevice.prototype.filterOutNotifiedErrorDevices=async function(devices){return await this._cryptoStore.filterOutNotifiedErrorDevices(devices)},OlmDevice.prototype._saveOutboundGroupSession=function(session){const pickledSession=session.pickle(this._pickleKey);this._outboundGroupSessionStore[session.session_id()]=pickledSession},OlmDevice.prototype._getOutboundGroupSession=function(sessionId,func){const pickled=this._outboundGroupSessionStore[sessionId];if(void 0===pickled)throw new Error("Unknown outbound group session "+sessionId);const session=new global.Olm.OutboundGroupSession;try{return session.unpickle(this._pickleKey,pickled),func(session)}finally{session.free()}},OlmDevice.prototype.createOutboundGroupSession=function(){const session=new global.Olm.OutboundGroupSession;try{return session.create(),this._saveOutboundGroupSession(session),session.session_id()}finally{session.free()}},OlmDevice.prototype.encryptGroupMessage=function(sessionId,payloadString){const self=this;return _logger.logger.log(`encrypting msg with megolm session ${sessionId}`),checkPayloadLength(payloadString),this._getOutboundGroupSession(sessionId,function(session){const res=session.encrypt(payloadString);return self._saveOutboundGroupSession(session),res})},OlmDevice.prototype.getOutboundGroupSessionKey=function(sessionId){return this._getOutboundGroupSession(sessionId,function(session){return{chain_index:session.message_index(),key:session.session_key()}})},OlmDevice.prototype._unpickleInboundGroupSession=function(sessionData,func){const session=new global.Olm.InboundGroupSession;try{return session.unpickle(this._pickleKey,sessionData.session),func(session)}finally{session.free()}},OlmDevice.prototype._getInboundGroupSession=function(roomId,senderKey,sessionId,txn,func){this._cryptoStore.getEndToEndInboundGroupSession(senderKey,sessionId,txn,(sessionData,withheld)=>{if(null!==sessionData){if(null!==roomId&&roomId!==sessionData.room_id)throw new Error("Mismatched room_id for inbound group session (expected "+sessionData.room_id+", was "+roomId+")");this._unpickleInboundGroupSession(sessionData,session=>{func(session,sessionData,withheld)})}else func(null,null,withheld)})},OlmDevice.prototype.addInboundGroupSession=async function(roomId,senderKey,forwardingCurve25519KeyChain,sessionId,sessionKey,keysClaimed,exportFormat){await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],txn=>{this._getInboundGroupSession(roomId,senderKey,sessionId,txn,(existingSession,existingSessionData)=>{const session=new global.Olm.InboundGroupSession;try{if(exportFormat?session.import_session(sessionKey):session.create(sessionKey),sessionId!=session.session_id())throw new Error("Mismatched group session ID from senderKey: "+senderKey);if(existingSession&&(_logger.logger.log("Update for megolm session "+senderKey+"/"+sessionId),existingSession.first_known_index()<=session.first_known_index()))return void _logger.logger.log(`Keeping existing megolm session ${sessionId}`);const sessionData={room_id:roomId,session:session.pickle(this._pickleKey),keysClaimed:keysClaimed,forwardingCurve25519KeyChain:forwardingCurve25519KeyChain};this._cryptoStore.storeEndToEndInboundGroupSession(senderKey,sessionId,sessionData,txn)}finally{session.free()}})})},OlmDevice.prototype.addInboundGroupSessionWithheld=async function(roomId,senderKey,sessionId,code,reason){await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],txn=>{this._cryptoStore.storeEndToEndInboundGroupSessionWithheld(senderKey,sessionId,{room_id:roomId,code:code,reason:reason},txn)})};const WITHHELD_MESSAGES={"m.unverified":"The sender has disabled encrypting to unverified devices.","m.blacklisted":"The sender has blocked you.","m.unauthorised":"You are not authorised to read the message.","m.no_olm":"Unable to establish a secure channel."};function _calculateWithheldMessage(withheld){return withheld.code&&withheld.code in WITHHELD_MESSAGES?WITHHELD_MESSAGES[withheld.code]:withheld.reason?withheld.reason:"decryption key withheld"}exports.WITHHELD_MESSAGES=WITHHELD_MESSAGES,OlmDevice.prototype.decryptGroupMessage=async function(roomId,senderKey,sessionId,body,eventId,timestamp){let result,error;if(await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],txn=>{this._getInboundGroupSession(roomId,senderKey,sessionId,txn,(session,sessionData,withheld)=>{if(null===session)return withheld&&(error=new algorithms.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",_calculateWithheldMessage(withheld),{session:senderKey+"|"+sessionId})),void(result=null);let res;try{res=session.decrypt(body)}catch(e){return void(error=e&&"OLM.UNKNOWN_MESSAGE_INDEX"===e.message&&withheld?new algorithms.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",_calculateWithheldMessage(withheld),{session:senderKey+"|"+sessionId}):e)}let plaintext=res.plaintext;if(void 0===plaintext)plaintext=res;else{const messageIndexKey=senderKey+"|"+sessionId+"|"+res.message_index;if(messageIndexKey in this._inboundGroupSessionMessageIndexes){const msgInfo=this._inboundGroupSessionMessageIndexes[messageIndexKey];if(msgInfo.id!==eventId||msgInfo.timestamp!==timestamp)return void(error=new Error("Duplicate message index, possible replay attack: "+messageIndexKey))}this._inboundGroupSessionMessageIndexes[messageIndexKey]={id:eventId,timestamp:timestamp}}sessionData.session=session.pickle(this._pickleKey),this._cryptoStore.storeEndToEndInboundGroupSession(senderKey,sessionId,sessionData,txn),result={result:plaintext,keysClaimed:sessionData.keysClaimed||{},senderKey:senderKey,forwardingCurve25519KeyChain:sessionData.forwardingCurve25519KeyChain||[]}})}),error)throw error;return result},OlmDevice.prototype.hasInboundSessionKeys=async function(roomId,senderKey,sessionId){let result;return await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],txn=>{this._cryptoStore.getEndToEndInboundGroupSession(senderKey,sessionId,txn,sessionData=>{null!==sessionData?roomId!==sessionData.room_id?(_logger.logger.warn(`requested keys for inbound group session ${senderKey}|`+`${sessionId}, with incorrect room_id `+`(expected ${sessionData.room_id}, `+`was ${roomId})`),result=!1):result=!0:result=!1})}),result},OlmDevice.prototype.getInboundGroupSessionKey=async function(roomId,senderKey,sessionId,chainIndex){let result;return await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],txn=>{this._getInboundGroupSession(roomId,senderKey,sessionId,txn,(session,sessionData)=>{if(null===session)return void(result=null);void 0===chainIndex&&(chainIndex=session.first_known_index());const exportedSession=session.export_session(chainIndex),senderEd25519Key=(sessionData.keysClaimed||{}).ed25519||null;result={chain_index:chainIndex,key:exportedSession,forwarding_curve25519_key_chain:sessionData.forwardingCurve25519KeyChain||[],sender_claimed_ed25519_key:senderEd25519Key}})}),result},OlmDevice.prototype.exportInboundGroupSession=function(senderKey,sessionId,sessionData){return this._unpickleInboundGroupSession(sessionData,session=>{const messageIndex=session.first_known_index();return{sender_key:senderKey,sender_claimed_keys:sessionData.keysClaimed,room_id:sessionData.room_id,session_id:sessionId,session_key:session.export_session(messageIndex),forwarding_curve25519_key_chain:session.forwardingCurve25519KeyChain||[],first_known_index:session.first_known_index()}})},OlmDevice.prototype.verifySignature=function(key,message,signature){this._getUtility(function(util){util.ed25519_verify(key,message,signature)})}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(913),__webpack_require__(914);var _base=__webpack_require__(236);Object.keys(_base).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _base[key]}})})},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceTrustLevel=exports.UserTrustLevel=exports.CrossSigningLevel=exports.CrossSigningInfo=void 0;var _olmlib=__webpack_require__(64),_events=__webpack_require__(18),_logger=__webpack_require__(2);function publicKeyFromKeyInfo(keyInfo){return Object.values(keyInfo.keys)[0]}class CrossSigningInfo extends _events.EventEmitter{constructor(userId,callbacks){super(),Object.defineProperty(this,"userId",{enumerable:!0,value:userId}),this._callbacks=callbacks||{},this.keys={},this.firstUse=!0}async getCrossSigningKey(type,expectedPubkey){if(!this._callbacks.getCrossSigningKey)throw new Error("No getCrossSigningKey callback supplied");void 0===expectedPubkey&&(expectedPubkey=this.getId(type));const privkey=await this._callbacks.getCrossSigningKey(type,expectedPubkey);if(!privkey)throw new Error("getCrossSigningKey callback for "+type+" returned falsey");const signing=new global.Olm.PkSigning,gotPubkey=signing.init_with_seed(privkey);if(gotPubkey!==expectedPubkey)throw signing.free(),new Error("Key type "+type+" from getCrossSigningKey callback did not match");return[gotPubkey,signing]}static fromStorage(obj,userId){const res=new CrossSigningInfo(userId);for(const prop in obj)obj.hasOwnProperty(prop)&&(res[prop]=obj[prop]);return res}toStorage(){return{keys:this.keys,firstUse:this.firstUse}}async isStoredInSecretStorage(secretStorage){let stored=!0;for(const type of["master","self_signing","user_signing"])stored&=await secretStorage.isStored(`m.cross_signing.${type}`,!1);return stored}static async storeInSecretStorage(keys,secretStorage){for(const type of Object.keys(keys)){const encodedKey=(0,_olmlib.encodeBase64)(keys[type]);await secretStorage.store(`m.cross_signing.${type}`,encodedKey)}}static async getFromSecretStorage(type,secretStorage){const encodedKey=await secretStorage.get(`m.cross_signing.${type}`);return(0,_olmlib.decodeBase64)(encodedKey)}getId(type){if(type=type||"master",!this.keys[type])return null;return publicKeyFromKeyInfo(this.keys[type])}async resetKeys(level){if(!this._callbacks.saveCrossSigningKeys)throw new Error("No saveCrossSigningKeys callback supplied");if(void 0===level||level&CrossSigningLevel.MASTER||!this.keys.master)level=CrossSigningLevel.MASTER|CrossSigningLevel.USER_SIGNING|CrossSigningLevel.SELF_SIGNING;else if(0===level)return;const privateKeys={},keys={};let masterSigning,masterPub;try{if(level&CrossSigningLevel.MASTER?(masterSigning=new global.Olm.PkSigning,privateKeys.master=masterSigning.generate_seed(),masterPub=masterSigning.init_with_seed(privateKeys.master),keys.master={user_id:this.userId,usage:["master"],keys:{["ed25519:"+masterPub]:masterPub}}):[masterPub,masterSigning]=await this.getCrossSigningKey("master"),level&CrossSigningLevel.SELF_SIGNING){const sskSigning=new global.Olm.PkSigning;try{privateKeys.self_signing=sskSigning.generate_seed();const sskPub=sskSigning.init_with_seed(privateKeys.self_signing);keys.self_signing={user_id:this.userId,usage:["self_signing"],keys:{["ed25519:"+sskPub]:sskPub}},(0,_olmlib.pkSign)(keys.self_signing,masterSigning,this.userId,masterPub)}finally{sskSigning.free()}}if(level&CrossSigningLevel.USER_SIGNING){const uskSigning=new global.Olm.PkSigning;try{privateKeys.user_signing=uskSigning.generate_seed();const uskPub=uskSigning.init_with_seed(privateKeys.user_signing);keys.user_signing={user_id:this.userId,usage:["user_signing"],keys:{["ed25519:"+uskPub]:uskPub}},(0,_olmlib.pkSign)(keys.user_signing,masterSigning,this.userId,masterPub)}finally{uskSigning.free()}}Object.assign(this.keys,keys),this._callbacks.saveCrossSigningKeys(privateKeys)}finally{masterSigning&&masterSigning.free()}}setKeys(keys){const signingKeys={};if(keys.master){if(keys.master.user_id!==this.userId){const error="Mismatched user ID "+keys.master.user_id+" in master key from "+this.userId;throw _logger.logger.error(error),new Error(error)}this.keys.master?publicKeyFromKeyInfo(keys.master)!==this.getId()&&(this.firstUse=!1):this.firstUse=!0,signingKeys.master=keys.master}else{if(!this.keys.master)throw new Error("Tried to set cross-signing keys without a master key");signingKeys.master=this.keys.master}const masterKey=publicKeyFromKeyInfo(signingKeys.master);if(keys.user_signing){if(keys.user_signing.user_id!==this.userId){const error="Mismatched user ID "+keys.master.user_id+" in user_signing key from "+this.userId;throw _logger.logger.error(error),new Error(error)}try{(0,_olmlib.pkVerify)(keys.user_signing,masterKey,this.userId)}catch(e){throw _logger.logger.error("invalid signature on user-signing key"),e}}if(keys.self_signing){if(keys.self_signing.user_id!==this.userId){const error="Mismatched user ID "+keys.master.user_id+" in self_signing key from "+this.userId;throw _logger.logger.error(error),new Error(error)}try{(0,_olmlib.pkVerify)(keys.self_signing,masterKey,this.userId)}catch(e){throw _logger.logger.error("invalid signature on self-signing key"),e}}keys.master&&(this.keys.master=keys.master,this.keys.self_signing=null,this.keys.user_signing=null),keys.self_signing&&(this.keys.self_signing=keys.self_signing),keys.user_signing&&(this.keys.user_signing=keys.user_signing)}async signObject(data,type){if(!this.keys[type])throw new Error("Attempted to sign with "+type+" key but no such key present");const[pubkey,signing]=await this.getCrossSigningKey(type);try{return(0,_olmlib.pkSign)(data,signing,this.userId,pubkey),data}finally{signing.free()}}async signUser(key){if(this.keys.user_signing)return this.signObject(key.keys.master,"user_signing")}async signDevice(userId,device){if(userId!==this.userId)throw new Error(`Trying to sign ${userId}'s device; can only sign our own device`);if(this.keys.self_signing)return this.signObject({algorithms:device.algorithms,keys:device.keys,device_id:device.deviceId,user_id:userId},"self_signing")}checkUserTrust(userCrossSigning){if(this.userId===userCrossSigning.userId&&this.getId()&&this.getId()===userCrossSigning.getId()&&this.getId("self_signing")&&this.getId("self_signing")===userCrossSigning.getId("self_signing"))return new UserTrustLevel(!0,this.firstUse);if(!this.keys.user_signing)return new UserTrustLevel(!1,userCrossSigning.firstUse);let userTrusted;const userMaster=userCrossSigning.keys.master,uskId=this.getId("user_signing");try{(0,_olmlib.pkVerify)(userMaster,uskId,this.userId),userTrusted=!0}catch(e){userTrusted=!1}return new UserTrustLevel(userTrusted,userCrossSigning.firstUse)}checkDeviceTrust(userCrossSigning,device,localTrust){const userTrust=this.checkUserTrust(userCrossSigning),userSSK=userCrossSigning.keys.self_signing;if(!userSSK)return new DeviceTrustLevel(!1,!1,localTrust);const deviceObj=function deviceToObject(device,userId){return{algorithms:device.algorithms,keys:device.keys,device_id:device.deviceId,user_id:userId,signatures:device.signatures}}(device,userCrossSigning.userId);try{return(0,_olmlib.pkVerify)(userSSK,userCrossSigning.getId(),userCrossSigning.userId),(0,_olmlib.pkVerify)(deviceObj,publicKeyFromKeyInfo(userSSK),userCrossSigning.userId),DeviceTrustLevel.fromUserTrustLevel(userTrust,localTrust)}catch(e){return new DeviceTrustLevel(!1,!1,localTrust)}}}exports.CrossSigningInfo=CrossSigningInfo;const CrossSigningLevel={MASTER:4,USER_SIGNING:2,SELF_SIGNING:1};exports.CrossSigningLevel=CrossSigningLevel;class UserTrustLevel{constructor(crossSigningVerified,tofu){this._crossSigningVerified=crossSigningVerified,this._tofu=tofu}isVerified(){return this.isCrossSigningVerified()}isCrossSigningVerified(){return this._crossSigningVerified}isTofu(){return this._tofu}}exports.UserTrustLevel=UserTrustLevel;class DeviceTrustLevel{constructor(crossSigningVerified,tofu,localVerified){this._crossSigningVerified=crossSigningVerified,this._tofu=tofu,this._localVerified=localVerified}static fromUserTrustLevel(userTrustLevel,localVerified){return new DeviceTrustLevel(userTrustLevel._crossSigningVerified,userTrustLevel._tofu,localVerified)}isVerified(){return this.isCrossSigningVerified()||this.isLocallyVerified()}isCrossSigningVerified(){return this._crossSigningVerified}isLocallyVerified(){return this._localVerified}isTofu(){return this._tofu}}exports.DeviceTrustLevel=DeviceTrustLevel}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VerificationBase=void 0;var _event=__webpack_require__(54),_events=__webpack_require__(18),_logger=__webpack_require__(2),_deviceinfo=__webpack_require__(149),_Error=__webpack_require__(100);const timeoutException=new Error("Verification timed out");exports.VerificationBase=class VerificationBase extends _events.EventEmitter{constructor(channel,baseApis,userId,deviceId,startEvent,request){super(),this._channel=channel,this._baseApis=baseApis,this.userId=userId,this.deviceId=deviceId,this.startEvent=startEvent,this.request=request,this.cancelled=!1,this._done=!1,this._promise=null,this._transactionTimeoutTimer=null,this._resetTimer()}_resetTimer(){_logger.logger.info("Refreshing/starting the verification transaction timeout timer"),null!==this._transactionTimeoutTimer&&clearTimeout(this._transactionTimeoutTimer),this._transactionTimeoutTimer=setTimeout(()=>{this._done||this.cancelled||(_logger.logger.info("Triggering verification timeout"),this.cancel(timeoutException))},6e5)}_endTimer(){null!==this._transactionTimeoutTimer&&(clearTimeout(this._transactionTimeoutTimer),this._transactionTimeoutTimer=null)}_send(type,uncompletedContent){return this._channel.send(type,uncompletedContent)}_waitForEvent(type){return this._done?Promise.reject(new Error("Verification is already done")):(this._expectedEvent=type,new Promise((resolve,reject)=>{this._resolveEvent=resolve,this._rejectEvent=reject}))}handleEvent(e){if(!this._done)if(e.getType()===this._expectedEvent)"m.key.verification.done"!==this._expectedEvent&&(this._expectedEvent=void 0,this._rejectEvent=void 0,this._resetTimer(),this._resolveEvent(e));else if("m.key.verification.cancel"===e.getType()){const reject=this._reject;this._reject=void 0,reject(new Error("Other side cancelled verification"))}else{const exception=new Error("Unexpected message: expecting "+this._expectedEvent+" but got "+e.getType());if(this._expectedEvent=void 0,this._rejectEvent){const reject=this._rejectEvent;this._rejectEvent=void 0,reject(exception)}this.cancel(exception)}}done(){this._endTimer(),this._done||(this._channel.needsDoneMessage&&this._send("m.key.verification.done",{}),this._resolve())}cancel(e){if(this._endTimer(),!this._done){if(this.cancelled=!0,this.userId&&this.deviceId)if(e===timeoutException){const timeoutEvent=(0,_Error.newTimeoutError)();this._send(timeoutEvent.getType(),timeoutEvent.getContent())}else if(e instanceof _event.MatrixEvent){if(e.getSender()!==this.userId){const content=e.getContent();"m.key.verification.cancel"===e.getType()?(content.code=content.code||"m.unknown",content.reason=content.reason||content.body||"Unknown reason",this._send("m.key.verification.cancel",content)):this._send("m.key.verification.cancel",{code:"m.unknown",reason:content.body||"Unknown reason"})}}else this._send("m.key.verification.cancel",{code:"m.unknown",reason:e.toString()});null!==this._promise?this._reject&&this._reject(e):this._promise=Promise.reject(e),this.emit("cancel",e)}}verify(){return this._promise?this._promise:(this._promise=new Promise((resolve,reject)=>{this._resolve=(...args)=>{this._done=!0,this._endTimer(),resolve(...args)},this._reject=(...args)=>{this._done=!0,this._endTimer(),reject(...args)}}),this._doVerification&&!this._started&&(this._started=!0,this._resetTimer(),Promise.resolve(this._doVerification()).then(this.done.bind(this),this.cancel.bind(this))),this._promise)}async _verifyKeys(userId,keys,verifier){const verifiedDevices=[];for(const[keyId,keyInfo]of Object.entries(keys)){const deviceId=keyId.split(":",2)[1],device=await this._baseApis.getStoredDevice(userId,deviceId);if(device)await verifier(keyId,device,keyInfo),verifiedDevices.push(deviceId);else{const crossSigningInfo=this._baseApis._crypto._deviceList.getStoredCrossSigningForUser(userId);crossSigningInfo&&crossSigningInfo.getId()===deviceId?(await verifier(keyId,_deviceinfo.DeviceInfo.fromStorage({keys:{[keyId]:deviceId}},deviceId),keyInfo),verifiedDevices.push(deviceId)):_logger.logger.warn(`verification: Could not find device ${deviceId} to verify`)}}if(!verifiedDevices.length)throw new Error("No devices could be verified");for(const deviceId of verifiedDevices)await this._baseApis.setDeviceVerified(userId,deviceId)}}},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.keyFromAuthData=async function keyFromAuthData(authData,password){if(!global.Olm)throw new Error("Olm is not available");if(!authData.private_key_salt||!authData.private_key_iterations)throw new Error("Salt and/or iterations not found: this backup cannot be restored with a passphrase");return await deriveKey(password,authData.private_key_salt,authData.private_key_iterations)},exports.keyFromPassphrase=async function keyFromPassphrase(password){if(!global.Olm)throw new Error("Olm is not available");const salt=(0,_randomstring.randomString)(32);return{key:await deriveKey(password,salt,DEFAULT_ITERATIONS),salt:salt,iterations:DEFAULT_ITERATIONS}},exports.deriveKey=deriveKey;var _randomstring=__webpack_require__(150);const DEFAULT_ITERATIONS=5e5;async function deriveKey(password,salt,iterations){const subtleCrypto=global.crypto.subtle,TextEncoder=global.TextEncoder;if(!subtleCrypto||!TextEncoder)throw new Error("Password-based backup is not avaiable on this platform");const key=await subtleCrypto.importKey("raw",(new TextEncoder).encode(password),{name:"PBKDF2"},!1,["deriveBits"]),keybits=await subtleCrypto.deriveBits({name:"PBKDF2",salt:(new TextEncoder).encode(salt),iterations:iterations,hash:"SHA-512"},key,8*global.Olm.PRIVATE_KEY_LENGTH);return new Uint8Array(keybits)}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";(function(Buffer,global){var _interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeRecoveryKey=function encodeRecoveryKey(key){const buf=new Buffer(OLM_RECOVERY_KEY_PREFIX.length+key.length+1);buf.set(OLM_RECOVERY_KEY_PREFIX,0),buf.set(key,OLM_RECOVERY_KEY_PREFIX.length);let parity=0;for(let i=0;i<buf.length-1;++i)parity^=buf[i];return buf[buf.length-1]=parity,_bs.default.encode(buf).match(/.{1,4}/g).join(" ")},exports.decodeRecoveryKey=function decodeRecoveryKey(recoverykey){const result=_bs.default.decode(recoverykey.replace(/ /g,""));let parity=0;for(const b of result)parity^=b;if(0!==parity)throw new Error("Incorrect parity");for(let i=0;i<OLM_RECOVERY_KEY_PREFIX.length;++i)if(result[i]!==OLM_RECOVERY_KEY_PREFIX[i])throw new Error("Incorrect prefix");if(result.length!==OLM_RECOVERY_KEY_PREFIX.length+global.Olm.PRIVATE_KEY_LENGTH+1)throw new Error("Incorrect length");return result.slice(OLM_RECOVERY_KEY_PREFIX.length,OLM_RECOVERY_KEY_PREFIX.length+global.Olm.PRIVATE_KEY_LENGTH)};var _bs=_interopRequireDefault(__webpack_require__(920));const OLM_RECOVERY_KEY_PREFIX=[139,1]}).call(this,__webpack_require__(234).Buffer,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SyncAccumulator=void 0;var _logger=__webpack_require__(2),_utils=__webpack_require__(5);function setState(eventMap,event){null!==event.state_key&&void 0!==event.state_key&&event.type&&(eventMap[event.type]||(eventMap[event.type]=Object.create(null)),eventMap[event.type][event.state_key]=event)}exports.SyncAccumulator=class SyncAccumulator{constructor(opts){(opts=opts||{}).maxTimelineEntries=opts.maxTimelineEntries||50,this.opts=opts,this.accountData={},this.inviteRooms={},this.joinRooms={},this.nextBatch=null,this.groups={invite:{},join:{},leave:{}}}accumulate(syncResponse){this._accumulateRooms(syncResponse),this._accumulateGroups(syncResponse),this._accumulateAccountData(syncResponse),this.nextBatch=syncResponse.next_batch}_accumulateAccountData(syncResponse){syncResponse.account_data&&syncResponse.account_data.events&&syncResponse.account_data.events.forEach(e=>{this.accountData[e.type]=e})}_accumulateRooms(syncResponse){syncResponse.rooms&&(syncResponse.rooms.invite&&Object.keys(syncResponse.rooms.invite).forEach(roomId=>{this._accumulateRoom(roomId,"invite",syncResponse.rooms.invite[roomId])}),syncResponse.rooms.join&&Object.keys(syncResponse.rooms.join).forEach(roomId=>{this._accumulateRoom(roomId,"join",syncResponse.rooms.join[roomId])}),syncResponse.rooms.leave&&Object.keys(syncResponse.rooms.leave).forEach(roomId=>{this._accumulateRoom(roomId,"leave",syncResponse.rooms.leave[roomId])}))}_accumulateRoom(roomId,category,data){switch(category){case"invite":this._accumulateInviteState(roomId,data);break;case"join":this.inviteRooms[roomId]&&delete this.inviteRooms[roomId],this._accumulateJoinState(roomId,data);break;case"leave":this.inviteRooms[roomId]?delete this.inviteRooms[roomId]:delete this.joinRooms[roomId];break;default:_logger.logger.error("Unknown cateogory: ",category)}}_accumulateInviteState(roomId,data){if(!data.invite_state||!data.invite_state.events)return;if(!this.inviteRooms[roomId])return void(this.inviteRooms[roomId]={invite_state:data.invite_state});const currentData=this.inviteRooms[roomId];data.invite_state.events.forEach(e=>{let hasAdded=!1;for(let i=0;i<currentData.invite_state.events.length;i++){const current=currentData.invite_state.events[i];current.type===e.type&&current.state_key==e.state_key&&(currentData.invite_state.events[i]=e,hasAdded=!0)}hasAdded||currentData.invite_state.events.push(e)})}_accumulateJoinState(roomId,data){this.joinRooms[roomId]||(this.joinRooms[roomId]={_currentState:Object.create(null),_timeline:[],_accountData:Object.create(null),_unreadNotifications:{},_summary:{},_readReceipts:{}});const currentData=this.joinRooms[roomId];if(data.account_data&&data.account_data.events&&data.account_data.events.forEach(e=>{currentData._accountData[e.type]=e}),data.unread_notifications&&(currentData._unreadNotifications=data.unread_notifications),data.summary){const HEROES_KEY="m.heroes",INVITED_COUNT_KEY="m.invited_member_count",JOINED_COUNT_KEY="m.joined_member_count",acc=currentData._summary,sum=data.summary;acc[HEROES_KEY]=sum[HEROES_KEY]||acc[HEROES_KEY],acc[JOINED_COUNT_KEY]=sum[JOINED_COUNT_KEY]||acc[JOINED_COUNT_KEY],acc[INVITED_COUNT_KEY]=sum[INVITED_COUNT_KEY]||acc[INVITED_COUNT_KEY]}if(data.ephemeral&&data.ephemeral.events&&data.ephemeral.events.forEach(e=>{"m.receipt"===e.type&&e.content&&Object.keys(e.content).forEach(eventId=>{e.content[eventId]["m.read"]&&Object.keys(e.content[eventId]["m.read"]).forEach(userId=>{currentData._readReceipts[userId]={data:e.content[eventId]["m.read"][userId],eventId:eventId}})})}),data.timeline&&data.timeline.limited&&(currentData._timeline=[]),data.state&&data.state.events&&data.state.events.forEach(e=>{setState(currentData._currentState,e)}),data.timeline&&data.timeline.events&&data.timeline.events.forEach((e,index)=>{setState(currentData._currentState,e),currentData._timeline.push({event:e,token:0===index?data.timeline.prev_batch:null})}),currentData._timeline.length>this.opts.maxTimelineEntries){for(let i=currentData._timeline.length-this.opts.maxTimelineEntries;i<currentData._timeline.length;i++)if(currentData._timeline[i].token){currentData._timeline=currentData._timeline.slice(i,currentData._timeline.length);break}}}_accumulateGroups(syncResponse){syncResponse.groups&&(syncResponse.groups.invite&&Object.keys(syncResponse.groups.invite).forEach(groupId=>{this._accumulateGroup(groupId,"invite",syncResponse.groups.invite[groupId])}),syncResponse.groups.join&&Object.keys(syncResponse.groups.join).forEach(groupId=>{this._accumulateGroup(groupId,"join",syncResponse.groups.join[groupId])}),syncResponse.groups.leave&&Object.keys(syncResponse.groups.leave).forEach(groupId=>{this._accumulateGroup(groupId,"leave",syncResponse.groups.leave[groupId])}))}_accumulateGroup(groupId,category,data){for(const cat of["invite","join","leave"])delete this.groups[cat][groupId];this.groups[category][groupId]=data}getJSON(){const data={join:{},invite:{},leave:{}};Object.keys(this.inviteRooms).forEach(roomId=>{data.invite[roomId]=this.inviteRooms[roomId]}),Object.keys(this.joinRooms).forEach(roomId=>{const roomData=this.joinRooms[roomId],roomJson={ephemeral:{events:[]},account_data:{events:[]},state:{events:[]},timeline:{events:[],prev_batch:null},unread_notifications:roomData._unreadNotifications,summary:roomData._summary};Object.keys(roomData._accountData).forEach(evType=>{roomJson.account_data.events.push(roomData._accountData[evType])});const receiptEvent={type:"m.receipt",room_id:roomId,content:{}};Object.keys(roomData._readReceipts).forEach(userId=>{const receiptData=roomData._readReceipts[userId];receiptEvent.content[receiptData.eventId]||(receiptEvent.content[receiptData.eventId]={"m.read":{}}),receiptEvent.content[receiptData.eventId]["m.read"][userId]=receiptData.data}),Object.keys(receiptEvent.content).length>0&&roomJson.ephemeral.events.push(receiptEvent),roomData._timeline.forEach(msgData=>{if(!roomJson.timeline.prev_batch){if(!msgData.token)return;roomJson.timeline.prev_batch=msgData.token}roomJson.timeline.events.push(msgData.event)});const rollBackState=Object.create(null);for(let i=roomJson.timeline.events.length-1;i>=0;i--){const timelineEvent=roomJson.timeline.events[i];if(null===timelineEvent.state_key||void 0===timelineEvent.state_key)continue;const prevStateEvent=(0,_utils.deepCopy)(timelineEvent);prevStateEvent.unsigned&&(prevStateEvent.unsigned.prev_content&&(prevStateEvent.content=prevStateEvent.unsigned.prev_content),prevStateEvent.unsigned.prev_sender&&(prevStateEvent.sender=prevStateEvent.unsigned.prev_sender)),setState(rollBackState,prevStateEvent)}Object.keys(roomData._currentState).forEach(evType=>{Object.keys(roomData._currentState[evType]).forEach(stateKey=>{let ev=roomData._currentState[evType][stateKey];rollBackState[evType]&&rollBackState[evType][stateKey]&&(ev=rollBackState[evType][stateKey]),roomJson.state.events.push(ev)})}),data.join[roomId]=roomJson});const accData=[];return Object.keys(this.accountData).forEach(evType=>{accData.push(this.accountData[evType])}),{nextBatch:this.nextBatch,roomsData:data,groupsData:this.groups,accountData:accData}}getNextBatchToken(){return this.nextBatch}}},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function arrayToObject(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject:arrayToObject,assign:function assignSingleSource(target,source){return Object.keys(source).reduce(function(acc,key){return acc[key]=source[key],acc},target)},compact:function compact(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function compactQueue(queue){for(var obj;queue.length;){var item=queue.pop();if(obj=item.obj[item.prop],Array.isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}return obj}(queue)},decode:function(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(e){return str}},encode:function encode(str){if(0===str.length)return str;for(var string="string"==typeof str?str:String(str),out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function isBuffer(obj){return null!=obj&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))},isRegExp:function isRegExp(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(Array.isArray(target))target.push(source);else{if("object"!=typeof target)return[target,source];(options.plainObjects||options.allowPrototypes||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if("object"!=typeof target)return[target].concat(source);var mergeTarget=target;return Array.isArray(target)&&!Array.isArray(source)&&(mergeTarget=arrayToObject(target,options)),Array.isArray(target)&&Array.isArray(source)?(source.forEach(function(item,i){has.call(target,i)?target[i]&&"object"==typeof target[i]?target[i]=merge(target[i],item,options):target.push(item):target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)}}},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g;module.exports={default:"RFC3986",formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return value}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function bytesToUuid(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}},function(module,exports,__webpack_require__){var arrayWithoutHoles=__webpack_require__(879),iterableToArray=__webpack_require__(880),nonIterableSpread=__webpack_require__(881);module.exports=function _toConsumableArray(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||nonIterableSpread()}},,function(module,exports,__webpack_require__){"use strict";__webpack_require__(239),__webpack_require__(417),__webpack_require__(548)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(418)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(419),__webpack_require__(420),__webpack_require__(421)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2015 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/master/LICENSE
 */!function(root,factory){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var isRegex,isString,$Array=Array,ArrayPrototype=$Array.prototype,$Object=Object,ObjectPrototype=$Object.prototype,$Function=Function,FunctionPrototype=$Function.prototype,$String=String,StringPrototype=$String.prototype,$Number=Number,NumberPrototype=$Number.prototype,array_slice=ArrayPrototype.slice,array_splice=ArrayPrototype.splice,array_push=ArrayPrototype.push,array_unshift=ArrayPrototype.unshift,array_concat=ArrayPrototype.concat,array_join=ArrayPrototype.join,call=FunctionPrototype.call,apply=FunctionPrototype.apply,max=Math.max,min=Math.min,to_string=ObjectPrototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,fnToStr=Function.prototype.toString,constructorRegex=/^\s*class /,isES6ClassFn=function isES6ClassFn(value){try{var spaceStripped=fnToStr.call(value).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return constructorRegex.test(spaceStripped)}catch(e){return!1}},tryFunctionObject=function tryFunctionObject(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}},fnClass="[object Function]",genClass="[object GeneratorFunction]",isCallable=function isCallable(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if(hasToStringTag)return tryFunctionObject(value);if(isES6ClassFn(value))return!1;var strClass=to_string.call(value);return strClass===fnClass||strClass===genClass},regexExec=RegExp.prototype.exec,tryRegexExec=function tryRegexExec(value){try{return regexExec.call(value),!0}catch(e){return!1}},regexClass="[object RegExp]";isRegex=function isRegex(value){return"object"==typeof value&&(hasToStringTag?tryRegexExec(value):to_string.call(value)===regexClass)};var strValue=String.prototype.valueOf,tryStringObject=function tryStringObject(value){try{return strValue.call(value),!0}catch(e){return!1}},stringClass="[object String]";isString=function isString(value){return"string"==typeof value||"object"==typeof value&&(hasToStringTag?tryStringObject(value):to_string.call(value)===stringClass)};var supportsDescriptors=$Object.defineProperty&&function(){try{var obj={};for(var _ in $Object.defineProperty(obj,"x",{enumerable:!1,value:obj}),obj)return!1;return obj.x===obj}catch(e){return!1}}(),defineProperties=(has=ObjectPrototype.hasOwnProperty,defineProperty=supportsDescriptors?function(object,name,method,forceAssign){!forceAssign&&name in object||$Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:method})}:function(object,name,method,forceAssign){!forceAssign&&name in object||(object[name]=method)},function defineProperties(object,map,forceAssign){for(var name in map)has.call(map,name)&&defineProperty(object,name,map[name],forceAssign)}),isPrimitive=function isPrimitive(input){var type=typeof input;return null===input||"object"!==type&&"function"!==type},isActualNaN=$Number.isNaN||function isActualNaN(x){return x!=x},ES={ToInteger:function ToInteger(num){var n=+num;return isActualNaN(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n},ToPrimitive:function ToPrimitive(input){var val,valueOf,toStr;if(isPrimitive(input))return input;if(valueOf=input.valueOf,isCallable(valueOf)&&(val=valueOf.call(input),isPrimitive(val)))return val;if(toStr=input.toString,isCallable(toStr)&&(val=toStr.call(input),isPrimitive(val)))return val;throw new TypeError},ToObject:function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return $Object(o)},ToUint32:function ToUint32(x){return x>>>0}},Empty=function Empty(){};var has,defineProperty;defineProperties(FunctionPrototype,{bind:function bind(that){var target=this;if(!isCallable(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=array_slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=apply.call(target,this,array_concat.call(args,array_slice.call(arguments)));return $Object(result)===result?result:this}return apply.call(target,that,array_concat.call(args,array_slice.call(arguments)))},boundLength=max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)array_push.call(boundArgs,"$"+i);return bound=$Function("binder","return function ("+array_join.call(boundArgs,",")+"){ return binder.apply(this, arguments); }")(binder),target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}});var owns=call.bind(ObjectPrototype.hasOwnProperty),toStr=call.bind(ObjectPrototype.toString),arraySlice=call.bind(array_slice),arraySliceApply=apply.bind(array_slice);if("object"==typeof document&&document&&document.documentElement)try{arraySlice(document.documentElement.childNodes)}catch(e){var origArraySlice=arraySlice,origArraySliceApply=arraySliceApply;arraySlice=function arraySliceIE(arr){for(var r=[],i=arr.length;i-- >0;)r[i]=arr[i];return origArraySliceApply(r,origArraySlice(arguments,1))},arraySliceApply=function arraySliceApplyIE(arr,args){return origArraySliceApply(arraySlice(arr),args)}}var strSlice=call.bind(StringPrototype.slice),strSplit=call.bind(StringPrototype.split),strIndexOf=call.bind(StringPrototype.indexOf),pushCall=call.bind(array_push),isEnum=call.bind(ObjectPrototype.propertyIsEnumerable),arraySort=call.bind(ArrayPrototype.sort),isArray=$Array.isArray||function isArray(obj){return"[object Array]"===toStr(obj)},hasUnshiftReturnValueBug=1!==[].unshift(0);defineProperties(ArrayPrototype,{unshift:function(){return array_unshift.apply(this,arguments),this.length}},hasUnshiftReturnValueBug),defineProperties($Array,{isArray:isArray});var boxedString=$Object("a"),splitString="a"!==boxedString[0]||!(0 in boxedString),properlyBoxesContext=function properlyBoxed(method){var properlyBoxesNonStrict=!0,properlyBoxesStrict=!0,threwException=!1;if(method)try{method.call("foo",function(_,__,context){"object"!=typeof context&&(properlyBoxesNonStrict=!1)}),method.call([1],function(){properlyBoxesStrict="string"==typeof this},"x")}catch(e){threwException=!0}return!!method&&!threwException&&properlyBoxesNonStrict&&properlyBoxesStrict};defineProperties(ArrayPrototype,{forEach:function forEach(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,i=-1,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++i<length;)i in self&&(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object))}},!properlyBoxesContext(ArrayPrototype.forEach)),defineProperties(ArrayPrototype,{map:function map(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length),result=$Array(length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.map callback must be a function");for(var i=0;i<length;i++)i in self&&(result[i]=void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object));return result}},!properlyBoxesContext(ArrayPrototype.map)),defineProperties(ArrayPrototype,{filter:function filter(callbackfn){var value,T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length),result=[];if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.filter callback must be a function");for(var i=0;i<length;i++)i in self&&(value=self[i],(void 0===T?callbackfn(value,i,object):callbackfn.call(T,value,i,object))&&pushCall(result,value));return result}},!properlyBoxesContext(ArrayPrototype.filter)),defineProperties(ArrayPrototype,{every:function every(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.every callback must be a function");for(var i=0;i<length;i++)if(i in self&&!(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!1;return!0}},!properlyBoxesContext(ArrayPrototype.every)),defineProperties(ArrayPrototype,{some:function some(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.some callback must be a function");for(var i=0;i<length;i++)if(i in self&&(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!0;return!1}},!properlyBoxesContext(ArrayPrototype.some));var reduceCoercesToObject=!1;ArrayPrototype.reduce&&(reduceCoercesToObject="object"==typeof ArrayPrototype.reduce.call("es5",function(_,__,___,list){return list}));defineProperties(ArrayPrototype,{reduce:function reduce(callbackfn){var object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;i<length;i++)i in self&&(result=callbackfn(result,self[i],i,object));return result}},!reduceCoercesToObject);var reduceRightCoercesToObject=!1;ArrayPrototype.reduceRight&&(reduceRightCoercesToObject="object"==typeof ArrayPrototype.reduceRight.call("es5",function(_,__,___,list){return list}));defineProperties(ArrayPrototype,{reduceRight:function reduceRight(callbackfn){var result,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(i<0)return result;do{i in self&&(result=callbackfn(result,self[i],i,object))}while(i--);return result}},!reduceRightCoercesToObject);var hasFirefox2IndexOfBug=ArrayPrototype.indexOf&&-1!==[0,1].indexOf(1,2);defineProperties(ArrayPrototype,{indexOf:function indexOf(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES.ToObject(this),length=ES.ToUint32(self.length);if(0===length)return-1;var i=0;for(arguments.length>1&&(i=ES.ToInteger(arguments[1])),i=i>=0?i:max(0,length+i);i<length;i++)if(i in self&&self[i]===searchElement)return i;return-1}},hasFirefox2IndexOfBug);var hasFirefox2LastIndexOfBug=ArrayPrototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);defineProperties(ArrayPrototype,{lastIndexOf:function lastIndexOf(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES.ToObject(this),length=ES.ToUint32(self.length);if(0===length)return-1;var i=length-1;for(arguments.length>1&&(i=min(i,ES.ToInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&searchElement===self[i])return i;return-1}},hasFirefox2LastIndexOfBug);var spliceNoopReturnsEmptyArray=(a=[1,2],result=a.splice(),2===a.length&&isArray(result)&&0===result.length);var a,result;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){return 0===arguments.length?[]:array_splice.apply(this,arguments)}},!spliceNoopReturnsEmptyArray);var spliceWorksWithEmptyObject=(obj={},ArrayPrototype.splice.call(obj,0,0,1),1===obj.length);var obj;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){if(0===arguments.length)return[];var args=arguments;return this.length=max(ES.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof deleteCount&&((args=arraySlice(arguments)).length<2?pushCall(args,this.length-start):args[1]=ES.ToInteger(deleteCount)),array_splice.apply(this,args)}},!spliceWorksWithEmptyObject);var spliceWorksWithLargeSparseArrays=(arr=new $Array(1e5),arr[8]="x",arr.splice(1,1),7===arr.indexOf("x")),spliceWorksWithSmallSparseArrays=function(){var arr=[];return arr[256]="a",arr.splice(257,0,"b"),"a"===arr[256]}();var arr;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){for(var from,O=ES.ToObject(this),A=[],len=ES.ToUint32(O.length),relativeStart=ES.ToInteger(start),actualStart=relativeStart<0?max(len+relativeStart,0):min(relativeStart,len),actualDeleteCount=min(max(ES.ToInteger(deleteCount),0),len-actualStart),k=0;k<actualDeleteCount;)from=$String(actualStart+k),owns(O,from)&&(A[k]=O[from]),k+=1;var to,items=arraySlice(arguments,2),itemCount=items.length;if(itemCount<actualDeleteCount){k=actualStart;for(var maxK=len-actualDeleteCount;k<maxK;)from=$String(k+actualDeleteCount),to=$String(k+itemCount),owns(O,from)?O[to]=O[from]:delete O[to],k+=1;k=len;for(var minK=len-actualDeleteCount+itemCount;k>minK;)delete O[k-1],k-=1}else if(itemCount>actualDeleteCount)for(k=len-actualDeleteCount;k>actualStart;)from=$String(k+actualDeleteCount-1),to=$String(k+itemCount-1),owns(O,from)?O[to]=O[from]:delete O[to],k-=1;k=actualStart;for(var i=0;i<items.length;++i)O[k]=items[i],k+=1;return O.length=len-actualDeleteCount+itemCount,A}},!spliceWorksWithLargeSparseArrays||!spliceWorksWithSmallSparseArrays);var hasStringJoinBug,originalJoin=ArrayPrototype.join;try{hasStringJoinBug="1,2,3"!==Array.prototype.join.call("123",",")}catch(e){hasStringJoinBug=!0}hasStringJoinBug&&defineProperties(ArrayPrototype,{join:function join(separator){var sep=void 0===separator?",":separator;return originalJoin.call(isString(this)?strSplit(this,""):this,sep)}},hasStringJoinBug);var hasJoinUndefinedBug="1,2"!==[1,2].join(void 0);hasJoinUndefinedBug&&defineProperties(ArrayPrototype,{join:function join(separator){var sep=void 0===separator?",":separator;return originalJoin.call(this,sep)}},hasJoinUndefinedBug);var pushShim=function push(item){for(var O=ES.ToObject(this),n=ES.ToUint32(O.length),i=0;i<arguments.length;)O[n+i]=arguments[i],i+=1;return O.length=n+i,n+i},pushIsNotGeneric=function(){var obj={};return 1!==Array.prototype.push.call(obj,void 0)||1!==obj.length||void 0!==obj[0]||!owns(obj,0)}();defineProperties(ArrayPrototype,{push:function push(item){return isArray(this)?array_push.apply(this,arguments):pushShim.apply(this,arguments)}},pushIsNotGeneric);var pushUndefinedIsWeird=function(){var arr=[];return 1!==arr.push(void 0)||1!==arr.length||void 0!==arr[0]||!owns(arr,0)}();defineProperties(ArrayPrototype,{push:pushShim},pushUndefinedIsWeird),defineProperties(ArrayPrototype,{slice:function(start,end){var arr=isString(this)?strSplit(this,""):this;return arraySliceApply(arr,arguments)}},splitString);var sortIgnoresNonFunctions=function(){try{[1,2].sort(null)}catch(e){try{[1,2].sort({})}catch(e2){return!1}}return!0}(),sortThrowsOnRegex=function(){try{return[1,2].sort(/a/),!1}catch(e){}return!0}(),sortIgnoresUndefined=function(){try{return[1,2].sort(void 0),!0}catch(e){}return!1}();defineProperties(ArrayPrototype,{sort:function sort(compareFn){if(void 0===compareFn)return arraySort(this);if(!isCallable(compareFn))throw new TypeError("Array.prototype.sort callback must be a function");return arraySort(this,compareFn)}},sortIgnoresNonFunctions||!sortIgnoresUndefined||!sortThrowsOnRegex);var hasDontEnumBug=!isEnum({toString:null},"toString"),hasProtoEnumBug=isEnum(function(){},"prototype"),hasStringEnumBug=!owns("x","0"),equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0,$width:!0,$height:!0,$top:!0,$localStorage:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{!excludedKeys["$"+k]&&owns(window,k)&&null!==window[k]&&"object"==typeof window[k]&&equalsConstructorPrototype(window[k])}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(object){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(object);try{return equalsConstructorPrototype(object)}catch(e){return!1}},dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length,isStandardArguments=function isArguments(value){return"[object Arguments]"===toStr(value)},isLegacyArguments=function isArguments(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&!isArray(value)&&isCallable(value.callee)},isArguments=isStandardArguments(arguments)?isStandardArguments:isLegacyArguments;defineProperties($Object,{keys:function keys(object){var isFn=isCallable(object),isArgs=isArguments(object),isObject=null!==object&&"object"==typeof object,isStr=isObject&&isString(object);if(!isObject&&!isFn&&!isArgs)throw new TypeError("Object.keys called on a non-object");var theKeys=[],skipProto=hasProtoEnumBug&&isFn;if(isStr&&hasStringEnumBug||isArgs)for(var i=0;i<object.length;++i)pushCall(theKeys,$String(i));if(!isArgs)for(var name in object)skipProto&&"prototype"===name||!owns(object,name)||pushCall(theKeys,$String(name));if(hasDontEnumBug)for(var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object),j=0;j<dontEnumsLength;j++){var dontEnum=dontEnums[j];skipConstructor&&"constructor"===dontEnum||!owns(object,dontEnum)||pushCall(theKeys,dontEnum)}return theKeys}});var keysWorksWithArguments=$Object.keys&&function(){return 2===$Object.keys(arguments).length}(1,2),keysHasArgumentsLengthBug=$Object.keys&&function(){var argKeys=$Object.keys(arguments);return 1!==arguments.length||1!==argKeys.length||1!==argKeys[0]}(1),originalKeys=$Object.keys;defineProperties($Object,{keys:function keys(object){return isArguments(object)?originalKeys(arraySlice(object)):originalKeys(object)}},!keysWorksWithArguments||keysHasArgumentsLengthBug);var hasToDateStringFormatBug,hasToStringFormatBug,hasNegativeMonthYearBug=0!==new Date(-0xc782b5b342b24).getUTCMonth(),aNegativeTestDate=new Date(-0x55d318d56a724),aPositiveTestDate=new Date(14496624e5),hasToUTCStringFormatBug="Mon, 01 Jan -45875 11:59:59 GMT"!==aNegativeTestDate.toUTCString(),timeZoneOffset=aNegativeTestDate.getTimezoneOffset();timeZoneOffset<-720?(hasToDateStringFormatBug="Tue Jan 02 -45875"!==aNegativeTestDate.toDateString(),hasToStringFormatBug=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(aPositiveTestDate))):(hasToDateStringFormatBug="Mon Jan 01 -45875"!==aNegativeTestDate.toDateString(),hasToStringFormatBug=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(aPositiveTestDate)));var originalGetFullYear=call.bind(Date.prototype.getFullYear),originalGetMonth=call.bind(Date.prototype.getMonth),originalGetDate=call.bind(Date.prototype.getDate),originalGetUTCFullYear=call.bind(Date.prototype.getUTCFullYear),originalGetUTCMonth=call.bind(Date.prototype.getUTCMonth),originalGetUTCDate=call.bind(Date.prototype.getUTCDate),originalGetUTCDay=call.bind(Date.prototype.getUTCDay),originalGetUTCHours=call.bind(Date.prototype.getUTCHours),originalGetUTCMinutes=call.bind(Date.prototype.getUTCMinutes),originalGetUTCSeconds=call.bind(Date.prototype.getUTCSeconds),originalGetUTCMilliseconds=call.bind(Date.prototype.getUTCMilliseconds),dayName=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthName=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysInMonth=function daysInMonth(month,year){return originalGetDate(new Date(year,month,0))};defineProperties(Date.prototype,{getFullYear:function getFullYear(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this);return year<0&&originalGetMonth(this)>11?year+1:year},getMonth:function getMonth(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this),month=originalGetMonth(this);return year<0&&month>11?0:month},getDate:function getDate(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this),month=originalGetMonth(this),date=originalGetDate(this);return year<0&&month>11?12===month?date:daysInMonth(0,year+1)-date+1:date},getUTCFullYear:function getUTCFullYear(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this);return year<0&&originalGetUTCMonth(this)>11?year+1:year},getUTCMonth:function getUTCMonth(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this);return year<0&&month>11?0:month},getUTCDate:function getUTCDate(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this),date=originalGetUTCDate(this);return year<0&&month>11?12===month?date:daysInMonth(0,year+1)-date+1:date}},hasNegativeMonthYearBug),defineProperties(Date.prototype,{toUTCString:function toUTCString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=originalGetUTCDay(this),date=originalGetUTCDate(this),month=originalGetUTCMonth(this),year=originalGetUTCFullYear(this),hour=originalGetUTCHours(this),minute=originalGetUTCMinutes(this),second=originalGetUTCSeconds(this);return dayName[day]+", "+(date<10?"0"+date:date)+" "+monthName[month]+" "+year+" "+(hour<10?"0"+hour:hour)+":"+(minute<10?"0"+minute:minute)+":"+(second<10?"0"+second:second)+" GMT"}},hasNegativeMonthYearBug||hasToUTCStringFormatBug),defineProperties(Date.prototype,{toDateString:function toDateString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=this.getDay(),date=this.getDate(),month=this.getMonth(),year=this.getFullYear();return dayName[day]+" "+monthName[month]+" "+(date<10?"0"+date:date)+" "+year}},hasNegativeMonthYearBug||hasToDateStringFormatBug),(hasNegativeMonthYearBug||hasToStringFormatBug)&&(Date.prototype.toString=function toString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=this.getDay(),date=this.getDate(),month=this.getMonth(),year=this.getFullYear(),hour=this.getHours(),minute=this.getMinutes(),second=this.getSeconds(),timezoneOffset=this.getTimezoneOffset(),hoursOffset=Math.floor(Math.abs(timezoneOffset)/60),minutesOffset=Math.floor(Math.abs(timezoneOffset)%60);return dayName[day]+" "+monthName[month]+" "+(date<10?"0"+date:date)+" "+year+" "+(hour<10?"0"+hour:hour)+":"+(minute<10?"0"+minute:minute)+":"+(second<10?"0"+second:second)+" GMT"+(timezoneOffset>0?"-":"+")+(hoursOffset<10?"0"+hoursOffset:hoursOffset)+(minutesOffset<10?"0"+minutesOffset:minutesOffset)},supportsDescriptors&&$Object.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var negativeDate=-621987552e5,negativeYearString="-000001",hasNegativeDateBug=Date.prototype.toISOString&&-1===new Date(negativeDate).toISOString().indexOf(negativeYearString),hasSafari51DateBug=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),getTime=call.bind(Date.prototype.getTime);defineProperties(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(getTime(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this);year+=Math.floor(month/12);var result=[(month=(month%12+12)%12)+1,originalGetUTCDate(this),originalGetUTCHours(this),originalGetUTCMinutes(this),originalGetUTCSeconds(this)];year=(year<0?"-":year>9999?"+":"")+strSlice("00000"+Math.abs(year),0<=year&&year<=9999?-4:-6);for(var i=0;i<result.length;++i)result[i]=strSlice("00"+result[i],-2);return year+"-"+arraySlice(result,0,2).join("-")+"T"+arraySlice(result,2).join(":")+"."+strSlice("000"+originalGetUTCMilliseconds(this),-3)+"Z"}},hasNegativeDateBug||hasSafari51DateBug);var dateToJSONIsSupported=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(negativeDate).toJSON().indexOf(negativeYearString)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}();dateToJSONIsSupported||(Date.prototype.toJSON=function toJSON(key){var O=$Object(this),tv=ES.ToPrimitive(O);if("number"==typeof tv&&!isFinite(tv))return null;var toISO=O.toISOString;if(!isCallable(toISO))throw new TypeError("toISOString property is not callable");return toISO.call(O)});var supportsExtendedYears=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),acceptsInvalidDates=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),doesNotParseY2KNewYear=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(doesNotParseY2KNewYear||acceptsInvalidDates||!supportsExtendedYears){var maxSafeUnsigned32Bit=Math.pow(2,31)-1,hasSafariSignedIntBug=isActualNaN(new Date(1970,0,1,0,0,0,maxSafeUnsigned32Bit+1).getTime());Date=function(NativeDate){var DateShim=function Date(Y,M,D,h,m,s,ms){var date,length=arguments.length;if(this instanceof NativeDate){var seconds=s,millis=ms;if(hasSafariSignedIntBug&&length>=7&&ms>maxSafeUnsigned32Bit){var msToShift=Math.floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=Math.floor(msToShift/1e3);seconds+=sToShift,millis-=1e3*sToShift}date=1===length&&$String(Y)===Y?new NativeDate(DateShim.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,seconds,millis):length>=6?new NativeDate(Y,M,D,h,m,seconds):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y instanceof NativeDate?+Y:Y):new NativeDate}else date=NativeDate.apply(this,arguments);return isPrimitive(date)||defineProperties(date,{constructor:DateShim},!0),date},isoDateExpression=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),months=[0,31,59,90,120,151,181,212,243,273,304,334,365],dayFromMonth=function dayFromMonth(year,month){var t=month>1?1:0;return months[month]+Math.floor((year-1969+t)/4)-Math.floor((year-1901+t)/100)+Math.floor((year-1601+t)/400)+365*(year-1970)},toUTC=function toUTC(t){var s=0,ms=t;if(hasSafariSignedIntBug&&ms>maxSafeUnsigned32Bit){var msToShift=Math.floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=Math.floor(msToShift/1e3);s+=sToShift,ms-=1e3*sToShift}return $Number(new NativeDate(1970,0,1,0,0,s,ms))};for(var key in NativeDate)owns(NativeDate,key)&&(DateShim[key]=NativeDate[key]);defineProperties(DateShim,{now:NativeDate.now,UTC:NativeDate.UTC},!0),DateShim.prototype=NativeDate.prototype,defineProperties(DateShim.prototype,{constructor:DateShim},!0);return defineProperties(DateShim,{parse:function parse(string){var match=isoDateExpression.exec(string);if(match){var result,year=$Number(match[1]),month=$Number(match[2]||1)-1,day=$Number(match[3]||1)-1,hour=$Number(match[4]||0),minute=$Number(match[5]||0),second=$Number(match[6]||0),millisecond=Math.floor(1e3*$Number(match[7]||0)),isLocalTime=Boolean(match[4]&&!match[8]),signOffset="-"===match[9]?1:-1,hourOffset=$Number(match[10]||0),minuteOffset=$Number(match[11]||0),hasMinutesOrSecondsOrMilliseconds=minute>0||second>0||millisecond>0;return hour<(hasMinutesOrSecondsOrMilliseconds?24:25)&&minute<60&&second<60&&millisecond<1e3&&month>-1&&month<12&&hourOffset<24&&minuteOffset<60&&day>-1&&day<dayFromMonth(year,month+1)-dayFromMonth(year,month)&&(result=1e3*(60*((result=60*(24*(dayFromMonth(year,month)+day)+hour+hourOffset*signOffset))+minute+minuteOffset*signOffset)+second)+millisecond,isLocalTime&&(result=toUTC(result)),-864e13<=result&&result<=864e13)?result:NaN}return NativeDate.parse.apply(this,arguments)}}),DateShim}(Date)}Date.now||(Date.now=function now(){return(new Date).getTime()});var hasToFixedBugs=NumberPrototype.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),toFixedHelpers={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(n,c){for(var i=-1,c2=c;++i<toFixedHelpers.size;)c2+=n*toFixedHelpers.data[i],toFixedHelpers.data[i]=c2%toFixedHelpers.base,c2=Math.floor(c2/toFixedHelpers.base)},divide:function divide(n){for(var i=toFixedHelpers.size,c=0;--i>=0;)c+=toFixedHelpers.data[i],toFixedHelpers.data[i]=Math.floor(c/n),c=c%n*toFixedHelpers.base},numToString:function numToString(){for(var i=toFixedHelpers.size,s="";--i>=0;)if(""!==s||0===i||0!==toFixedHelpers.data[i]){var t=$String(toFixedHelpers.data[i]);""===s?s=t:s+=strSlice("0000000",0,7-t.length)+t}return s},pow:function pow(x,n,acc){return 0===n?acc:n%2==1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log:function log(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n}},toFixedShim=function toFixed(fractionDigits){var f,x,s,m,e,z,j,k;if(f=$Number(fractionDigits),(f=isActualNaN(f)?0:Math.floor(f))<0||f>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(x=$Number(this),isActualNaN(x))return"NaN";if(x<=-1e21||x>=1e21)return $String(x);if(s="",x<0&&(s="-",x=-x),m="0",x>1e-21)if(z=(e=toFixedHelpers.log(x*toFixedHelpers.pow(2,69,1))-69)<0?x*toFixedHelpers.pow(2,-e,1):x/toFixedHelpers.pow(2,e,1),z*=4503599627370496,(e=52-e)>0){for(toFixedHelpers.multiply(0,z),j=f;j>=7;)toFixedHelpers.multiply(1e7,0),j-=7;for(toFixedHelpers.multiply(toFixedHelpers.pow(10,j,1),0),j=e-1;j>=23;)toFixedHelpers.divide(1<<23),j-=23;toFixedHelpers.divide(1<<j),toFixedHelpers.multiply(1,1),toFixedHelpers.divide(2),m=toFixedHelpers.numToString()}else toFixedHelpers.multiply(0,z),toFixedHelpers.multiply(1<<-e,0),m=toFixedHelpers.numToString()+strSlice("0.00000000000000000000",2,2+f);return m=f>0?(k=m.length)<=f?s+strSlice("0.0000000000000000000",0,f-k+2)+m:s+strSlice(m,0,k-f)+"."+strSlice(m,k-f):s+m};defineProperties(NumberPrototype,{toFixed:toFixedShim},hasToFixedBugs);var hasToPrecisionUndefinedBug=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),originalToPrecision=NumberPrototype.toPrecision;defineProperties(NumberPrototype,{toPrecision:function toPrecision(precision){return void 0===precision?originalToPrecision.call(this):originalToPrecision.call(this,precision)}},hasToPrecisionUndefinedBug),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(compliantExecNpcg=void 0===/()??/.exec("")[1],maxSafe32BitInt=Math.pow(2,32)-1,StringPrototype.split=function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegex(separator))return strSplit(this,separator,limit);var separator2,match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,separatorCopy=new RegExp(separator.source,flags+"g");compliantExecNpcg||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));var splitLimit=void 0===limit?maxSafe32BitInt:ES.ToUint32(limit);for(match=separatorCopy.exec(string);match&&!((lastIndex=match.index+match[0].length)>lastLastIndex&&(pushCall(output,strSlice(string,lastLastIndex,match.index)),!compliantExecNpcg&&match.length>1&&match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match.length>1&&match.index<string.length&&array_push.apply(output,arraySlice(match,1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=splitLimit));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++,match=separatorCopy.exec(string);return lastLastIndex===string.length?!lastLength&&separatorCopy.test("")||pushCall(output,""):pushCall(output,strSlice(string,lastLastIndex)),output.length>splitLimit?arraySlice(output,0,splitLimit):output}):"0".split(void 0,0).length&&(StringPrototype.split=function split(separator,limit){return void 0===separator&&0===limit?[]:strSplit(this,separator,limit)});var compliantExecNpcg,maxSafe32BitInt;var str_replace=StringPrototype.replace,replaceReportsGroupsCorrectly=(groups=[],"x".replace(/x(.)?/g,function(match,group){pushCall(groups,group)}),1===groups.length&&void 0===groups[0]);var groups;replaceReportsGroupsCorrectly||(StringPrototype.replace=function replace(searchValue,replaceValue){var isFn=isCallable(replaceValue),hasCapturingGroups=isRegex(searchValue)&&/\)[*?]/.test(searchValue.source);if(isFn&&hasCapturingGroups){return str_replace.call(this,searchValue,function(match){var length=arguments.length,originalLastIndex=searchValue.lastIndex;searchValue.lastIndex=0;var args=searchValue.exec(match)||[];return searchValue.lastIndex=originalLastIndex,pushCall(args,arguments[length-2],arguments[length-1]),replaceValue.apply(this,args)})}return str_replace.call(this,searchValue,replaceValue)});var string_substr=StringPrototype.substr,hasNegativeSubstrBug="".substr&&"b"!=="0b".substr(-1);defineProperties(StringPrototype,{substr:function substr(start,length){var normalizedStart=start;return start<0&&(normalizedStart=max(this.length+start,0)),string_substr.call(this,normalizedStart,length)}},hasNegativeSubstrBug);var ws="\t\n\v\f\r \u2028\u2029\ufeff",zeroWidth="",wsRegexChars="["+ws+"]",trimBeginRegexp=new RegExp("^"+wsRegexChars+wsRegexChars+"*"),trimEndRegexp=new RegExp(wsRegexChars+wsRegexChars+"*$"),hasTrimWhitespaceBug=StringPrototype.trim&&(ws.trim()||!zeroWidth.trim());defineProperties(StringPrototype,{trim:function trim(){if(null==this)throw new TypeError("can't convert "+this+" to object");return $String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}},hasTrimWhitespaceBug);var trim=call.bind(String.prototype.trim),hasLastIndexBug=StringPrototype.lastIndexOf&&-1!=="abc".lastIndexOf("",2);defineProperties(StringPrototype,{lastIndexOf:function lastIndexOf(searchString){if(null==this)throw new TypeError("can't convert "+this+" to object");for(var S=$String(this),searchStr=$String(searchString),numPos=arguments.length>1?$Number(arguments[1]):NaN,pos=isActualNaN(numPos)?1/0:ES.ToInteger(numPos),start=min(max(pos,0),S.length),searchLen=searchStr.length,k=start+searchLen;k>0;){k=max(0,k-searchLen);var index=strIndexOf(strSlice(S,k,start+searchLen),searchStr);if(-1!==index)return k+index}return-1}},hasLastIndexBug);var originalLastIndexOf=StringPrototype.lastIndexOf;defineProperties(StringPrototype,{lastIndexOf:function lastIndexOf(searchString){return originalLastIndexOf.apply(this,arguments)}},1!==StringPrototype.lastIndexOf.length),(8!==parseInt(ws+"08")||22!==parseInt(ws+"0x16"))&&(parseInt=(origParseInt=parseInt,hexRegex=/^[-+]?0[xX]/,function parseInt(str,radix){var string=trim(String(str)),defaultedRadix=$Number(radix)||(hexRegex.test(string)?16:10);return origParseInt(string,defaultedRadix)}));var origParseInt,hexRegex;1/parseFloat("-0")!=-1/0&&(parseFloat=(origParseFloat=parseFloat,function parseFloat(string){var inputString=trim(String(string)),result=origParseFloat(inputString);return 0===result&&"-"===strSlice(inputString,0,1)?-0:result}));var origParseFloat;if("RangeError: test"!==String(new RangeError("test"))){var errorToStringShim=function toString(){if(null==this)throw new TypeError("can't convert "+this+" to object");var name=this.name;void 0===name?name="Error":"string"!=typeof name&&(name=$String(name));var msg=this.message;return void 0===msg?msg="":"string"!=typeof msg&&(msg=$String(msg)),name?msg?name+": "+msg:name:msg};Error.prototype.toString=errorToStringShim}if(supportsDescriptors){var ensureNonEnumerable=function(obj,prop){if(isEnum(obj,prop)){var desc=Object.getOwnPropertyDescriptor(obj,prop);desc.configurable&&(desc.enumerable=!1,Object.defineProperty(obj,prop,desc))}};ensureNonEnumerable(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),ensureNonEnumerable(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var regexToString=function toString(){var str="/"+this.source+"/";return this.global&&(str+="g"),this.ignoreCase&&(str+="i"),this.multiline&&(str+="m"),str};RegExp.prototype.toString=regexToString}})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2015 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/master/LICENSE
 */!function(root,factory){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var defineGetter,defineSetter,lookupGetter,lookupSetter,call=Function.call,prototypeOfObject=Object.prototype,owns=call.bind(prototypeOfObject.hasOwnProperty),isEnumerable=call.bind(prototypeOfObject.propertyIsEnumerable),toStr=call.bind(prototypeOfObject.toString),supportsAccessors=owns(prototypeOfObject,"__defineGetter__");supportsAccessors&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__));var isPrimitive=function isPrimitive(o){return null==o||"object"!=typeof o&&"function"!=typeof o};Object.getPrototypeOf||(Object.getPrototypeOf=function getPrototypeOf(object){var proto=object.__proto__;return proto||null===proto?proto:"[object Function]"===toStr(object.constructor)?object.constructor.prototype:object instanceof Object?prototypeOfObject:null});var doesGetOwnPropertyDescriptorWork=function doesGetOwnPropertyDescriptorWork(object){try{return object.sentinel=0,0===Object.getOwnPropertyDescriptor(object,"sentinel").value}catch(exception){return!1}};if(Object.defineProperty){var getOwnPropertyDescriptorWorksOnObject=doesGetOwnPropertyDescriptorWork({});if(!("undefined"==typeof document||doesGetOwnPropertyDescriptorWork(document.createElement("div")))||!getOwnPropertyDescriptorWorksOnObject)var getOwnPropertyDescriptorFallback=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||getOwnPropertyDescriptorFallback){Object.getOwnPropertyDescriptor=function getOwnPropertyDescriptor(object,property){if(isPrimitive(object))throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+object);if(getOwnPropertyDescriptorFallback)try{return getOwnPropertyDescriptorFallback.call(Object,object,property)}catch(exception){}var descriptor;if(!owns(object,property))return descriptor;if(descriptor={enumerable:isEnumerable(object,property),configurable:!0},supportsAccessors){var prototype=object.__proto__,notPrototypeOfObject=object!==prototypeOfObject;notPrototypeOfObject&&(object.__proto__=prototypeOfObject);var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(notPrototypeOfObject&&(object.__proto__=prototype),getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor.writable=!0,descriptor}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function getOwnPropertyNames(object){return Object.keys(object)});if(!Object.create){var createEmpty,supportsProto=!({__proto__:null}instanceof Object);createEmpty=supportsProto||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var empty=function shouldUseActiveX(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(exception){return!1}}()?function getEmptyViaActiveX(){var empty,xDoc;return(xDoc=new ActiveXObject("htmlfile")).write("<script><\/script>"),xDoc.close(),empty=xDoc.parentWindow.Object.prototype,xDoc=null,empty}():function getEmptyViaIFrame(){var empty,iframe=document.createElement("iframe"),parent=document.body||document.documentElement;return iframe.style.display="none",parent.appendChild(iframe),iframe.src="javascript:",empty=iframe.contentWindow.Object.prototype,parent.removeChild(iframe),iframe=null,empty}();delete empty.constructor,delete empty.hasOwnProperty,delete empty.propertyIsEnumerable,delete empty.isPrototypeOf,delete empty.toLocaleString,delete empty.toString,delete empty.valueOf;var Empty=function Empty(){};return Empty.prototype=empty,createEmpty=function(){return new Empty},new Empty},Object.create=function create(prototype,properties){var object,Type=function Type(){};if(null===prototype)object=createEmpty();else{if(null!==prototype&&isPrimitive(prototype))throw new TypeError("Object prototype may only be an Object or null");Type.prototype=prototype,(object=new Type).__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}var doesDefinePropertyWork=function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){return!1}};if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty,definePropertiesFallback=Object.defineProperties}if(!Object.defineProperty||definePropertyFallback){Object.defineProperty=function defineProperty(object,property,descriptor){if(isPrimitive(object))throw new TypeError("Object.defineProperty called on non-object: "+object);if(isPrimitive(descriptor))throw new TypeError("Property description must be an object: "+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if("value"in descriptor)if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{var hasGetter="get"in descriptor,hasSetter="set"in descriptor;if(!supportsAccessors&&(hasGetter||hasSetter))throw new TypeError("getters & setters can not be defined on this javascript engine");hasGetter&&defineGetter(object,property,descriptor.get),hasSetter&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties&&!definePropertiesFallback||(Object.defineProperties=function defineProperties(object,properties){if(definePropertiesFallback)try{return definePropertiesFallback.call(Object,object,properties)}catch(exception){}return Object.keys(properties).forEach(function(property){"__proto__"!==property&&Object.defineProperty(object,property,properties[property])}),object});Object.seal||(Object.seal=function seal(object){if(Object(object)!==object)throw new TypeError("Object.seal can only be called on Objects.");return object});Object.freeze||(Object.freeze=function freeze(object){if(Object(object)!==object)throw new TypeError("Object.freeze can only be called on Objects.");return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=(freezeObject=Object.freeze,function freeze(object){return"function"==typeof object?object:freezeObject(object)})}var freezeObject;Object.preventExtensions||(Object.preventExtensions=function preventExtensions(object){if(Object(object)!==object)throw new TypeError("Object.preventExtensions can only be called on Objects.");return object});Object.isSealed||(Object.isSealed=function isSealed(object){if(Object(object)!==object)throw new TypeError("Object.isSealed can only be called on Objects.");return!1});Object.isFrozen||(Object.isFrozen=function isFrozen(object){if(Object(object)!==object)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1});Object.isExtensible||(Object.isExtensible=function isExtensible(object){if(Object(object)!==object)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue})})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(422),__webpack_require__(423)(),__webpack_require__(428)},function(module,exports,__webpack_require__){(function(global,process){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";var ArrayIterator,_apply=Function.call.bind(Function.apply),_call=Function.call.bind(Function.call),isArray=Array.isArray,keys=Object.keys,not=function notThunker(func){return function notThunk(){return!_apply(func,this,arguments)}},throwsError=function(func){try{return func(),!1}catch(e){return!0}},valueOrFalseIfThrows=function valueOrFalseIfThrows(func){try{return func()}catch(e){return!1}},isCallableWithoutNew=not(throwsError),arePropertyDescriptorsSupported=function(){return!throwsError(function(){return Object.defineProperty({},"x",{get:function(){}})})},supportsDescriptors=!!Object.defineProperty&&arePropertyDescriptorsSupported(),functionsHaveNames="foo"===function foo(){}.name,_forEach=Function.call.bind(Array.prototype.forEach),_reduce=Function.call.bind(Array.prototype.reduce),_filter=Function.call.bind(Array.prototype.filter),_some=Function.call.bind(Array.prototype.some),defineProperty=function(object,name,value,force){!force&&name in object||(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:value}):object[name]=value)},defineProperties=function(object,map,forceOverride){_forEach(keys(map),function(name){var method=map[name];defineProperty(object,name,method,!!forceOverride)})},_toString=Function.call.bind(Object.prototype.toString),isCallable=function IsCallableFast(x){return"function"==typeof x},Value={getter:function(object,name,getter){if(!supportsDescriptors)throw new TypeError("getters require true ES5 support");Object.defineProperty(object,name,{configurable:!0,enumerable:!1,get:getter})},proxy:function(originalObject,key,targetObject){if(!supportsDescriptors)throw new TypeError("getters require true ES5 support");var originalDescriptor=Object.getOwnPropertyDescriptor(originalObject,key);Object.defineProperty(targetObject,key,{configurable:originalDescriptor.configurable,enumerable:originalDescriptor.enumerable,get:function getKey(){return originalObject[key]},set:function setKey(value){originalObject[key]=value}})},redefine:function(object,property,newValue){if(supportsDescriptors){var descriptor=Object.getOwnPropertyDescriptor(object,property);descriptor.value=newValue,Object.defineProperty(object,property,descriptor)}else object[property]=newValue},defineByDescriptor:function(object,property,descriptor){supportsDescriptors?Object.defineProperty(object,property,descriptor):"value"in descriptor&&(object[property]=descriptor.value)},preserveToString:function(target,source){source&&isCallable(source.toString)&&defineProperty(target,"toString",source.toString.bind(source),!0)}},create=Object.create||function(prototype,properties){var Prototype=function Prototype(){};Prototype.prototype=prototype;var object=new Prototype;return void 0!==properties&&keys(properties).forEach(function(key){Value.defineByDescriptor(object,key,properties[key])}),object},supportsSubclassing=function(C,f){return!!Object.setPrototypeOf&&valueOrFalseIfThrows(function(){var Sub=function Subclass(arg){var o=new C(arg);return Object.setPrototypeOf(o,Subclass.prototype),o};return Object.setPrototypeOf(Sub,C),Sub.prototype=create(C.prototype,{constructor:{value:Sub}}),f(Sub)})},getGlobal=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==global)return global;throw new Error("unable to locate global object")},globals=getGlobal(),globalIsFinite=globals.isFinite,_indexOf=Function.call.bind(String.prototype.indexOf),_arrayIndexOfApply=Function.apply.bind(Array.prototype.indexOf),_concat=Function.call.bind(Array.prototype.concat),_strSlice=Function.call.bind(String.prototype.slice),_push=Function.call.bind(Array.prototype.push),_pushApply=Function.apply.bind(Array.prototype.push),_shift=Function.call.bind(Array.prototype.shift),_max=Math.max,_min=Math.min,_floor=Math.floor,_abs=Math.abs,_exp=Math.exp,_log=Math.log,_sqrt=Math.sqrt,_hasOwnProperty=Function.call.bind(Object.prototype.hasOwnProperty),noop=function(){},OrigMap=globals.Map,origMapDelete=OrigMap&&OrigMap.prototype.delete,origMapGet=OrigMap&&OrigMap.prototype.get,origMapHas=OrigMap&&OrigMap.prototype.has,origMapSet=OrigMap&&OrigMap.prototype.set,Symbol=globals.Symbol||{},symbolSpecies=Symbol.species||"@@species",numberIsNaN=Number.isNaN||function isNaN(value){return value!=value},numberIsFinite=Number.isFinite||function isFinite(value){return"number"==typeof value&&globalIsFinite(value)},_sign=isCallable(Math.sign)?Math.sign:function sign(value){var number=Number(value);return 0===number?number:numberIsNaN(number)?number:number<0?-1:1},_log1p=function log1p(value){var x=Number(value);return x<-1||numberIsNaN(x)?NaN:0===x||x===1/0?x:-1===x?-1/0:1+x-1==0?x:x*(_log(1+x)/(1+x-1))},isStandardArguments=function isArguments(value){return"[object Arguments]"===_toString(value)},isLegacyArguments=function isArguments(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Array]"!==_toString(value)&&"[object Function]"===_toString(value.callee)},isArguments=isStandardArguments(arguments)?isStandardArguments:isLegacyArguments,Type={primitive:function(x){return null===x||"function"!=typeof x&&"object"!=typeof x},string:function(x){return"[object String]"===_toString(x)},regex:function(x){return"[object RegExp]"===_toString(x)},symbol:function(x){return"function"==typeof globals.Symbol&&"symbol"==typeof x}},overrideNative=function overrideNative(object,property,replacement){var original=object[property];defineProperty(object,property,replacement,!0),Value.preserveToString(object[property],original)},hasSymbols="function"==typeof Symbol&&"function"==typeof Symbol.for&&Type.symbol(Symbol()),$iterator$=Type.symbol(Symbol.iterator)?Symbol.iterator:"_es6-shim iterator_";globals.Set&&"function"==typeof(new globals.Set)["@@iterator"]&&($iterator$="@@iterator"),globals.Reflect||defineProperty(globals,"Reflect",{},!0);var o,Reflect=globals.Reflect,$String=String,domAll="undefined"!=typeof document&&document?document.all:null,isNullOrUndefined=null==domAll?function isNullOrUndefined(x){return null==x}:function isNullOrUndefinedAndNotDocumentAll(x){return null==x&&x!==domAll},ES={Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!ES.IsCallable(F))throw new TypeError(F+" is not a function");return _apply(F,V,args)},RequireObjectCoercible:function(x,optMessage){if(isNullOrUndefined(x))throw new TypeError(optMessage||"Cannot call method on "+x);return x},TypeIsObject:function(x){return null!=x&&!0!==x&&!1!==x&&("function"==typeof x||"object"==typeof x||x===domAll)},ToObject:function(o,optMessage){return Object(ES.RequireObjectCoercible(o,optMessage))},IsCallable:isCallable,IsConstructor:function(x){return ES.IsCallable(x)},ToInt32:function(x){return ES.ToNumber(x)>>0},ToUint32:function(x){return ES.ToNumber(x)>>>0},ToNumber:function(value){if("[object Symbol]"===_toString(value))throw new TypeError("Cannot convert a Symbol value to a number");return+value},ToInteger:function(value){var number=ES.ToNumber(value);return numberIsNaN(number)?0:0!==number&&numberIsFinite(number)?(number>0?1:-1)*_floor(_abs(number)):number},ToLength:function(value){var len=ES.ToInteger(value);return len<=0?0:len>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:len},SameValue:function(a,b){return a===b?0!==a||1/a==1/b:numberIsNaN(a)&&numberIsNaN(b)},SameValueZero:function(a,b){return a===b||numberIsNaN(a)&&numberIsNaN(b)},IsIterable:function(o){return ES.TypeIsObject(o)&&(void 0!==o[$iterator$]||isArguments(o))},GetIterator:function(o){if(isArguments(o))return new ArrayIterator(o,"value");var itFn=ES.GetMethod(o,$iterator$);if(!ES.IsCallable(itFn))throw new TypeError("value is not an iterable");var it=ES.Call(itFn,o);if(!ES.TypeIsObject(it))throw new TypeError("bad iterator");return it},GetMethod:function(o,p){var func=ES.ToObject(o)[p];if(!isNullOrUndefined(func)){if(!ES.IsCallable(func))throw new TypeError("Method not callable: "+p);return func}},IteratorComplete:function(iterResult){return!!iterResult.done},IteratorClose:function(iterator,completionIsThrow){var returnMethod=ES.GetMethod(iterator,"return");if(void 0!==returnMethod){var innerResult,innerException;try{innerResult=ES.Call(returnMethod,iterator)}catch(e){innerException=e}if(!completionIsThrow){if(innerException)throw innerException;if(!ES.TypeIsObject(innerResult))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(it){var result=arguments.length>1?it.next(arguments[1]):it.next();if(!ES.TypeIsObject(result))throw new TypeError("bad iterator");return result},IteratorStep:function(it){var result=ES.IteratorNext(it);return!ES.IteratorComplete(result)&&result},Construct:function(C,args,newTarget,isES6internal){var target=void 0===newTarget?C:newTarget;if(!isES6internal&&Reflect.construct)return Reflect.construct(C,args,target);var proto=target.prototype;ES.TypeIsObject(proto)||(proto=Object.prototype);var obj=create(proto),result=ES.Call(C,obj,args);return ES.TypeIsObject(result)?result:obj},SpeciesConstructor:function(O,defaultConstructor){var C=O.constructor;if(void 0===C)return defaultConstructor;if(!ES.TypeIsObject(C))throw new TypeError("Bad constructor");var S=C[symbolSpecies];if(isNullOrUndefined(S))return defaultConstructor;if(!ES.IsConstructor(S))throw new TypeError("Bad @@species");return S},CreateHTML:function(string,tag,attribute,value){var S=ES.ToString(string),p1="<"+tag;return""!==attribute&&(p1+=" "+attribute+'="'+ES.ToString(value).replace(/"/g,"&quot;")+'"'),p1+">"+S+"</"+tag+">"},IsRegExp:function IsRegExp(argument){if(!ES.TypeIsObject(argument))return!1;var isRegExp=argument[Symbol.match];return void 0!==isRegExp?!!isRegExp:Type.regex(argument)},ToString:function ToString(string){return $String(string)}};if(supportsDescriptors&&hasSymbols){var defineWellKnownSymbol=function defineWellKnownSymbol(name){if(Type.symbol(Symbol[name]))return Symbol[name];var sym=Symbol.for("Symbol."+name);return Object.defineProperty(Symbol,name,{configurable:!1,enumerable:!1,writable:!1,value:sym}),sym};if(!Type.symbol(Symbol.search)){var symbolSearch=defineWellKnownSymbol("search"),originalSearch=String.prototype.search;defineProperty(RegExp.prototype,symbolSearch,function search(string){return ES.Call(originalSearch,string,[this])});var searchShim=function search(regexp){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(regexp)){var searcher=ES.GetMethod(regexp,symbolSearch);if(void 0!==searcher)return ES.Call(searcher,regexp,[O])}return ES.Call(originalSearch,O,[ES.ToString(regexp)])};overrideNative(String.prototype,"search",searchShim)}if(!Type.symbol(Symbol.replace)){var symbolReplace=defineWellKnownSymbol("replace"),originalReplace=String.prototype.replace;defineProperty(RegExp.prototype,symbolReplace,function replace(string,replaceValue){return ES.Call(originalReplace,string,[this,replaceValue])});var replaceShim=function replace(searchValue,replaceValue){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(searchValue)){var replacer=ES.GetMethod(searchValue,symbolReplace);if(void 0!==replacer)return ES.Call(replacer,searchValue,[O,replaceValue])}return ES.Call(originalReplace,O,[ES.ToString(searchValue),replaceValue])};overrideNative(String.prototype,"replace",replaceShim)}if(!Type.symbol(Symbol.split)){var symbolSplit=defineWellKnownSymbol("split"),originalSplit=String.prototype.split;defineProperty(RegExp.prototype,symbolSplit,function split(string,limit){return ES.Call(originalSplit,string,[this,limit])});var splitShim=function split(separator,limit){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(separator)){var splitter=ES.GetMethod(separator,symbolSplit);if(void 0!==splitter)return ES.Call(splitter,separator,[O,limit])}return ES.Call(originalSplit,O,[ES.ToString(separator),limit])};overrideNative(String.prototype,"split",splitShim)}var symbolMatchExists=Type.symbol(Symbol.match),stringMatchIgnoresSymbolMatch=symbolMatchExists&&((o={})[Symbol.match]=function(){return 42},42!=="a".match(o));if(!symbolMatchExists||stringMatchIgnoresSymbolMatch){var symbolMatch=defineWellKnownSymbol("match"),originalMatch=String.prototype.match;defineProperty(RegExp.prototype,symbolMatch,function match(string){return ES.Call(originalMatch,string,[this])});var matchShim=function match(regexp){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(regexp)){var matcher=ES.GetMethod(regexp,symbolMatch);if(void 0!==matcher)return ES.Call(matcher,regexp,[O])}return ES.Call(originalMatch,O,[ES.ToString(regexp)])};overrideNative(String.prototype,"match",matchShim)}}var wrapConstructor=function wrapConstructor(original,replacement,keysToSkip){Value.preserveToString(replacement,original),Object.setPrototypeOf&&Object.setPrototypeOf(original,replacement),supportsDescriptors?_forEach(Object.getOwnPropertyNames(original),function(key){key in noop||keysToSkip[key]||Value.proxy(original,key,replacement)}):_forEach(Object.keys(original),function(key){key in noop||keysToSkip[key]||(replacement[key]=original[key])}),replacement.prototype=original.prototype,Value.redefine(original.prototype,"constructor",replacement)},defaultSpeciesGetter=function(){return this},addDefaultSpecies=function(C){supportsDescriptors&&!_hasOwnProperty(C,symbolSpecies)&&Value.getter(C,symbolSpecies,defaultSpeciesGetter)},addIterator=function(prototype,impl){var implementation=impl||function iterator(){return this};defineProperty(prototype,$iterator$,implementation),!prototype[$iterator$]&&Type.symbol($iterator$)&&(prototype[$iterator$]=implementation)},createDataProperty=function createDataProperty(object,name,value){supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!0,writable:!0,value:value}):object[name]=value},createDataPropertyOrThrow=function createDataPropertyOrThrow(object,name,value){if(createDataProperty(object,name,value),!ES.SameValue(object[name],value))throw new TypeError("property is nonconfigurable")},emulateES6construct=function(o,defaultNewTarget,defaultProto,slots){if(!ES.TypeIsObject(o))throw new TypeError("Constructor requires `new`: "+defaultNewTarget.name);var proto=defaultNewTarget.prototype;ES.TypeIsObject(proto)||(proto=defaultProto);var obj=create(proto);for(var name in slots)if(_hasOwnProperty(slots,name)){var value=slots[name];defineProperty(obj,name,value,!0)}return obj};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var originalFromCodePoint=String.fromCodePoint;overrideNative(String,"fromCodePoint",function fromCodePoint(codePoints){return ES.Call(originalFromCodePoint,this,arguments)})}var StringShims={fromCodePoint:function fromCodePoint(codePoints){for(var next,result=[],i=0,length=arguments.length;i<length;i++){if(next=Number(arguments[i]),!ES.SameValue(next,ES.ToInteger(next))||next<0||next>1114111)throw new RangeError("Invalid code point "+next);next<65536?_push(result,String.fromCharCode(next)):(next-=65536,_push(result,String.fromCharCode(55296+(next>>10))),_push(result,String.fromCharCode(next%1024+56320)))}return result.join("")},raw:function raw(callSite){var cooked=ES.ToObject(callSite,"bad callSite"),rawString=ES.ToObject(cooked.raw,"bad raw value"),len=rawString.length,literalsegments=ES.ToLength(len);if(literalsegments<=0)return"";for(var nextKey,next,nextSeg,nextSub,stringElements=[],nextIndex=0;nextIndex<literalsegments&&(nextKey=ES.ToString(nextIndex),nextSeg=ES.ToString(rawString[nextKey]),_push(stringElements,nextSeg),!(nextIndex+1>=literalsegments));)next=nextIndex+1<arguments.length?arguments[nextIndex+1]:"",nextSub=ES.ToString(next),_push(stringElements,nextSub),nextIndex+=1;return stringElements.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&overrideNative(String,"raw",StringShims.raw),defineProperties(String,StringShims);var stringRepeat=function repeat(s,times){if(times<1)return"";if(times%2)return repeat(s,times-1)+s;var half=repeat(s,times/2);return half+half},stringMaxLength=1/0,StringPrototypeShims={repeat:function repeat(times){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),numTimes=ES.ToInteger(times);if(numTimes<0||numTimes>=stringMaxLength)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return stringRepeat(thisStr,numTimes)},startsWith:function startsWith(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError('Cannot call method "startsWith" with a regex');var position,searchStr=ES.ToString(searchString);arguments.length>1&&(position=arguments[1]);var start=_max(ES.ToInteger(position),0);return _strSlice(S,start,start+searchStr.length)===searchStr},endsWith:function endsWith(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError('Cannot call method "endsWith" with a regex');var endPosition,searchStr=ES.ToString(searchString),len=S.length;arguments.length>1&&(endPosition=arguments[1]);var pos=void 0===endPosition?len:ES.ToInteger(endPosition),end=_min(_max(pos,0),len);return _strSlice(S,end-searchStr.length,end)===searchStr},includes:function includes(searchString){if(ES.IsRegExp(searchString))throw new TypeError('"includes" does not accept a RegExp');var position,searchStr=ES.ToString(searchString);return arguments.length>1&&(position=arguments[1]),-1!==_indexOf(this,searchStr,position)},codePointAt:function codePointAt(pos){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),position=ES.ToInteger(pos),length=thisStr.length;if(position>=0&&position<length){var first=thisStr.charCodeAt(position);if(first<55296||first>56319||position+1===length)return first;var second=thisStr.charCodeAt(position+1);return second<56320||second>57343?first:1024*(first-55296)+(second-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&overrideNative(String.prototype,"includes",StringPrototypeShims.includes),String.prototype.startsWith&&String.prototype.endsWith){var startsWithRejectsRegex=throwsError(function(){return"/a/".startsWith(/a/)}),startsWithHandlesInfinity=valueOrFalseIfThrows(function(){return!1==="abc".startsWith("a",1/0)});startsWithRejectsRegex&&startsWithHandlesInfinity||(overrideNative(String.prototype,"startsWith",StringPrototypeShims.startsWith),overrideNative(String.prototype,"endsWith",StringPrototypeShims.endsWith))}if(hasSymbols){var startsWithSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".startsWith(re)});startsWithSupportsSymbolMatch||overrideNative(String.prototype,"startsWith",StringPrototypeShims.startsWith);var endsWithSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".endsWith(re)});endsWithSupportsSymbolMatch||overrideNative(String.prototype,"endsWith",StringPrototypeShims.endsWith);var includesSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".includes(re)});includesSupportsSymbolMatch||overrideNative(String.prototype,"includes",StringPrototypeShims.includes)}defineProperties(String.prototype,StringPrototypeShims);var ws=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),trimRegexp=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),trimShim=function trim(){return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp,"")},nonWS=["","",""].join(""),nonWSregex=new RegExp("["+nonWS+"]","g"),isBadHexRegex=/^[-+]0x[0-9a-f]+$/i,hasStringTrimBug=nonWS.trim().length!==nonWS.length;defineProperty(String.prototype,"trim",trimShim,hasStringTrimBug);var iteratorResult=function(x){return{value:x,done:0===arguments.length}},StringIterator=function(s){ES.RequireObjectCoercible(s),this._s=ES.ToString(s),this._i=0};StringIterator.prototype.next=function(){var s=this._s,i=this._i;if(void 0===s||i>=s.length)return this._s=void 0,iteratorResult();var second,len,first=s.charCodeAt(i);return len=first<55296||first>56319||i+1===s.length?1:(second=s.charCodeAt(i+1))<56320||second>57343?1:2,this._i=i+len,iteratorResult(s.substr(i,len))},addIterator(StringIterator.prototype),addIterator(String.prototype,function(){return new StringIterator(this)});var ArrayShims={from:function from(items){var mapFn,mapping,T,C=this;if(arguments.length>1&&(mapFn=arguments[1]),void 0===mapFn)mapping=!1;else{if(!ES.IsCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(T=arguments[2]),mapping=!0}var length,result,i,usingIterator=void 0!==(isArguments(items)||ES.GetMethod(items,$iterator$));if(usingIterator){result=ES.IsConstructor(C)?Object(new C):[];var next,nextValue,iterator=ES.GetIterator(items);for(i=0;!1!==(next=ES.IteratorStep(iterator));){nextValue=next.value;try{mapping&&(nextValue=void 0===T?mapFn(nextValue,i):_call(mapFn,T,nextValue,i)),result[i]=nextValue}catch(e){throw ES.IteratorClose(iterator,!0),e}i+=1}length=i}else{var value,arrayLike=ES.ToObject(items);for(length=ES.ToLength(arrayLike.length),result=ES.IsConstructor(C)?Object(new C(length)):new Array(length),i=0;i<length;++i)value=arrayLike[i],mapping&&(value=void 0===T?mapFn(value,i):_call(mapFn,T,value,i)),createDataPropertyOrThrow(result,i,value)}return result.length=length,result},of:function of(){for(var len=arguments.length,C=this,A=isArray(C)||!ES.IsCallable(C)?new Array(len):ES.Construct(C,[len]),k=0;k<len;++k)createDataPropertyOrThrow(A,k,arguments[k]);return A.length=len,A}};defineProperties(Array,ArrayShims),addDefaultSpecies(Array),defineProperties((ArrayIterator=function(array,kind){this.i=0,this.array=array,this.kind=kind}).prototype,{next:function(){var i=this.i,array=this.array;if(!(this instanceof ArrayIterator))throw new TypeError("Not an ArrayIterator");if(void 0!==array)for(var len=ES.ToLength(array.length);i<len;i++){var retval,kind=this.kind;return"key"===kind?retval=i:"value"===kind?retval=array[i]:"entry"===kind&&(retval=[i,array[i]]),this.i=i+1,iteratorResult(retval)}return this.array=void 0,iteratorResult()}}),addIterator(ArrayIterator.prototype);var arrayOfSupportsSubclassing=Array.of===ArrayShims.of||function(){var Foo=function Foo(len){this.length=len};Foo.prototype=[];var fooArr=Array.of.apply(Foo,[1,2]);return fooArr instanceof Foo&&2===fooArr.length}();arrayOfSupportsSubclassing||overrideNative(Array,"of",ArrayShims.of);var ArrayPrototypeShims={copyWithin:function copyWithin(target,start){var end,o=ES.ToObject(this),len=ES.ToLength(o.length),relativeTarget=ES.ToInteger(target),relativeStart=ES.ToInteger(start),to=relativeTarget<0?_max(len+relativeTarget,0):_min(relativeTarget,len),from=relativeStart<0?_max(len+relativeStart,0):_min(relativeStart,len);arguments.length>2&&(end=arguments[2]);var relativeEnd=void 0===end?len:ES.ToInteger(end),finalItem=relativeEnd<0?_max(len+relativeEnd,0):_min(relativeEnd,len),count=_min(finalItem-from,len-to),direction=1;for(from<to&&to<from+count&&(direction=-1,from+=count-1,to+=count-1);count>0;)from in o?o[to]=o[from]:delete o[to],from+=direction,to+=direction,count-=1;return o},fill:function fill(value){var start,end;arguments.length>1&&(start=arguments[1]),arguments.length>2&&(end=arguments[2]);var O=ES.ToObject(this),len=ES.ToLength(O.length);start=ES.ToInteger(void 0===start?0:start),end=ES.ToInteger(void 0===end?len:end);for(var relativeStart=start<0?_max(len+start,0):_min(start,len),relativeEnd=end<0?len+end:end,i=relativeStart;i<len&&i<relativeEnd;++i)O[i]=value;return O},find:function find(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError("Array#find: predicate must be a function");for(var value,thisArg=arguments.length>1?arguments[1]:null,i=0;i<length;i++)if(value=list[i],thisArg){if(_call(predicate,thisArg,value,i,list))return value}else if(predicate(value,i,list))return value},findIndex:function findIndex(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError("Array#findIndex: predicate must be a function");for(var thisArg=arguments.length>1?arguments[1]:null,i=0;i<length;i++)if(thisArg){if(_call(predicate,thisArg,list[i],i,list))return i}else if(predicate(list[i],i,list))return i;return-1},keys:function keys(){return new ArrayIterator(this,"key")},values:function values(){return new ArrayIterator(this,"value")},entries:function entries(){return new ArrayIterator(this,"entry")}};if(Array.prototype.keys&&!ES.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ES.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[$iterator$]&&(defineProperties(Array.prototype,{values:Array.prototype[$iterator$]}),Type.symbol(Symbol.unscopables)&&(Array.prototype[Symbol.unscopables].values=!0)),functionsHaveNames&&Array.prototype.values&&"values"!==Array.prototype.values.name){var originalArrayPrototypeValues=Array.prototype.values;overrideNative(Array.prototype,"values",function values(){return ES.Call(originalArrayPrototypeValues,this,arguments)}),defineProperty(Array.prototype,$iterator$,Array.prototype.values,!0)}defineProperties(Array.prototype,ArrayPrototypeShims),1/[!0].indexOf(!0,-0)<0&&defineProperty(Array.prototype,"indexOf",function indexOf(searchElement){var value=_arrayIndexOfApply(this,arguments);return 0===value&&1/value<0?0:value},!0),addIterator(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&addIterator(Object.getPrototypeOf([].values()));var arr,arrayFromSwallowsNegativeLengths=valueOrFalseIfThrows(function(){return 0===Array.from({length:-1}).length}),arrayFromHandlesIterables=1===(arr=Array.from([0].entries())).length&&isArray(arr[0])&&0===arr[0][0]&&0===arr[0][1];arrayFromSwallowsNegativeLengths&&arrayFromHandlesIterables||overrideNative(Array,"from",ArrayShims.from);var arrayFromHandlesUndefinedMapFunction=valueOrFalseIfThrows(function(){return Array.from([0],void 0)});if(!arrayFromHandlesUndefinedMapFunction){var origArrayFrom=Array.from;overrideNative(Array,"from",function from(items){return arguments.length>1&&void 0!==arguments[1]?ES.Call(origArrayFrom,this,arguments):_call(origArrayFrom,this,items)})}var int32sAsOne=-(Math.pow(2,32)-1),toLengthsCorrectly=function(method,reversed){var obj={length:int32sAsOne};return obj[reversed?(obj.length>>>0)-1:0]=!0,valueOrFalseIfThrows(function(){return _call(method,obj,function(){throw new RangeError("should not reach here")},[]),!0})};if(!toLengthsCorrectly(Array.prototype.forEach)){var originalForEach=Array.prototype.forEach;overrideNative(Array.prototype,"forEach",function forEach(callbackFn){return ES.Call(originalForEach,this.length>=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.map)){var originalMap=Array.prototype.map;overrideNative(Array.prototype,"map",function map(callbackFn){return ES.Call(originalMap,this.length>=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.filter)){var originalFilter=Array.prototype.filter;overrideNative(Array.prototype,"filter",function filter(callbackFn){return ES.Call(originalFilter,this.length>=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.some)){var originalSome=Array.prototype.some;overrideNative(Array.prototype,"some",function some(callbackFn){return ES.Call(originalSome,this.length>=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.every)){var originalEvery=Array.prototype.every;overrideNative(Array.prototype,"every",function every(callbackFn){return ES.Call(originalEvery,this.length>=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.reduce)){var originalReduce=Array.prototype.reduce;overrideNative(Array.prototype,"reduce",function reduce(callbackFn){return ES.Call(originalReduce,this.length>=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.reduceRight,!0)){var originalReduceRight=Array.prototype.reduceRight;overrideNative(Array.prototype,"reduceRight",function reduceRight(callbackFn){return ES.Call(originalReduceRight,this.length>=0?this:[],arguments)},!0)}var lacksOctalSupport=8!==Number("0o10"),lacksBinarySupport=2!==Number("0b10"),trimsNonWhitespace=_some(nonWS,function(c){return 0===Number(c+0+c)});if(lacksOctalSupport||lacksBinarySupport||trimsNonWhitespace){var OrigNumber=Number,binaryRegex=/^0b[01]+$/i,octalRegex=/^0o[0-7]+$/i,isBinary=binaryRegex.test.bind(binaryRegex),isOctal=octalRegex.test.bind(octalRegex),toPrimitive=function(O){var result;if("function"==typeof O.valueOf&&(result=O.valueOf(),Type.primitive(result)))return result;if("function"==typeof O.toString&&(result=O.toString(),Type.primitive(result)))return result;throw new TypeError("No default value")},hasNonWS=nonWSregex.test.bind(nonWSregex),isBadHex=isBadHexRegex.test.bind(isBadHexRegex),NumberShim=function(){var NumberShim=function Number(value){var primValue;"string"==typeof(primValue=arguments.length>0?Type.primitive(value)?value:toPrimitive(value,"number"):0)&&(primValue=ES.Call(trimShim,primValue),isBinary(primValue)?primValue=parseInt(_strSlice(primValue,2),2):isOctal(primValue)?primValue=parseInt(_strSlice(primValue,2),8):(hasNonWS(primValue)||isBadHex(primValue))&&(primValue=NaN));var receiver=this,valueOfSucceeds=valueOrFalseIfThrows(function(){return OrigNumber.prototype.valueOf.call(receiver),!0});return receiver instanceof NumberShim&&!valueOfSucceeds?new OrigNumber(primValue):OrigNumber(primValue)};return NumberShim}();wrapConstructor(OrigNumber,NumberShim,{}),defineProperties(NumberShim,{NaN:OrigNumber.NaN,MAX_VALUE:OrigNumber.MAX_VALUE,MIN_VALUE:OrigNumber.MIN_VALUE,NEGATIVE_INFINITY:OrigNumber.NEGATIVE_INFINITY,POSITIVE_INFINITY:OrigNumber.POSITIVE_INFINITY}),Number=NumberShim,Value.redefine(globals,"Number",NumberShim)}var maxSafeInteger=Math.pow(2,53)-1;defineProperties(Number,{MAX_SAFE_INTEGER:maxSafeInteger,MIN_SAFE_INTEGER:-maxSafeInteger,EPSILON:2220446049250313e-31,parseInt:globals.parseInt,parseFloat:globals.parseFloat,isFinite:numberIsFinite,isInteger:function isInteger(value){return numberIsFinite(value)&&ES.ToInteger(value)===value},isSafeInteger:function isSafeInteger(value){return Number.isInteger(value)&&_abs(value)<=Number.MAX_SAFE_INTEGER},isNaN:numberIsNaN}),defineProperty(Number,"parseInt",globals.parseInt,Number.parseInt!==globals.parseInt),1===[,1].find(function(){return!0})&&overrideNative(Array.prototype,"find",ArrayPrototypeShims.find),0!==[,1].findIndex(function(){return!0})&&overrideNative(Array.prototype,"findIndex",ArrayPrototypeShims.findIndex);var FAKENULL,gpo,spo,isEnumerableOn=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),ensureEnumerable=function ensureEnumerable(obj,prop){supportsDescriptors&&isEnumerableOn(obj,prop)&&Object.defineProperty(obj,prop,{enumerable:!1})},sliceArgs=function sliceArgs(){for(var initial=Number(this),len=arguments.length,desiredArgCount=len-initial,args=new Array(desiredArgCount<0?0:desiredArgCount),i=initial;i<len;++i)args[i-initial]=arguments[i];return args},assignTo=function assignTo(source){return function assignToSource(target,key){return target[key]=source[key],target}},assignReducer=function(target,source){var symbols,sourceKeys=keys(Object(source));return ES.IsCallable(Object.getOwnPropertySymbols)&&(symbols=_filter(Object.getOwnPropertySymbols(Object(source)),isEnumerableOn(source))),_reduce(_concat(sourceKeys,symbols||[]),assignTo(source),target)},ObjectShims={assign:function(target,source){var to=ES.ToObject(target,"Cannot convert undefined or null to object");return _reduce(ES.Call(sliceArgs,1,arguments),assignReducer,to)},is:function is(a,b){return ES.SameValue(a,b)}},assignHasPendingExceptions=Object.assign&&Object.preventExtensions&&function(){var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,"xy")}catch(e){return"y"===thrower[1]}}();if(assignHasPendingExceptions&&overrideNative(Object,"assign",ObjectShims.assign),defineProperties(Object,ObjectShims),supportsDescriptors){var ES5ObjectShims={setPrototypeOf:function(Object,magic){var set,setPrototypeOf=function(O,proto){return function(O,proto){if(!ES.TypeIsObject(O))throw new TypeError("cannot set prototype on a non-object");if(null!==proto&&!ES.TypeIsObject(proto))throw new TypeError("can only set prototype to an object or null"+proto)}(O,proto),_call(set,O,proto),O};try{set=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,_call(set,{},null)}catch(e){if(Object.prototype!=={}.__proto__)return;set=function(proto){this.__proto__=proto},setPrototypeOf.polyfill=setPrototypeOf(setPrototypeOf({},null),Object.prototype)instanceof Object}return setPrototypeOf}(Object)};defineProperties(Object,ES5ObjectShims)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(FAKENULL=Object.create(null),gpo=Object.getPrototypeOf,spo=Object.setPrototypeOf,Object.getPrototypeOf=function(o){var result=gpo(o);return result===FAKENULL?null:result},Object.setPrototypeOf=function(o,p){return spo(o,null===p?FAKENULL:p)},Object.setPrototypeOf.polyfill=!1);var objectKeysAcceptsPrimitives=!throwsError(function(){return Object.keys("foo")});if(!objectKeysAcceptsPrimitives){var originalObjectKeys=Object.keys;overrideNative(Object,"keys",function keys(value){return originalObjectKeys(ES.ToObject(value))}),keys=Object.keys}var objectKeysRejectsRegex=throwsError(function(){return Object.keys(/a/g)});if(objectKeysRejectsRegex){var regexRejectingObjectKeys=Object.keys;overrideNative(Object,"keys",function keys(value){if(Type.regex(value)){var regexKeys=[];for(var k in value)_hasOwnProperty(value,k)&&_push(regexKeys,k);return regexKeys}return regexRejectingObjectKeys(value)}),keys=Object.keys}if(Object.getOwnPropertyNames){var objectGOPNAcceptsPrimitives=!throwsError(function(){return Object.getOwnPropertyNames("foo")});if(!objectGOPNAcceptsPrimitives){var cachedWindowNames="object"==typeof window?Object.getOwnPropertyNames(window):[],originalObjectGetOwnPropertyNames=Object.getOwnPropertyNames;overrideNative(Object,"getOwnPropertyNames",function getOwnPropertyNames(value){var val=ES.ToObject(value);if("[object Window]"===_toString(val))try{return originalObjectGetOwnPropertyNames(val)}catch(e){return _concat([],cachedWindowNames)}return originalObjectGetOwnPropertyNames(val)})}}if(Object.getOwnPropertyDescriptor){var objectGOPDAcceptsPrimitives=!throwsError(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!objectGOPDAcceptsPrimitives){var originalObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;overrideNative(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(value,property){return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value),property)})}}if(Object.seal){var objectSealAcceptsPrimitives=!throwsError(function(){return Object.seal("foo")});if(!objectSealAcceptsPrimitives){var originalObjectSeal=Object.seal;overrideNative(Object,"seal",function seal(value){return ES.TypeIsObject(value)?originalObjectSeal(value):value})}}if(Object.isSealed){var objectIsSealedAcceptsPrimitives=!throwsError(function(){return Object.isSealed("foo")});if(!objectIsSealedAcceptsPrimitives){var originalObjectIsSealed=Object.isSealed;overrideNative(Object,"isSealed",function isSealed(value){return!ES.TypeIsObject(value)||originalObjectIsSealed(value)})}}if(Object.freeze){var objectFreezeAcceptsPrimitives=!throwsError(function(){return Object.freeze("foo")});if(!objectFreezeAcceptsPrimitives){var originalObjectFreeze=Object.freeze;overrideNative(Object,"freeze",function freeze(value){return ES.TypeIsObject(value)?originalObjectFreeze(value):value})}}if(Object.isFrozen){var objectIsFrozenAcceptsPrimitives=!throwsError(function(){return Object.isFrozen("foo")});if(!objectIsFrozenAcceptsPrimitives){var originalObjectIsFrozen=Object.isFrozen;overrideNative(Object,"isFrozen",function isFrozen(value){return!ES.TypeIsObject(value)||originalObjectIsFrozen(value)})}}if(Object.preventExtensions){var objectPreventExtensionsAcceptsPrimitives=!throwsError(function(){return Object.preventExtensions("foo")});if(!objectPreventExtensionsAcceptsPrimitives){var originalObjectPreventExtensions=Object.preventExtensions;overrideNative(Object,"preventExtensions",function preventExtensions(value){return ES.TypeIsObject(value)?originalObjectPreventExtensions(value):value})}}if(Object.isExtensible){var objectIsExtensibleAcceptsPrimitives=!throwsError(function(){return Object.isExtensible("foo")});if(!objectIsExtensibleAcceptsPrimitives){var originalObjectIsExtensible=Object.isExtensible;overrideNative(Object,"isExtensible",function isExtensible(value){return!!ES.TypeIsObject(value)&&originalObjectIsExtensible(value)})}}if(Object.getPrototypeOf){var objectGetProtoAcceptsPrimitives=!throwsError(function(){return Object.getPrototypeOf("foo")});if(!objectGetProtoAcceptsPrimitives){var originalGetProto=Object.getPrototypeOf;overrideNative(Object,"getPrototypeOf",function getPrototypeOf(value){return originalGetProto(ES.ToObject(value))})}}var desc,hasFlags=supportsDescriptors&&((desc=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&ES.IsCallable(desc.get));if(supportsDescriptors&&!hasFlags){var regExpFlagsGetter=function flags(){if(!ES.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var result="";return this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.unicode&&(result+="u"),this.sticky&&(result+="y"),result};Value.getter(RegExp.prototype,"flags",regExpFlagsGetter)}var regex,regExpSupportsFlagsWithRegex=supportsDescriptors&&valueOrFalseIfThrows(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),regExpNeedsToSupportSymbolMatch=hasSymbols&&supportsDescriptors&&((regex=/./)[Symbol.match]=!1,RegExp(regex)===regex),regexToStringIsGeneric=valueOrFalseIfThrows(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),regexToStringSupportsGenericFlags=regexToStringIsGeneric&&valueOrFalseIfThrows(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!regexToStringIsGeneric||!regexToStringSupportsGenericFlags){var origRegExpToString=RegExp.prototype.toString;defineProperty(RegExp.prototype,"toString",function toString(){var R=ES.RequireObjectCoercible(this);return Type.regex(R)?_call(origRegExpToString,R):"/"+$String(R.source)+"/"+$String(R.flags)},!0),Value.preserveToString(RegExp.prototype.toString,origRegExpToString)}if(supportsDescriptors&&(!regExpSupportsFlagsWithRegex||regExpNeedsToSupportSymbolMatch)){var flagsGetter=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,sourceDesc=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},legacySourceGetter=function(){return this.source},sourceGetter=ES.IsCallable(sourceDesc.get)?sourceDesc.get:legacySourceGetter,OrigRegExp=RegExp,RegExpShim=function RegExp(pattern,flags){var patternIsRegExp=ES.IsRegExp(pattern);return this instanceof RegExp||!patternIsRegExp||void 0!==flags||pattern.constructor!==RegExp?Type.regex(pattern)?new RegExp(ES.Call(sourceGetter,pattern),void 0===flags?ES.Call(flagsGetter,pattern):flags):(patternIsRegExp&&(pattern.source,void 0===flags&&pattern.flags),new OrigRegExp(pattern,flags)):pattern};wrapConstructor(OrigRegExp,RegExpShim,{$input:!0}),RegExp=RegExpShim,Value.redefine(globals,"RegExp",RegExpShim)}if(supportsDescriptors){var regexGlobals={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};_forEach(keys(regexGlobals),function(prop){prop in RegExp&&!(regexGlobals[prop]in RegExp)&&Value.getter(RegExp,regexGlobals[prop],function get(){return RegExp[prop]})})}addDefaultSpecies(RegExp);var inverseEpsilon=1/Number.EPSILON,roundTiesToEven=function roundTiesToEven(n){return n+inverseEpsilon-inverseEpsilon},BINARY_32_EPSILON=Math.pow(2,-23),BINARY_32_MAX_VALUE=Math.pow(2,127)*(2-BINARY_32_EPSILON),BINARY_32_MIN_VALUE=Math.pow(2,-126),E=Math.E,LOG2E=Math.LOG2E,LOG10E=Math.LOG10E,numberCLZ=Number.prototype.clz;delete Number.prototype.clz;var MathShims={acosh:function acosh(value){var x=Number(value);if(numberIsNaN(x)||value<1)return NaN;if(1===x)return 0;if(x===1/0)return x;var xInvSquared=1/(x*x);if(x<2)return _log1p(x-1+_sqrt(1-xInvSquared)*x);var halfX=x/2;return _log1p(halfX+_sqrt(1-xInvSquared)*halfX-1)+1/LOG2E},asinh:function asinh(value){var x=Number(value);if(0===x||!globalIsFinite(x))return x;var a=_abs(x),aSquared=a*a,s=_sign(x);return a<1?s*_log1p(a+aSquared/(_sqrt(aSquared+1)+1)):s*(_log1p(a/2+_sqrt(1+1/aSquared)*a/2-1)+1/LOG2E)},atanh:function atanh(value){var x=Number(value);if(0===x)return x;if(-1===x)return-1/0;if(1===x)return 1/0;if(numberIsNaN(x)||x<-1||x>1)return NaN;var a=_abs(x);return _sign(x)*_log1p(2*a/(1-a))/2},cbrt:function cbrt(value){var x=Number(value);if(0===x)return x;var result,negate=x<0;return negate&&(x=-x),result=x===1/0?1/0:(x/((result=_exp(_log(x)/3))*result)+2*result)/3,negate?-result:result},clz32:function clz32(value){var x=Number(value),number=ES.ToUint32(x);return 0===number?32:numberCLZ?ES.Call(numberCLZ,number):31-_floor(_log(number+.5)*LOG2E)},cosh:function cosh(value){var x=Number(value);if(0===x)return 1;if(numberIsNaN(x))return NaN;if(!globalIsFinite(x))return 1/0;var t=_exp(_abs(x)-1);return(t+1/(t*E*E))*(E/2)},expm1:function expm1(value){var x=Number(value);if(x===-1/0)return-1;if(!globalIsFinite(x)||0===x)return x;if(_abs(x)>.5)return _exp(x)-1;for(var t=x,sum=0,n=1;sum+t!==sum;)sum+=t,t*=x/(n+=1);return sum},hypot:function hypot(x,y){for(var result=0,largest=0,i=0;i<arguments.length;++i){var value=_abs(Number(arguments[i]));largest<value?(result*=largest/value*(largest/value),result+=1,largest=value):result+=value>0?value/largest*(value/largest):value}return largest===1/0?1/0:largest*_sqrt(result)},log2:function log2(value){return _log(value)*LOG2E},log10:function log10(value){return _log(value)*LOG10E},log1p:_log1p,sign:_sign,sinh:function sinh(value){var x=Number(value);if(!globalIsFinite(x)||0===x)return x;var a=_abs(x);if(a<1){var u=Math.expm1(a);return _sign(x)*u*(1+1/(u+1))/2}var t=_exp(a-1);return _sign(x)*(t-1/(t*E*E))*(E/2)},tanh:function tanh(value){var x=Number(value);return numberIsNaN(x)||0===x?x:x>=20?1:x<=-20?-1:(Math.expm1(x)-Math.expm1(-x))/(_exp(x)+_exp(-x))},trunc:function trunc(value){var x=Number(value);return x<0?-_floor(-x):_floor(x)},imul:function imul(x,y){var a=ES.ToUint32(x),b=ES.ToUint32(y),al=65535&a,bl=65535&b;return al*bl+((a>>>16&65535)*bl+al*(b>>>16&65535)<<16>>>0)|0},fround:function fround(x){var v=Number(x);if(0===v||v===1/0||v===-1/0||numberIsNaN(v))return v;var sign=_sign(v),abs=_abs(v);if(abs<BINARY_32_MIN_VALUE)return sign*roundTiesToEven(abs/BINARY_32_MIN_VALUE/BINARY_32_EPSILON)*BINARY_32_MIN_VALUE*BINARY_32_EPSILON;var a=(1+BINARY_32_EPSILON/Number.EPSILON)*abs,result=a-(a-abs);return result>BINARY_32_MAX_VALUE||numberIsNaN(result)?sign*(1/0):sign*result}},withinULPDistance=function withinULPDistance(result,expected,distance){return _abs(1-result/expected)/Number.EPSILON<(distance||8)};defineProperties(Math,MathShims),defineProperty(Math,"sinh",MathShims.sinh,Math.sinh(710)===1/0),defineProperty(Math,"cosh",MathShims.cosh,Math.cosh(710)===1/0),defineProperty(Math,"log1p",MathShims.log1p,-1e-17!==Math.log1p(-1e-17)),defineProperty(Math,"asinh",MathShims.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),defineProperty(Math,"asinh",MathShims.asinh,Math.asinh(1e300)===1/0),defineProperty(Math,"atanh",MathShims.atanh,0===Math.atanh(1e-300)),defineProperty(Math,"tanh",MathShims.tanh,-2e-17!==Math.tanh(-2e-17)),defineProperty(Math,"acosh",MathShims.acosh,Math.acosh(Number.MAX_VALUE)===1/0),defineProperty(Math,"acosh",MathShims.acosh,!withinULPDistance(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),defineProperty(Math,"cbrt",MathShims.cbrt,!withinULPDistance(Math.cbrt(1e-300),1e-100)),defineProperty(Math,"sinh",MathShims.sinh,-2e-17!==Math.sinh(-2e-17));var expm1OfTen=Math.expm1(10);defineProperty(Math,"expm1",MathShims.expm1,expm1OfTen>22025.465794806718||expm1OfTen<22025.465794806718);var origMathRound=Math.round,roundHandlesBoundaryConditions=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),smallestPositiveNumberWhereRoundBreaks=inverseEpsilon+1,largestPositiveNumberWhereRoundBreaks=2*inverseEpsilon-1,roundDoesNotIncreaseIntegers=[smallestPositiveNumberWhereRoundBreaks,largestPositiveNumberWhereRoundBreaks].every(function(num){return Math.round(num)===num});defineProperty(Math,"round",function round(x){var floor=_floor(x);return x-floor<.5?floor:-1===floor?-0:floor+1},!roundHandlesBoundaryConditions||!roundDoesNotIncreaseIntegers),Value.preserveToString(Math.round,origMathRound);var origImul=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=MathShims.imul,Value.preserveToString(Math.imul,origImul)),2!==Math.imul.length&&overrideNative(Math,"imul",function imul(x,y){return ES.Call(origImul,Math,arguments)});var count,thenable,PromiseShim=function(){var setTimeout=globals.setTimeout;if("function"==typeof setTimeout||"object"==typeof setTimeout){ES.IsPromise=function(promise){return!!ES.TypeIsObject(promise)&&void 0!==promise._promise};var makeZeroTimeout,PromiseCapability=function(C){if(!ES.IsConstructor(C))throw new TypeError("Bad promise constructor");var capability=this;if(capability.resolve=void 0,capability.reject=void 0,capability.promise=new C(function(resolve,reject){if(void 0!==capability.resolve||void 0!==capability.reject)throw new TypeError("Bad Promise implementation!");capability.resolve=resolve,capability.reject=reject}),!ES.IsCallable(capability.resolve)||!ES.IsCallable(capability.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ES.IsCallable(window.postMessage)&&(makeZeroTimeout=function(){var timeouts=[];return window.addEventListener("message",function(event){if(event.source===window&&"zero-timeout-message"===event.data){if(event.stopPropagation(),0===timeouts.length)return;_shift(timeouts)()}},!0),function(fn){_push(timeouts,fn),window.postMessage("zero-timeout-message","*")}});var P,pr,Promise$prototype,Promise$prototype$then,enqueue=ES.IsCallable(globals.setImmediate)?globals.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:(P=globals.Promise,(pr=P&&P.resolve&&P.resolve())&&function(task){return pr.then(task)}||(ES.IsCallable(makeZeroTimeout)?makeZeroTimeout():function(task){setTimeout(task,0)})),PROMISE_IDENTITY=function(x){return x},PROMISE_THROWER=function(e){throw e},PROMISE_FAKE_CAPABILITY={},enqueuePromiseReactionJob=function(handler,capability,argument){enqueue(function(){promiseReactionJob(handler,capability,argument)})},promiseReactionJob=function(handler,promiseCapability,argument){var handlerResult,f;if(promiseCapability===PROMISE_FAKE_CAPABILITY)return handler(argument);try{handlerResult=handler(argument),f=promiseCapability.resolve}catch(e){handlerResult=e,f=promiseCapability.reject}f(handlerResult)},fulfillPromise=function(promise,value){var _promise=promise._promise,length=_promise.reactionLength;if(length>0&&(enqueuePromiseReactionJob(_promise.fulfillReactionHandler0,_promise.reactionCapability0,value),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length>1))for(var i=1,idx=0;i<length;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+0],_promise[idx+2],value),promise[idx+0]=void 0,promise[idx+1]=void 0,promise[idx+2]=void 0;_promise.result=value,_promise.state=1,_promise.reactionLength=0},rejectPromise=function(promise,reason){var _promise=promise._promise,length=_promise.reactionLength;if(length>0&&(enqueuePromiseReactionJob(_promise.rejectReactionHandler0,_promise.reactionCapability0,reason),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length>1))for(var i=1,idx=0;i<length;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+1],_promise[idx+2],reason),promise[idx+0]=void 0,promise[idx+1]=void 0,promise[idx+2]=void 0;_promise.result=reason,_promise.state=2,_promise.reactionLength=0},createResolvingFunctions=function(promise){var alreadyResolved=!1;return{resolve:function(resolution){var then;if(!alreadyResolved){if(alreadyResolved=!0,resolution===promise)return rejectPromise(promise,new TypeError("Self resolution"));if(!ES.TypeIsObject(resolution))return fulfillPromise(promise,resolution);try{then=resolution.then}catch(e){return rejectPromise(promise,e)}if(!ES.IsCallable(then))return fulfillPromise(promise,resolution);enqueue(function(){promiseResolveThenableJob(promise,resolution,then)})}},reject:function(reason){if(!alreadyResolved)return alreadyResolved=!0,rejectPromise(promise,reason)}}},optimizedThen=function(then,thenable,resolve,reject){then===Promise$prototype$then?_call(then,thenable,resolve,reject,PROMISE_FAKE_CAPABILITY):_call(then,thenable,resolve,reject)},promiseResolveThenableJob=function(promise,thenable,then){var resolvingFunctions=createResolvingFunctions(promise),resolve=resolvingFunctions.resolve,reject=resolvingFunctions.reject;try{optimizedThen(then,thenable,resolve,reject)}catch(e){reject(e)}},Promise=function(){var PromiseShim=function Promise(resolver){if(!(this instanceof PromiseShim))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ES.IsCallable(resolver))throw new TypeError("not a valid resolver");var promise=emulateES6construct(this,PromiseShim,Promise$prototype,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),resolvingFunctions=createResolvingFunctions(promise),reject=resolvingFunctions.reject;try{resolver(resolvingFunctions.resolve,reject)}catch(e){reject(e)}return promise};return PromiseShim}();Promise$prototype=Promise.prototype;var _promiseAllResolver=function(index,values,capability,remaining){var alreadyCalled=!1;return function(x){alreadyCalled||(alreadyCalled=!0,values[index]=x,0==--remaining.count&&(0,capability.resolve)(values))}};return defineProperties(Promise,{all:function all(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Promise is not object");var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return function(iteratorRecord,C,resultCapability){for(var next,nextValue,it=iteratorRecord.iterator,values=[],remaining={count:1},index=0;;){try{if(!1===(next=ES.IteratorStep(it))){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}values[index]=void 0;var nextPromise=C.resolve(nextValue),resolveElement=_promiseAllResolver(index,values,resultCapability,remaining);remaining.count+=1,optimizedThen(nextPromise.then,nextPromise,resolveElement,resultCapability.reject),index+=1}return 0==--remaining.count&&(0,resultCapability.resolve)(values),resultCapability.promise}(iteratorRecord={iterator:iterator=ES.GetIterator(iterable),done:!1},C,capability)}catch(e){var exception=e;if(iteratorRecord&&!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}return(0,capability.reject)(exception),capability.promise}},race:function race(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Promise is not object");var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return function(iteratorRecord,C,resultCapability){for(var next,nextValue,nextPromise,it=iteratorRecord.iterator;;){try{if(!1===(next=ES.IteratorStep(it))){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}nextPromise=C.resolve(nextValue),optimizedThen(nextPromise.then,nextPromise,resultCapability.resolve,resultCapability.reject)}return resultCapability.promise}(iteratorRecord={iterator:iterator=ES.GetIterator(iterable),done:!1},C,capability)}catch(e){var exception=e;if(iteratorRecord&&!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}return(0,capability.reject)(exception),capability.promise}},reject:function reject(reason){if(!ES.TypeIsObject(this))throw new TypeError("Bad promise constructor");var capability=new PromiseCapability(this);return(0,capability.reject)(reason),capability.promise},resolve:function resolve(v){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Bad promise constructor");if(ES.IsPromise(v)&&v.constructor===C)return v;var capability=new PromiseCapability(C);return(0,capability.resolve)(v),capability.promise}}),defineProperties(Promise$prototype,{catch:function(onRejected){return this.then(null,onRejected)},then:function then(onFulfilled,onRejected){var promise=this;if(!ES.IsPromise(promise))throw new TypeError("not a promise");var resultCapability,C=ES.SpeciesConstructor(promise,Promise),returnValueIsIgnored=arguments.length>2&&arguments[2]===PROMISE_FAKE_CAPABILITY;resultCapability=returnValueIsIgnored&&C===Promise?PROMISE_FAKE_CAPABILITY:new PromiseCapability(C);var value,fulfillReactionHandler=ES.IsCallable(onFulfilled)?onFulfilled:PROMISE_IDENTITY,rejectReactionHandler=ES.IsCallable(onRejected)?onRejected:PROMISE_THROWER,_promise=promise._promise;if(0===_promise.state){if(0===_promise.reactionLength)_promise.fulfillReactionHandler0=fulfillReactionHandler,_promise.rejectReactionHandler0=rejectReactionHandler,_promise.reactionCapability0=resultCapability;else{var idx=3*(_promise.reactionLength-1);_promise[idx+0]=fulfillReactionHandler,_promise[idx+1]=rejectReactionHandler,_promise[idx+2]=resultCapability}_promise.reactionLength+=1}else if(1===_promise.state)value=_promise.result,enqueuePromiseReactionJob(fulfillReactionHandler,resultCapability,value);else{if(2!==_promise.state)throw new TypeError("unexpected Promise state");value=_promise.result,enqueuePromiseReactionJob(rejectReactionHandler,resultCapability,value)}return resultCapability.promise}}),PROMISE_FAKE_CAPABILITY=new PromiseCapability(Promise),Promise$prototype$then=Promise$prototype.then,Promise}}();if(globals.Promise&&(delete globals.Promise.accept,delete globals.Promise.defer,delete globals.Promise.prototype.chain),"function"==typeof PromiseShim){defineProperties(globals,{Promise:PromiseShim});var promiseSupportsSubclassing=supportsSubclassing(globals.Promise,function(S){return S.resolve(42).then(function(){})instanceof S}),promiseIgnoresNonFunctionThenCallbacks=!throwsError(function(){return globals.Promise.reject(42).then(null,5).then(null,noop)}),promiseRequiresObjectContext=throwsError(function(){return globals.Promise.call(3,noop)}),promiseResolveBroken=function(Promise){var p=Promise.resolve(5);p.constructor={};var p2=Promise.resolve(p);try{p2.then(null,noop).then(null,noop)}catch(e){return!0}return p===p2}(globals.Promise),getsThenSynchronously=supportsDescriptors&&(count=0,thenable=Object.defineProperty({},"then",{get:function(){count+=1}}),Promise.resolve(thenable),1===count),BadResolverPromise=function BadResolverPromise(executor){var p=new Promise(executor);executor(3,function(){}),this.then=p.then,this.constructor=BadResolverPromise};BadResolverPromise.prototype=Promise.prototype,BadResolverPromise.all=Promise.all;var hasBadResolverPromise=valueOrFalseIfThrows(function(){return!!BadResolverPromise.all([1,2])});if(promiseSupportsSubclassing&&promiseIgnoresNonFunctionThenCallbacks&&promiseRequiresObjectContext&&!promiseResolveBroken&&getsThenSynchronously&&!hasBadResolverPromise||(Promise=PromiseShim,overrideNative(globals,"Promise",PromiseShim)),1!==Promise.all.length){var origAll=Promise.all;overrideNative(Promise,"all",function all(iterable){return ES.Call(origAll,this,arguments)})}if(1!==Promise.race.length){var origRace=Promise.race;overrideNative(Promise,"race",function race(iterable){return ES.Call(origRace,this,arguments)})}if(1!==Promise.resolve.length){var origResolve=Promise.resolve;overrideNative(Promise,"resolve",function resolve(x){return ES.Call(origResolve,this,arguments)})}if(1!==Promise.reject.length){var origReject=Promise.reject;overrideNative(Promise,"reject",function reject(r){return ES.Call(origReject,this,arguments)})}ensureEnumerable(Promise,"all"),ensureEnumerable(Promise,"race"),ensureEnumerable(Promise,"resolve"),ensureEnumerable(Promise,"reject"),addDefaultSpecies(Promise)}var s,m,testOrder=function(a){var b=keys(_reduce(a,function(o,k){return o[k]=!0,o},{}));return a.join(":")===b.join(":")},preservesInsertionOrder=testOrder(["z","a","bb"]),preservesNumericInsertionOrder=testOrder(["z",1,"a","3",2]);if(supportsDescriptors){var fastkey=function fastkey(key,skipInsertionOrderCheck){return skipInsertionOrderCheck||preservesInsertionOrder?isNullOrUndefined(key)?"^"+ES.ToString(key):"string"==typeof key?"$"+key:"number"==typeof key?preservesNumericInsertionOrder?key:"n"+key:"boolean"==typeof key?"b"+key:null:null},emptyObject=function emptyObject(){return Object.create?Object.create(null):{}},addIterableToMap=function addIterableToMap(MapConstructor,map,iterable){if(isArray(iterable)||Type.string(iterable))_forEach(iterable,function(entry){if(!ES.TypeIsObject(entry))throw new TypeError("Iterator value "+entry+" is not an entry object");map.set(entry[0],entry[1])});else if(iterable instanceof MapConstructor)_call(MapConstructor.prototype.forEach,iterable,function(value,key){map.set(key,value)});else{var iter,adder;if(!isNullOrUndefined(iterable)){if(adder=map.set,!ES.IsCallable(adder))throw new TypeError("bad map");iter=ES.GetIterator(iterable)}if(void 0!==iter)for(;;){var next=ES.IteratorStep(iter);if(!1===next)break;var nextItem=next.value;try{if(!ES.TypeIsObject(nextItem))throw new TypeError("Iterator value "+nextItem+" is not an entry object");_call(adder,map,nextItem[0],nextItem[1])}catch(e){throw ES.IteratorClose(iter,!0),e}}}},addIterableToSet=function addIterableToSet(SetConstructor,set,iterable){if(isArray(iterable)||Type.string(iterable))_forEach(iterable,function(value){set.add(value)});else if(iterable instanceof SetConstructor)_call(SetConstructor.prototype.forEach,iterable,function(value){set.add(value)});else{var iter,adder;if(!isNullOrUndefined(iterable)){if(adder=set.add,!ES.IsCallable(adder))throw new TypeError("bad set");iter=ES.GetIterator(iterable)}if(void 0!==iter)for(;;){var next=ES.IteratorStep(iter);if(!1===next)break;var nextValue=next.value;try{_call(adder,set,nextValue)}catch(e){throw ES.IteratorClose(iter,!0),e}}}},collectionShims={Map:function(){var empty={},MapEntry=function MapEntry(key,value){this.key=key,this.value=value,this.next=null,this.prev=null};MapEntry.prototype.isRemoved=function isRemoved(){return this.key===empty};var Map$prototype,requireMapSlot=function requireMapSlot(map,method){if(!ES.TypeIsObject(map)||!function isMap(map){return!!map._es6map}(map))throw new TypeError("Method Map.prototype."+method+" called on incompatible receiver "+ES.ToString(map))},MapIterator=function MapIterator(map,kind){requireMapSlot(map,"[[MapIterator]]"),this.head=map._head,this.i=this.head,this.kind=kind};addIterator(MapIterator.prototype={isMapIterator:!0,next:function next(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var result,i=this.i,kind=this.kind,head=this.head;if(void 0===this.i)return iteratorResult();for(;i.isRemoved()&&i!==head;)i=i.prev;for(;i.next!==head;)if(!(i=i.next).isRemoved())return result="key"===kind?i.key:"value"===kind?i.value:[i.key,i.value],this.i=i,iteratorResult(result);return this.i=void 0,iteratorResult()}});var MapShim=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var map=emulateES6construct(this,Map,Map$prototype,{_es6map:!0,_head:null,_map:OrigMap?new OrigMap:null,_size:0,_storage:emptyObject()}),head=new MapEntry(null,null);return head.next=head.prev=head,map._head=head,arguments.length>0&&addIterableToMap(Map,map,arguments[0]),map};return Map$prototype=MapShim.prototype,Value.getter(Map$prototype,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),defineProperties(Map$prototype,{get:function get(key){var entry;requireMapSlot(this,"get");var fkey=fastkey(key,!0);if(null!==fkey)return(entry=this._storage[fkey])?entry.value:void 0;if(this._map)return(entry=origMapGet.call(this._map,key))?entry.value:void 0;for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value},has:function has(key){requireMapSlot(this,"has");var fkey=fastkey(key,!0);if(null!==fkey)return void 0!==this._storage[fkey];if(this._map)return origMapHas.call(this._map,key);for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return!0;return!1},set:function set(key,value){requireMapSlot(this,"set");var entry,head=this._head,i=head,fkey=fastkey(key,!0);if(null!==fkey){if(void 0!==this._storage[fkey])return this._storage[fkey].value=value,this;entry=this._storage[fkey]=new MapEntry(key,value),i=head.prev}else this._map&&(origMapHas.call(this._map,key)?origMapGet.call(this._map,key).value=value:(entry=new MapEntry(key,value),origMapSet.call(this._map,key,entry),i=head.prev));for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value=value,this;return entry=entry||new MapEntry(key,value),ES.SameValue(-0,key)&&(entry.key=0),entry.next=this._head,entry.prev=this._head.prev,entry.prev.next=entry,entry.next.prev=entry,this._size+=1,this},delete:function(key){requireMapSlot(this,"delete");var head=this._head,i=head,fkey=fastkey(key,!0);if(null!==fkey){if(void 0===this._storage[fkey])return!1;i=this._storage[fkey].prev,delete this._storage[fkey]}else if(this._map){if(!origMapHas.call(this._map,key))return!1;i=origMapGet.call(this._map,key).prev,origMapDelete.call(this._map,key)}for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.key=empty,i.value=empty,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function clear(){requireMapSlot(this,"clear"),this._map=OrigMap?new OrigMap:null,this._size=0,this._storage=emptyObject();for(var head=this._head,i=head,p=i.next;(i=p)!==head;)i.key=empty,i.value=empty,p=i.next,i.next=i.prev=head;head.next=head.prev=head},keys:function keys(){return requireMapSlot(this,"keys"),new MapIterator(this,"key")},values:function values(){return requireMapSlot(this,"values"),new MapIterator(this,"value")},entries:function entries(){return requireMapSlot(this,"entries"),new MapIterator(this,"key+value")},forEach:function forEach(callback){requireMapSlot(this,"forEach");for(var context=arguments.length>1?arguments[1]:null,it=this.entries(),entry=it.next();!entry.done;entry=it.next())context?_call(callback,context,entry.value[1],entry.value[0],this):callback(entry.value[1],entry.value[0],this)}}),addIterator(Map$prototype,Map$prototype.entries),MapShim}(),Set:function(){var Set$prototype,requireSetSlot=function requireSetSlot(set,method){if(!ES.TypeIsObject(set)||!function isSet(set){return set._es6set&&void 0!==set._storage}(set))throw new TypeError("Set.prototype."+method+" called on incompatible receiver "+ES.ToString(set))},SetShim=function Set(){if(!(this instanceof Set))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var set=emulateES6construct(this,Set,Set$prototype,{_es6set:!0,"[[SetData]]":null,_storage:emptyObject()});if(!set._es6set)throw new TypeError("bad set");return arguments.length>0&&addIterableToSet(Set,set,arguments[0]),set};Set$prototype=SetShim.prototype;var ensureMap=function ensureMap(set){if(!set["[[SetData]]"]){var m=new collectionShims.Map;set["[[SetData]]"]=m,_forEach(keys(set._storage),function(key){var k=function(key){var k=key;if("^null"===k)return null;if("^undefined"!==k){var first=k.charAt(0);return"$"===first?_strSlice(k,1):"n"===first?+_strSlice(k,1):"b"===first?"btrue"===k:+k}}(key);m.set(k,k)}),set["[[SetData]]"]=m}set._storage=null};Value.getter(SetShim.prototype,"size",function(){return requireSetSlot(this,"size"),this._storage?keys(this._storage).length:(ensureMap(this),this["[[SetData]]"].size)}),defineProperties(SetShim.prototype,{has:function has(key){var fkey;return requireSetSlot(this,"has"),this._storage&&null!==(fkey=fastkey(key))?!!this._storage[fkey]:(ensureMap(this),this["[[SetData]]"].has(key))},add:function add(key){var fkey;return requireSetSlot(this,"add"),this._storage&&null!==(fkey=fastkey(key))?(this._storage[fkey]=!0,this):(ensureMap(this),this["[[SetData]]"].set(key,key),this)},delete:function(key){var fkey;if(requireSetSlot(this,"delete"),this._storage&&null!==(fkey=fastkey(key))){var hasFKey=_hasOwnProperty(this._storage,fkey);return delete this._storage[fkey]&&hasFKey}return ensureMap(this),this["[[SetData]]"].delete(key)},clear:function clear(){requireSetSlot(this,"clear"),this._storage&&(this._storage=emptyObject()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function values(){return requireSetSlot(this,"values"),ensureMap(this),new SetIterator(this["[[SetData]]"].values())},entries:function entries(){return requireSetSlot(this,"entries"),ensureMap(this),new SetIterator(this["[[SetData]]"].entries())},forEach:function forEach(callback){requireSetSlot(this,"forEach");var context=arguments.length>1?arguments[1]:null,entireSet=this;ensureMap(entireSet),this["[[SetData]]"].forEach(function(value,key){context?_call(callback,context,key,key,entireSet):callback(key,key,entireSet)})}}),defineProperty(SetShim.prototype,"keys",SetShim.prototype.values,!0),addIterator(SetShim.prototype,SetShim.prototype.values);var SetIterator=function SetIterator(it){this.it=it};return SetIterator.prototype={isSetIterator:!0,next:function next(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},addIterator(SetIterator.prototype),SetShim}()},isGoogleTranslate=globals.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(isGoogleTranslate&&(globals.Set=collectionShims.Set),globals.Map||globals.Set){var mapAcceptsArguments=valueOrFalseIfThrows(function(){return 2===new Map([[1,2]]).get(1)});mapAcceptsArguments||(globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');var m=new OrigMap;return arguments.length>0&&addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,globals.Map.prototype),m},globals.Map.prototype=create(OrigMap.prototype),defineProperty(globals.Map.prototype,"constructor",globals.Map,!0),Value.preserveToString(globals.Map,OrigMap));var testMap=new Map,mapUsesSameValueZero=((m=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,m),m.get(0)===m&&m.get(-0)===m&&m.has(0)&&m.has(-0)),mapSupportsChaining=testMap.set(1,2)===testMap;mapUsesSameValueZero&&mapSupportsChaining||overrideNative(Map.prototype,"set",function set(k,v){return _call(origMapSet,this,0===k?0:k,v),this}),mapUsesSameValueZero||(defineProperties(Map.prototype,{get:function get(k){return _call(origMapGet,this,0===k?0:k)},has:function has(k){return _call(origMapHas,this,0===k?0:k)}},!0),Value.preserveToString(Map.prototype.get,origMapGet),Value.preserveToString(Map.prototype.has,origMapHas));var testSet=new Set,setUsesSameValueZero=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((s=testSet).delete(0),s.add(-0),!s.has(0)),setSupportsChaining=testSet.add(1)===testSet;if(!setUsesSameValueZero||!setSupportsChaining){var origSetAdd=Set.prototype.add;Set.prototype.add=function add(v){return _call(origSetAdd,this,0===v?0:v),this},Value.preserveToString(Set.prototype.add,origSetAdd)}if(!setUsesSameValueZero){var origSetHas=Set.prototype.has;Set.prototype.has=function has(v){return _call(origSetHas,this,0===v?0:v)},Value.preserveToString(Set.prototype.has,origSetHas);var origSetDel=Set.prototype.delete;Set.prototype.delete=function SetDelete(v){return _call(origSetDel,this,0===v?0:v)},Value.preserveToString(Set.prototype.delete,origSetDel)}var mapSupportsSubclassing=supportsSubclassing(globals.Map,function(M){var m=new M([]);return m.set(42,42),m instanceof M}),mapFailsToSupportSubclassing=Object.setPrototypeOf&&!mapSupportsSubclassing,mapRequiresNew=function(){try{return!(globals.Map()instanceof globals.Map)}catch(e){return e instanceof TypeError}}();0===globals.Map.length&&!mapFailsToSupportSubclassing&&mapRequiresNew||(globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');var m=new OrigMap;return arguments.length>0&&addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,Map.prototype),m},globals.Map.prototype=OrigMap.prototype,defineProperty(globals.Map.prototype,"constructor",globals.Map,!0),Value.preserveToString(globals.Map,OrigMap));var setSupportsSubclassing=supportsSubclassing(globals.Set,function(S){var s=new S([]);return s.add(42,42),s instanceof S}),setFailsToSupportSubclassing=Object.setPrototypeOf&&!setSupportsSubclassing,setRequiresNew=function(){try{return!(globals.Set()instanceof globals.Set)}catch(e){return e instanceof TypeError}}();if(0!==globals.Set.length||setFailsToSupportSubclassing||!setRequiresNew){var OrigSet=globals.Set;globals.Set=function Set(){if(!(this instanceof Set))throw new TypeError('Constructor Set requires "new"');var s=new OrigSet;return arguments.length>0&&addIterableToSet(Set,s,arguments[0]),delete s.constructor,Object.setPrototypeOf(s,Set.prototype),s},globals.Set.prototype=OrigSet.prototype,defineProperty(globals.Set.prototype,"constructor",globals.Set,!0),Value.preserveToString(globals.Set,OrigSet)}var newMap=new globals.Map,mapIterationThrowsStopIterator=!valueOrFalseIfThrows(function(){return newMap.keys().next().done});if(("function"!=typeof globals.Map.prototype.clear||0!==(new globals.Set).size||0!==newMap.size||"function"!=typeof globals.Map.prototype.keys||"function"!=typeof globals.Set.prototype.keys||"function"!=typeof globals.Map.prototype.forEach||"function"!=typeof globals.Set.prototype.forEach||isCallableWithoutNew(globals.Map)||isCallableWithoutNew(globals.Set)||"function"!=typeof newMap.keys().next||mapIterationThrowsStopIterator||!mapSupportsSubclassing)&&defineProperties(globals,{Map:collectionShims.Map,Set:collectionShims.Set},!0),globals.Set.prototype.keys!==globals.Set.prototype.values&&defineProperty(globals.Set.prototype,"keys",globals.Set.prototype.values,!0),addIterator(Object.getPrototypeOf((new globals.Map).keys())),addIterator(Object.getPrototypeOf((new globals.Set).keys())),functionsHaveNames&&"has"!==globals.Set.prototype.has.name){var anonymousSetHas=globals.Set.prototype.has;overrideNative(globals.Set.prototype,"has",function has(key){return _call(anonymousSetHas,this,key)})}}defineProperties(globals,collectionShims),addDefaultSpecies(globals.Map),addDefaultSpecies(globals.Set)}var throwUnlessTargetIsObject=function throwUnlessTargetIsObject(target){if(!ES.TypeIsObject(target))throw new TypeError("target must be an object")},ReflectShims={apply:function apply(){return ES.Call(ES.Call,null,arguments)},construct:function construct(constructor,args){if(!ES.IsConstructor(constructor))throw new TypeError("First argument must be a constructor.");var newTarget=arguments.length>2?arguments[2]:constructor;if(!ES.IsConstructor(newTarget))throw new TypeError("new.target must be a constructor.");return ES.Construct(constructor,args,newTarget,"internal")},deleteProperty:function deleteProperty(target,key){if(throwUnlessTargetIsObject(target),supportsDescriptors){var desc=Object.getOwnPropertyDescriptor(target,key);if(desc&&!desc.configurable)return!1}return delete target[key]},has:function has(target,key){return throwUnlessTargetIsObject(target),key in target}};Object.getOwnPropertyNames&&Object.assign(ReflectShims,{ownKeys:function ownKeys(target){throwUnlessTargetIsObject(target);var keys=Object.getOwnPropertyNames(target);return ES.IsCallable(Object.getOwnPropertySymbols)&&_pushApply(keys,Object.getOwnPropertySymbols(target)),keys}});var callAndCatchException=function ConvertExceptionToBoolean(func){return!throwsError(func)};if(Object.preventExtensions&&Object.assign(ReflectShims,{isExtensible:function isExtensible(target){return throwUnlessTargetIsObject(target),Object.isExtensible(target)},preventExtensions:function preventExtensions(target){return throwUnlessTargetIsObject(target),callAndCatchException(function(){return Object.preventExtensions(target)})}}),supportsDescriptors){var internalGet=function get(target,key,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null===parent)return;return internalGet(parent,key,receiver)}return"value"in desc?desc.value:desc.get?ES.Call(desc.get,receiver):void 0},internalSet=function set(target,key,value,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null!==parent)return internalSet(parent,key,value,receiver);desc={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in desc?!!desc.writable&&!!ES.TypeIsObject(receiver)&&(Object.getOwnPropertyDescriptor(receiver,key)?Reflect.defineProperty(receiver,key,{value:value}):Reflect.defineProperty(receiver,key,{value:value,writable:!0,enumerable:!0,configurable:!0})):!!desc.set&&(_call(desc.set,receiver,value),!0)};Object.assign(ReflectShims,{defineProperty:function defineProperty(target,propertyKey,attributes){return throwUnlessTargetIsObject(target),callAndCatchException(function(){return Object.defineProperty(target,propertyKey,attributes)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return throwUnlessTargetIsObject(target),Object.getOwnPropertyDescriptor(target,propertyKey)},get:function get(target,key){throwUnlessTargetIsObject(target);var receiver=arguments.length>2?arguments[2]:target;return internalGet(target,key,receiver)},set:function set(target,key,value){throwUnlessTargetIsObject(target);var receiver=arguments.length>3?arguments[3]:target;return internalSet(target,key,value,receiver)}})}if(Object.getPrototypeOf){var objectDotGetPrototypeOf=Object.getPrototypeOf;ReflectShims.getPrototypeOf=function getPrototypeOf(target){return throwUnlessTargetIsObject(target),objectDotGetPrototypeOf(target)}}if(Object.setPrototypeOf&&ReflectShims.getPrototypeOf){var willCreateCircularPrototype=function(object,lastProto){for(var proto=lastProto;proto;){if(object===proto)return!0;proto=ReflectShims.getPrototypeOf(proto)}return!1};Object.assign(ReflectShims,{setPrototypeOf:function setPrototypeOf(object,proto){if(throwUnlessTargetIsObject(object),null!==proto&&!ES.TypeIsObject(proto))throw new TypeError("proto must be an object or null");return proto===Reflect.getPrototypeOf(object)||!(Reflect.isExtensible&&!Reflect.isExtensible(object))&&!willCreateCircularPrototype(object,proto)&&(Object.setPrototypeOf(object,proto),!0)}})}var defineOrOverrideReflectProperty=function(key,shim){ES.IsCallable(globals.Reflect[key])?valueOrFalseIfThrows(function(){return globals.Reflect[key](1),globals.Reflect[key](NaN),globals.Reflect[key](!0),!0})&&overrideNative(globals.Reflect,key,shim):defineProperty(globals.Reflect,key,shim)};Object.keys(ReflectShims).forEach(function(key){defineOrOverrideReflectProperty(key,ReflectShims[key])});var originalReflectGetProto=globals.Reflect.getPrototypeOf;if(functionsHaveNames&&originalReflectGetProto&&"getPrototypeOf"!==originalReflectGetProto.name&&overrideNative(globals.Reflect,"getPrototypeOf",function getPrototypeOf(target){return _call(originalReflectGetProto,globals.Reflect,target)}),globals.Reflect.setPrototypeOf&&valueOrFalseIfThrows(function(){return globals.Reflect.setPrototypeOf(1,{}),!0})&&overrideNative(globals.Reflect,"setPrototypeOf",ReflectShims.setPrototypeOf),globals.Reflect.defineProperty&&(valueOrFalseIfThrows(function(){var basic=!globals.Reflect.defineProperty(1,"test",{value:1}),extensible="function"!=typeof Object.preventExtensions||!globals.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return basic&&extensible})||overrideNative(globals.Reflect,"defineProperty",ReflectShims.defineProperty)),globals.Reflect.construct&&(valueOrFalseIfThrows(function(){var F=function F(){};return globals.Reflect.construct(function(){},[],F)instanceof F})||overrideNative(globals.Reflect,"construct",ReflectShims.construct)),"Invalid Date"!==String(new Date(NaN))){var dateToString=Date.prototype.toString,shimmedDateToString=function toString(){var valueOf=+this;return valueOf!=valueOf?"Invalid Date":ES.Call(dateToString,this)};overrideNative(Date.prototype,"toString",shimmedDateToString)}var stringHTMLshims={anchor:function anchor(name){return ES.CreateHTML(this,"a","name",name)},big:function big(){return ES.CreateHTML(this,"big","","")},blink:function blink(){return ES.CreateHTML(this,"blink","","")},bold:function bold(){return ES.CreateHTML(this,"b","","")},fixed:function fixed(){return ES.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(color){return ES.CreateHTML(this,"font","color",color)},fontsize:function fontsize(size){return ES.CreateHTML(this,"font","size",size)},italics:function italics(){return ES.CreateHTML(this,"i","","")},link:function link(url){return ES.CreateHTML(this,"a","href",url)},small:function small(){return ES.CreateHTML(this,"small","","")},strike:function strike(){return ES.CreateHTML(this,"strike","","")},sub:function sub(){return ES.CreateHTML(this,"sub","","")},sup:function sub(){return ES.CreateHTML(this,"sup","","")}};_forEach(Object.keys(stringHTMLshims),function(key){var method=String.prototype[key],shouldOverwrite=!1;if(ES.IsCallable(method)){var output=_call(method,"",' " '),quotesCount=_concat([],output.match(/"/g)).length;shouldOverwrite=output!==output.toLowerCase()||quotesCount>2}else shouldOverwrite=!0;shouldOverwrite&&overrideNative(String.prototype,key,stringHTMLshims[key])});var JSONstringifiesSymbols=function(){if(!hasSymbols)return!1;var stringify="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!stringify)return!1;if(void 0!==stringify(Symbol()))return!0;if("[null]"!==stringify([Symbol()]))return!0;var obj={a:Symbol()};return obj[Symbol()]=!0,"{}"!==stringify(obj)}(),JSONstringifyAcceptsObjectSymbol=valueOrFalseIfThrows(function(){return!hasSymbols||"{}"===JSON.stringify(Object(Symbol()))&&"[{}]"===JSON.stringify([Object(Symbol())])});if(JSONstringifiesSymbols||!JSONstringifyAcceptsObjectSymbol){var origStringify=JSON.stringify;overrideNative(JSON,"stringify",function stringify(value){if("symbol"!=typeof value){var replacer;arguments.length>1&&(replacer=arguments[1]);var args=[value];if(isArray(replacer))args.push(replacer);else{var replaceFn=ES.IsCallable(replacer)?replacer:null,wrappedReplacer=function(key,val){var parsedValue=replaceFn?_call(replaceFn,this,key,val):val;if("symbol"!=typeof parsedValue)return Type.symbol(parsedValue)?assignTo({})(parsedValue):parsedValue};args.push(wrappedReplacer)}return arguments.length>2&&args.push(arguments[2]),origStringify.apply(this,args)}})}return globals})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(0),__webpack_require__(240))},function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__(8).supportsDescriptors,functionsHaveNames=__webpack_require__(242),getPolyfill=__webpack_require__(425),defineProperty=Object.defineProperty,TypeErr=TypeError;module.exports=function shimName(){var polyfill=getPolyfill();if(functionsHaveNames)return polyfill;if(!supportsDescriptors)throw new TypeErr("Shimming Function.prototype.name support requires ES5 property descriptor support.");var functionProto=Function.prototype;return defineProperty(functionProto,"name",{configurable:!0,enumerable:!1,get:function(){var name=polyfill.call(this);return this!==functionProto&&defineProperty(this,"name",{configurable:!0,enumerable:!1,value:name,writable:!1}),name}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var keysShim;if(!Object.keys){var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArgs=__webpack_require__(241),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!excludedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}();keysShim=function keys(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}}(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys}}module.exports=keysShim},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(426);module.exports=function getPolyfill(){return implementation}},function(module,exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(22),functionsHaveNames=__webpack_require__(242),bind=__webpack_require__(9),functionToString=bind.call(Function.call,Function.prototype.toString),stringMatch=bind.call(Function.call,String.prototype.match),classRegex=/^class /,regex=/\s*function\s+([^(\s]*)\s*/,functionProto=Function.prototype;module.exports=function getName(){if(!function isClassConstructor(fn){if(isCallable(fn))return!1;if("function"!=typeof fn)return!1;try{return!!stringMatch(functionToString(fn),classRegex)}catch(e){}return!1}(this)&&!isCallable(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(functionsHaveNames)return this.name;if(this===functionProto)return"";var str=functionToString(this),match=stringMatch(str,regex);return match&&match[1]}},function(module,exports,__webpack_require__){"use strict";var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString;module.exports=function bind(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.call(target))throw new TypeError(ERROR_MESSAGE+target);for(var bound,args=slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))},boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);if(bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(binder),target.prototype){var Empty=function Empty(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(429)(),__webpack_require__(439)},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),getPolyfill=__webpack_require__(430);module.exports=function shimArrayPrototypeIncludes(){var polyfill=getPolyfill();return define(Array.prototype,{includes:polyfill},{includes:function(){return Array.prototype.includes!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(431);module.exports=function getPolyfill(){return Array.prototype.includes||implementation}},function(module,exports,__webpack_require__){"use strict";(function(global){var ES=__webpack_require__(432),$isNaN=Number.isNaN||function isNaN(a){return a!=a},$isFinite=Number.isFinite||function isFinite(n){return"number"==typeof n&&global.isFinite(n)},indexOf=Array.prototype.indexOf;module.exports=function includes(searchElement){var fromIndex=arguments.length>1?ES.ToInteger(arguments[1]):0;if(indexOf&&!$isNaN(searchElement)&&$isFinite(fromIndex)&&void 0!==searchElement)return indexOf.apply(this,arguments)>-1;var O=ES.ToObject(this),length=ES.ToLength(O.length);if(0===length)return!1;for(var k=fromIndex>=0?fromIndex:Math.max(0,length+fromIndex);k<length;){if(ES.SameValueZero(searchElement,O[k]))return!0;k+=1}return!1}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(243)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(434)},function(module,exports,__webpack_require__){"use strict";var hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,isPrimitive=__webpack_require__(244),isCallable=__webpack_require__(22),isDate=__webpack_require__(101),isSymbol=__webpack_require__(102),ordinaryToPrimitive=function OrdinaryToPrimitive(O,hint){if(null==O)throw new TypeError("Cannot call method on "+O);if("string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');var method,result,i,methodNames="string"===hint?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methodNames.length;++i)if(method=O[methodNames[i]],isCallable(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")},GetMethod=function GetMethod(O,P){var func=O[P];if(null!=func){if(!isCallable(func))throw new TypeError(func+" returned for property "+P+" of object "+O+" is not a function");return func}};module.exports=function ToPrimitive(input){if(isPrimitive(input))return input;var exoticToPrim,hint="default";if(arguments.length>1&&(arguments[1]===String?hint="string":arguments[1]===Number&&(hint="number")),hasSymbols&&(Symbol.toPrimitive?exoticToPrim=GetMethod(input,Symbol.toPrimitive):isSymbol(input)&&(exoticToPrim=Symbol.prototype.valueOf)),void 0!==exoticToPrim){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),ordinaryToPrimitive(input,"default"===hint?"number":hint)}},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,exports){module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(65),$Object=GetIntrinsic("%Object%"),$TypeError=GetIntrinsic("%TypeError%"),$String=GetIntrinsic("%String%"),assertRecord=__webpack_require__(245),$isNaN=__webpack_require__(246),$isFinite=__webpack_require__(247),sign=__webpack_require__(248),mod=__webpack_require__(249),IsCallable=__webpack_require__(22),toPrimitive=__webpack_require__(438),has=__webpack_require__(11),ES5={ToPrimitive:toPrimitive,ToBoolean:function ToBoolean(value){return!!value},ToNumber:function ToNumber(value){return+value},ToInteger:function ToInteger(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function ToInt32(x){return this.ToNumber(x)>>0},ToUint32:function ToUint32(x){return this.ToNumber(x)>>>0},ToUint16:function ToUint16(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function ToString(value){return $String(value)},ToObject:function ToObject(value){return this.CheckObjectCoercible(value),$Object(value)},CheckObjectCoercible:function CheckObjectCoercible(value,optMessage){if(null==value)throw new $TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function SameValue(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)},Type:function Type(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0},IsPropertyDescriptor:function IsPropertyDescriptor(Desc){if("Object"!==this.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function IsAccessorDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]")))},IsDataDescriptor:function IsDataDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]")))},IsGenericDescriptor:function IsGenericDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!this.IsAccessorDescriptor(Desc)&&!this.IsDataDescriptor(Desc))},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;if(assertRecord(this,"Property Descriptor","Desc",Desc),this.IsDataDescriptor(Desc))return{value:Desc["[[Value]]"],writable:!!Desc["[[Writable]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};if(this.IsAccessorDescriptor(Desc))return{get:Desc["[[Get]]"],set:Desc["[[Set]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};throw new $TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function ToPropertyDescriptor(Obj){if("Object"!==this.Type(Obj))throw new $TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!this.IsCallable(getter))throw new TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!this.IsCallable(setter))throw new $TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc}};module.exports=ES5},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString,isPrimitive=__webpack_require__(244),isCallable=__webpack_require__(22),ES5internalSlots___DefaultValue__=function(O){var actualHint;if((actualHint=arguments.length>1?arguments[1]:"[object Date]"===toStr.call(O)?String:Number)===String||actualHint===Number){var value,i,methods=actualHint===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methods.length;++i)if(isCallable(O[methods[i]])&&(value=O[methods[i]](),isPrimitive(value)))return value;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};module.exports=function ToPrimitive(input){return isPrimitive(input)?input:arguments.length>1?ES5internalSlots___DefaultValue__(input,arguments[1]):ES5internalSlots___DefaultValue__(input)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(440)(),__webpack_require__(443)(),__webpack_require__(446)(),__webpack_require__(449)(),__webpack_require__(452)(),__webpack_require__(455)},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(441),define=__webpack_require__(8);module.exports=function shimValues(){var polyfill=getPolyfill();return define(Object,{values:polyfill},{values:function testValues(){return Object.values!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(442);module.exports=function getPolyfill(){return"function"==typeof Object.values?Object.values:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(78),has=__webpack_require__(11),isEnumerable=__webpack_require__(9).call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function values(O){var obj=ES.RequireObjectCoercible(O),vals=[];for(var key in obj)has(obj,key)&&isEnumerable(obj,key)&&vals.push(obj[key]);return vals}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(444),define=__webpack_require__(8);module.exports=function shimEntries(){var polyfill=getPolyfill();return define(Object,{entries:polyfill},{entries:function testEntries(){return Object.entries!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(445);module.exports=function getPolyfill(){return"function"==typeof Object.entries?Object.entries:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(78),has=__webpack_require__(11),isEnumerable=__webpack_require__(9).call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function entries(O){var obj=ES.RequireObjectCoercible(O),entrys=[];for(var key in obj)has(obj,key)&&isEnumerable(obj,key)&&entrys.push([key,obj[key]]);return entrys}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(447),define=__webpack_require__(8);module.exports=function shimPadStart(){var polyfill=getPolyfill();return define(String.prototype,{padStart:polyfill},{padStart:function(){return String.prototype.padStart!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(448);module.exports=function getPolyfill(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:implementation}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),ES=__webpack_require__(78),slice=bind.call(Function.call,String.prototype.slice);module.exports=function padStart(maxLength){var fillString,O=ES.RequireObjectCoercible(this),S=ES.ToString(O),stringLength=ES.ToLength(S.length);arguments.length>1&&(fillString=arguments[1]);var filler=void 0===fillString?"":ES.ToString(fillString);""===filler&&(filler=" ");var intMaxLength=ES.ToLength(maxLength);if(intMaxLength<=stringLength)return S;for(var fillLen=intMaxLength-stringLength;filler.length<fillLen;){var fLen=filler.length,remainingCodeUnits=fillLen-fLen;filler+=fLen>remainingCodeUnits?slice(filler,0,remainingCodeUnits):filler}var truncatedStringFiller=filler.length>fillLen?slice(filler,0,fillLen):filler;return truncatedStringFiller+S}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(450),define=__webpack_require__(8);module.exports=function shimPadEnd(){var polyfill=getPolyfill();return define(String.prototype,{padEnd:polyfill},{padEnd:function(){return String.prototype.padEnd!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(451);module.exports=function getPolyfill(){return"function"==typeof String.prototype.padEnd?String.prototype.padEnd:implementation}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),ES=__webpack_require__(78),slice=bind.call(Function.call,String.prototype.slice);module.exports=function padEnd(maxLength){var fillString,O=ES.RequireObjectCoercible(this),S=ES.ToString(O),stringLength=ES.ToLength(S.length);arguments.length>1&&(fillString=arguments[1]);var filler=void 0===fillString?"":ES.ToString(fillString);""===filler&&(filler=" ");var intMaxLength=ES.ToLength(maxLength);if(intMaxLength<=stringLength)return S;for(var fillLen=intMaxLength-stringLength;filler.length<fillLen;){var fLen=filler.length,remainingCodeUnits=fillLen-fLen;filler+=fLen>remainingCodeUnits?slice(filler,0,remainingCodeUnits):filler}var truncatedStringFiller=filler.length>fillLen?slice(filler,0,fillLen):filler;return S+truncatedStringFiller}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(453),define=__webpack_require__(8);module.exports=function shimGetOwnPropertyDescriptors(){var polyfill=getPolyfill();return define(Object,{getOwnPropertyDescriptors:polyfill},{getOwnPropertyDescriptors:function(){return Object.getOwnPropertyDescriptors!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(454);module.exports=function getPolyfill(){return"function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(78),defineProperty=Object.defineProperty,getDescriptor=Object.getOwnPropertyDescriptor,getOwnNames=Object.getOwnPropertyNames,getSymbols=Object.getOwnPropertySymbols,concat=Function.call.bind(Array.prototype.concat),reduce=Function.call.bind(Array.prototype.reduce),getAll=getSymbols?function(obj){return concat(getOwnNames(obj),getSymbols(obj))}:getOwnNames,isES5=ES.IsCallable(getDescriptor)&&ES.IsCallable(getOwnNames);module.exports=function getOwnPropertyDescriptors(value){if(ES.RequireObjectCoercible(value),!isES5)throw new TypeError("getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor");var O=ES.ToObject(value);return reduce(getAll(O),function(acc,key){var descriptor=getDescriptor(O,key);return void 0!==descriptor&&function put(obj,prop,val){defineProperty&&prop in obj?defineProperty(obj,prop,{configurable:!0,enumerable:!0,value:val,writable:!0}):obj[prop]=val}(acc,key,descriptor),acc},{})}},function(module,exports,__webpack_require__){"use strict";"function"==typeof Promise&&__webpack_require__(456),__webpack_require__(460)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(457)()},function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__(159),getPolyfill=__webpack_require__(458),define=__webpack_require__(8);module.exports=function shimPromiseFinally(){requirePromise();var polyfill=getPolyfill();return define(Promise.prototype,{finally:polyfill},{finally:function testFinally(){return Promise.prototype.finally!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__(159),implementation=__webpack_require__(459);module.exports=function getPolyfill(){return requirePromise(),"function"==typeof Promise.prototype.finally?Promise.prototype.finally:implementation}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(159)();var ES=__webpack_require__(251),promiseResolve=function PromiseResolve(C,value){return new C(function(resolve){resolve(value)})},OriginalPromise=Promise,promiseFinally=function finally_(onFinally){if("Object"!==ES.Type(this))throw new TypeError("receiver is not an Object");var C=ES.SpeciesConstructor(this,OriginalPromise),thenFinally=onFinally,catchFinally=onFinally;return ES.IsCallable(onFinally)&&(thenFinally=function CreateThenFinally(C,onFinally){return function(value){var result=onFinally();return promiseResolve(C,result).then(function(){return value})}}(C,onFinally),catchFinally=function CreateCatchFinally(C,onFinally){return function(reason){var result=onFinally();return promiseResolve(C,result).then(function(){throw reason})}}(C,onFinally)),this.then(thenFinally,catchFinally)};if(Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(promiseFinally,"name");descriptor&&descriptor.configurable&&Object.defineProperty(promiseFinally,"name",{configurable:!0,value:"finally"})}module.exports=promiseFinally},function(module,exports,__webpack_require__){"use strict";__webpack_require__(461),__webpack_require__(465),__webpack_require__(487),__webpack_require__(496),__webpack_require__(516)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(462)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),getPolyfill=__webpack_require__(463);module.exports=function shimFlat(){var polyfill=getPolyfill();return define(Array.prototype,{flat:polyfill},{flat:function(){return Array.prototype.flat!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(464);module.exports=function getPolyfill(){return Array.prototype.flat||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(252),MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,FlattenIntoArray=function FlattenIntoArray(target,source,sourceLen,start,depth){for(var targetIndex=start,sourceIndex=0;sourceIndex<sourceLen;){var P=ES.ToString(sourceIndex);if(ES.HasProperty(source,P)){var element=ES.Get(source,P),shouldFlatten=!1;if(depth>0&&(shouldFlatten=ES.IsArray(element)),shouldFlatten){targetIndex=FlattenIntoArray(target,element,ES.ToLength(ES.Get(element,"length")),targetIndex,depth-1)}else{if(targetIndex>=MAX_SAFE_INTEGER)throw new TypeError("index too large");ES.CreateDataPropertyOrThrow(target,ES.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex};module.exports=function flat(){var O=ES.ToObject(this),sourceLen=ES.ToLength(ES.Get(O,"length")),depthNum=1;arguments.length>0&&void 0!==arguments[0]&&(depthNum=ES.ToInteger(arguments[0]));var A=ES.ArraySpeciesCreate(O,0);return FlattenIntoArray(A,O,sourceLen,0,depthNum),A}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(466)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),getPolyfill=__webpack_require__(467);module.exports=function shimFlatMap(){var polyfill=getPolyfill();return define(Array.prototype,{flatMap:polyfill},{flatMap:function(){return Array.prototype.flatMap!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(468);module.exports=function getPolyfill(){return Array.prototype.flatMap||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(469);module.exports=function flatMap(mapperFunction){var T,O=ES.ToObject(this),sourceLen=ES.ToLength(ES.Get(O,"length"));if(!ES.IsCallable(mapperFunction))throw new TypeError("mapperFunction must be a function");arguments.length>1&&(T=arguments[1]);var A=ES.ArraySpeciesCreate(O,0);return ES.FlattenIntoArray(A,O,sourceLen,0,1,mapperFunction,T),A}},function(module,exports,__webpack_require__){"use strict";var trimStart=__webpack_require__(160),trimEnd=__webpack_require__(161),inspect=__webpack_require__(162),ES2018=__webpack_require__(473),assign=__webpack_require__(79),MAX_SAFE_INTEGER=__webpack_require__(261),$TypeError=__webpack_require__(15)("%TypeError%"),ES2019=assign(assign({},ES2018),{AddEntriesFromIterable:function AddEntriesFromIterable(target,iterable,adder){if(!this.IsCallable(adder))throw new $TypeError("Assertion failed: `adder` is not callable");if(null==iterable)throw new $TypeError("Assertion failed: `iterable` is present, and not nullish");for(var iteratorRecord=this.GetIterator(iterable);;){var next=this.IteratorStep(iteratorRecord);if(!next)return target;var nextItem=this.IteratorValue(next);if("Object"!==this.Type(nextItem)){var error=new $TypeError("iterator next must return an Object, got "+inspect(nextItem));return this.IteratorClose(iteratorRecord,function(){throw error})}try{var k=this.Get(nextItem,"0"),v=this.Get(nextItem,"1");this.Call(adder,target,[k,v])}catch(e){return this.IteratorClose(iteratorRecord,function(){throw e})}}},FlattenIntoArray:function FlattenIntoArray(target,source,sourceLen,start,depth){var mapperFunction;arguments.length>5&&(mapperFunction=arguments[5]);for(var targetIndex=start,sourceIndex=0;sourceIndex<sourceLen;){var P=this.ToString(sourceIndex),exists=this.HasProperty(source,P);if(!0===exists){var element=this.Get(source,P);if(void 0!==mapperFunction){if(arguments.length<=6)throw new $TypeError("Assertion failed: thisArg is required when mapperFunction is provided");element=this.Call(mapperFunction,arguments[6],[element,sourceIndex,source])}var shouldFlatten=!1;if(depth>0&&(shouldFlatten=this.IsArray(element)),shouldFlatten){var elementLen=this.ToLength(this.Get(element,"length"));targetIndex=this.FlattenIntoArray(target,element,elementLen,targetIndex,depth-1)}else{if(targetIndex>=MAX_SAFE_INTEGER)throw new $TypeError("index too large");this.CreateDataPropertyOrThrow(target,this.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex},TrimString:function TrimString(string,where){var T,str=this.RequireObjectCoercible(string),S=this.ToString(str);if("start"===where)T=trimStart(S);else if("end"===where)T=trimEnd(S);else{if("start+end"!==where)throw new $TypeError('Assertion failed: invalid `where` value; must be "start", "end", or "start+end"');T=trimStart(trimEnd(S))}return T}});module.exports=ES2019},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),getPolyfill=__webpack_require__(255);module.exports=function shimTrimLeft(){var polyfill=getPolyfill();return define(String.prototype,{trimLeft:polyfill},{trimLeft:function(){return String.prototype.trimLeft!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),getPolyfill=__webpack_require__(257);module.exports=function shimTrimRight(){var polyfill=getPolyfill();return define(String.prototype,{trimRight:polyfill},{trimRight:function(){return String.prototype.trimRight!==polyfill}}),polyfill}},,function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),keys=__webpack_require__(38),inspect=__webpack_require__(162),ES2017=__webpack_require__(475),assign=__webpack_require__(79),forEach=__webpack_require__(165),callBind=__webpack_require__(104),every=__webpack_require__(166),isPrefixOf=__webpack_require__(268),$String=GetIntrinsic("%String%"),$TypeError=GetIntrinsic("%TypeError%"),callBound=__webpack_require__(49),regexTester=__webpack_require__(265),$isNaN=__webpack_require__(164),$SymbolValueOf=callBound("Symbol.prototype.valueOf",!0),$strSlice=callBound("String.prototype.slice"),$indexOf=callBound("String.prototype.indexOf"),$parseInt=parseInt,isDigit=regexTester(/^[0-9]$/),$PromiseResolve=callBound("Promise.resolve",!0),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),$pushApply=callBind.apply(GetIntrinsic("%Array.prototype.push%")),$gOPS=$SymbolValueOf?GetIntrinsic("%Object.getOwnPropertySymbols%"):null,padTimeComponent=function padTimeComponent(c,count){return $strSlice("00"+c,-(count||2))},weekdays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ES2018=assign(assign({},ES2017),{EnumerableOwnPropertyNames:ES2017.EnumerableOwnProperties,thisSymbolValue:function thisSymbolValue(value){if(!$SymbolValueOf)throw new SyntaxError("Symbols are not supported; thisSymbolValue requires that `value` be a Symbol or a Symbol object");return"Symbol"===this.Type(value)?value:$SymbolValueOf(value)},IsStringPrefix:function IsStringPrefix(p,q){if("String"!==this.Type(p))throw new TypeError('Assertion failed: "p" must be a String');if("String"!==this.Type(q))throw new TypeError('Assertion failed: "q" must be a String');return isPrefixOf(p,q)},NumberToString:function NumberToString(m){if("Number"!==this.Type(m))throw new TypeError('Assertion failed: "m" must be a String');return $String(m)},CopyDataProperties:function CopyDataProperties(target,source,excludedItems){if("Object"!==this.Type(target))throw new TypeError('Assertion failed: "target" must be an Object');if(!this.IsArray(excludedItems))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');for(var i=0;i<excludedItems.length;i+=1)if(!this.IsPropertyKey(excludedItems[i]))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');if(null==source)return target;var ES=this,fromObj=ES.ToObject(source),sourceKeys=function OwnPropertyKeys(ES,source){var ownKeys=keys(source);return $gOPS&&$pushApply(ownKeys,$gOPS(source)),ownKeys}(0,fromObj);return forEach(sourceKeys,function(nextKey){var excluded=!1;forEach(excludedItems,function(e){!0===ES.SameValue(e,nextKey)&&(excluded=!0)});var enumerable=$isEnumerable(fromObj,nextKey)||"string"==typeof source&&nextKey>=0&&ES.IsInteger(ES.ToNumber(nextKey));if(!1===excluded&&enumerable){var propValue=ES.Get(fromObj,nextKey);ES.CreateDataProperty(target,nextKey,propValue)}}),target},PromiseResolve:function PromiseResolve(C,x){if(!$PromiseResolve)throw new SyntaxError("This environment does not support Promises.");return $PromiseResolve(C,x)},GetSubstitution:function GetSubstitution(matched,str,position,captures,namedCaptures,replacement){if("String"!==this.Type(matched))throw new $TypeError("Assertion failed: `matched` must be a String");var matchLength=matched.length;if("String"!==this.Type(str))throw new $TypeError("Assertion failed: `str` must be a String");var stringLength=str.length;if(!this.IsInteger(position)||position<0||position>stringLength)throw new $TypeError("Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got "+inspect(position));var ES=this;if(!this.IsArray(captures)||!every(captures,function(capture,index,arr){return"String"===ES.Type(capture)||!(index in arr)}))throw new $TypeError("Assertion failed: `captures` must be a List of Strings, got "+inspect(captures));if("String"!==this.Type(replacement))throw new $TypeError("Assertion failed: `replacement` must be a String");var tailPos=position+matchLength,m=captures.length;"Undefined"!==this.Type(namedCaptures)&&(namedCaptures=this.ToObject(namedCaptures));for(var result="",i=0;i<replacement.length;i+=1){var current=replacement[i],isLast=i+1>=replacement.length,nextIsLast=i+2>=replacement.length;if("$"!==current||isLast)result+=replacement[i];else{var next=replacement[i+1];if("$"===next)result+="$",i+=1;else if("&"===next)result+=matched,i+=1;else if("`"===next)result+=0===position?"":$strSlice(str,0,position-1),i+=1;else if("'"===next)result+=tailPos>=stringLength?"":$strSlice(str,tailPos),i+=1;else{var nextNext=nextIsLast?null:replacement[i+2];if(!isDigit(next)||"0"===next||!nextIsLast&&isDigit(nextNext))if(isDigit(next)&&(nextIsLast||isDigit(nextNext))){var nn=next+nextNext,nnI=$parseInt(nn,10)-1;result+=nn<=m&&"Undefined"===this.Type(captures[nnI])?"":captures[nnI],i+=2}else if("<"===next)if("Undefined"===this.Type(namedCaptures))result+="$<",i+=2;else{var endIndex=$indexOf(replacement,">",i);if(endIndex>-1){var groupName=$strSlice(replacement,i,endIndex),capture=this.Get(namedCaptures,groupName);"Undefined"!==this.Type(capture)&&(result+=this.ToString(capture)),i+="$<"+groupName+">".length}}else result+="$";else{var n=$parseInt(next,10);result+=n<=m&&"Undefined"===this.Type(captures[n-1])?"":captures[n-1],i+=1}}}}return result},DateString:function DateString(tv){if("Number"!==this.Type(tv)||$isNaN(tv))throw new $TypeError("Assertion failed: `tv` must be a non-NaN Number");return weekdays[this.WeekDay(tv)]+" "+months[this.MonthFromTime(tv)]+" "+padTimeComponent(this.DateFromTime(tv))+" "+padTimeComponent(this.YearFromTime(tv),4)},TimeString:function TimeString(tv){if("Number"!==this.Type(tv)||$isNaN(tv))throw new $TypeError("Assertion failed: `tv` must be a non-NaN Number");var hour=this.HourFromTime(tv),minute=this.MinFromTime(tv),second=this.SecFromTime(tv);return padTimeComponent(hour)+":"+padTimeComponent(minute)+":"+padTimeComponent(second)+" GMT"}});delete ES2018.EnumerableOwnProperties,delete ES2018.IsPropertyDescriptor,module.exports=ES2018},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),ES2016=__webpack_require__(476),assign=__webpack_require__(79),forEach=__webpack_require__(165),callBind=__webpack_require__(104),$TypeError=GetIntrinsic("%TypeError%"),callBound=__webpack_require__(49),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),$pushApply=callBind.apply(GetIntrinsic("%Array.prototype.push%")),$arrayPush=callBound("Array.prototype.push"),ES2017=assign(assign({},ES2016),{ToIndex:function ToIndex(value){if(void 0===value)return 0;var integerIndex=this.ToInteger(value);if(integerIndex<0)throw new RangeError("index must be >= 0");var index=this.ToLength(integerIndex);if(!this.SameValueZero(integerIndex,index))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return index},EnumerableOwnProperties:function EnumerableOwnProperties(O,kind){var keys=ES2016.EnumerableOwnNames(O);if("key"===kind)return keys;if("value"===kind||"key+value"===kind){var results=[];return forEach(keys,function(key){$isEnumerable(O,key)&&$pushApply(results,["value"===kind?O[key]:[key,O[key]]])}),results}throw new $TypeError('Assertion failed: "kind" is not "key", "value", or "key+value": '+kind)},IterableToList:function IterableToList(items,method){for(var iterator=this.GetIterator(items,method),values=[],next=!0;next;)if(next=this.IteratorStep(iterator)){var nextValue=this.IteratorValue(next);$arrayPush(values,nextValue)}return values}});delete ES2017.EnumerableOwnNames,delete ES2017.IterableToArrayLike,module.exports=ES2017},function(module,exports,__webpack_require__){"use strict";var ES2015=__webpack_require__(477),GetIntrinsic=__webpack_require__(15),assign=__webpack_require__(79),$setProto=__webpack_require__(267),callBound=__webpack_require__(49),getIteratorMethod=__webpack_require__(266),$TypeError=GetIntrinsic("%TypeError%"),$arrayPush=callBound("Array.prototype.push"),$getProto=__webpack_require__(486),ES2016=assign(assign({},ES2015),{SameValueNonNumber:function SameValueNonNumber(x,y){if("number"==typeof x||typeof x!=typeof y)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(x,y)},IterableToArrayLike:function IterableToArrayLike(items){var usingIterator=getIteratorMethod(this,items);if(void 0!==usingIterator){for(var iterator=this.GetIterator(items,usingIterator),values=[],next=!0;next;)if(next=this.IteratorStep(iterator)){var nextValue=this.IteratorValue(next);$arrayPush(values,nextValue)}return values}return this.ToObject(items)},OrdinaryGetPrototypeOf:function(O){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!$getProto)throw new $TypeError("This environment does not support fetching prototypes.");return $getProto(O)},OrdinarySetPrototypeOf:function(O,V){if("Object"!==this.Type(V)&&"Null"!==this.Type(V))throw new $TypeError("Assertion failed: V must be Object or Null");try{$setProto(O,V)}catch(e){return!1}return this.OrdinaryGetPrototypeOf(O)===V}});module.exports=ES2016},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(11),toPrimitive=__webpack_require__(478),keys=__webpack_require__(38),inspect=__webpack_require__(162),GetIntrinsic=__webpack_require__(15),$TypeError=GetIntrinsic("%TypeError%"),$RangeError=GetIntrinsic("%RangeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),$Array=GetIntrinsic("%Array%"),$ArrayPrototype=$Array.prototype,$String=GetIntrinsic("%String%"),$Object=GetIntrinsic("%Object%"),$Number=GetIntrinsic("%Number%"),$Symbol=GetIntrinsic("%Symbol%",!0),$RegExp=GetIntrinsic("%RegExp%"),$Date=GetIntrinsic("%Date%"),$Function=GetIntrinsic("%Function%"),$preventExtensions=$Object.preventExtensions,hasSymbols=__webpack_require__(163)(),assertRecord=__webpack_require__(259),$isNaN=__webpack_require__(164),$isFinite=__webpack_require__(260),MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_SAFE_INTEGER=__webpack_require__(261),assign=__webpack_require__(79),sign=__webpack_require__(262),mod=__webpack_require__(263),isPrimitive=__webpack_require__(480),forEach=__webpack_require__(165),every=__webpack_require__(166),isSamePropertyDescriptor=__webpack_require__(481),isPropertyDescriptor=__webpack_require__(264),parseInteger=parseInt,callBound=__webpack_require__(49),regexTester=__webpack_require__(265),getIteratorMethod=__webpack_require__(266),getSymbolDescription=__webpack_require__(482),$PromiseThen=callBound("Promise.prototype.then",!0),arraySlice=callBound("Array.prototype.slice"),strSlice=callBound("String.prototype.slice"),$indexOf=callBound("Array.prototype.indexOf"),$push=callBound("Array.prototype.push"),isBinary=regexTester(/^0b[01]+$/i),isOctal=regexTester(/^0o[0-7]+$/i),isDigit=regexTester(/^[0-9]$/),regexExec=callBound("RegExp.prototype.exec"),hasNonWS=regexTester(new $RegExp("["+["","",""].join("")+"]","g")),isInvalidHexLiteral=regexTester(/^[-+]0x[0-9a-f]+$/i),$charCodeAt=callBound("String.prototype.charCodeAt"),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),toStr=callBound("Object.prototype.toString"),$NumberValueOf=callBound("Number.prototype.valueOf"),$BooleanValueOf=callBound("Boolean.prototype.valueOf"),$StringValueOf=callBound("String.prototype.valueOf"),$DateValueOf=callBound("Date.prototype.valueOf"),$SymbolToString=callBound("Symbol.prototype.toString",!0),$floor=Math.floor,$abs=Math.abs,$ObjectCreate=$Object.create,$gOPD=$Object.getOwnPropertyDescriptor,$gOPN=$Object.getOwnPropertyNames,$gOPS=$Object.getOwnPropertySymbols,$isExtensible=$Object.isExtensible,$defineProperty=$Object.defineProperty,$setProto=__webpack_require__(267),DefineOwnProperty=function DefineOwnProperty(ES,O,P,desc){if(!$defineProperty){if(!ES.IsDataDescriptor(desc))return!1;if(!desc["[[Configurable]]"]||!desc["[[Writable]]"])return!1;if(P in O&&$isEnumerable(O,P)!==!!desc["[[Enumerable]]"])return!1;var V=desc["[[Value]]"];return O[P]=V,ES.SameValue(O[P],V)}return $defineProperty(O,P,ES.FromPropertyDescriptor(desc)),!0},ws=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),$replace=callBound("String.prototype.replace"),ES5=__webpack_require__(484),hasRegExpMatcher=__webpack_require__(77),ES6=assign(assign({},ES5),{Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!this.IsCallable(F))throw new $TypeError(inspect(F)+" is not a function");return F.apply(V,args)},ToPrimitive:toPrimitive,ToNumber:function ToNumber(argument){var value=isPrimitive(argument)?argument:toPrimitive(argument,$Number);if("symbol"==typeof value)throw new $TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return this.ToNumber(parseInteger(strSlice(value,2),2));if(isOctal(value))return this.ToNumber(parseInteger(strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=function(value){return $replace(value,trimRegex,"")}(value);if(trimmed!==value)return this.ToNumber(trimmed)}return $Number(value)},ToInt16:function ToInt16(argument){var int16bit=this.ToUint16(argument);return int16bit>=32768?int16bit-65536:int16bit},ToInt8:function ToInt8(argument){var int8bit=this.ToUint8(argument);return int8bit>=128?int8bit-256:int8bit},ToUint8:function ToUint8(argument){var number=this.ToNumber(argument);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*$floor($abs(number));return mod(posInt,256)},ToUint8Clamp:function ToUint8Clamp(argument){var number=this.ToNumber(argument);if($isNaN(number)||number<=0)return 0;if(number>=255)return 255;var f=$floor(argument);return f+.5<number?f+1:number<f+.5?f:f%2!=0?f+1:f},ToString:function ToString(argument){if("symbol"==typeof argument)throw new $TypeError("Cannot convert a Symbol value to a string");return $String(argument)},ToObject:function ToObject(value){return this.RequireObjectCoercible(value),$Object(value)},ToPropertyKey:function ToPropertyKey(argument){var key=this.ToPrimitive(argument,$String);return"symbol"==typeof key?key:this.ToString(key)},ToLength:function ToLength(argument){var len=this.ToInteger(argument);return len<=0?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len},CanonicalNumericIndexString:function CanonicalNumericIndexString(argument){if("[object String]"!==toStr(argument))throw new $TypeError("must be a string");if("-0"===argument)return-0;var n=this.ToNumber(argument);return this.SameValue(this.ToString(n),argument)?n:void 0},RequireObjectCoercible:ES5.CheckObjectCoercible,IsArray:$Array.isArray||function IsArray(argument){return"[object Array]"===toStr(argument)},IsConstructor:function IsConstructor(argument){return"function"==typeof argument&&!!argument.prototype},IsExtensible:$preventExtensions?function IsExtensible(obj){return!isPrimitive(obj)&&$isExtensible(obj)}:function isExtensible(obj){return!0},IsInteger:function IsInteger(argument){if("number"!=typeof argument||$isNaN(argument)||!$isFinite(argument))return!1;var abs=$abs(argument);return $floor(abs)===abs},IsPropertyKey:function IsPropertyKey(argument){return"string"==typeof argument||"symbol"==typeof argument},IsRegExp:function IsRegExp(argument){if(!argument||"object"!=typeof argument)return!1;if(hasSymbols){var isRegExp=argument[$Symbol.match];if(void 0!==isRegExp)return ES5.ToBoolean(isRegExp)}return hasRegExpMatcher(argument)},SameValueZero:function SameValueZero(x,y){return x===y||$isNaN(x)&&$isNaN(y)},GetV:function GetV(V,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(V)[P]},GetMethod:function GetMethod(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var func=this.GetV(O,P);if(null!=func){if(!this.IsCallable(func))throw new $TypeError(P+"is not a function");return func}},Get:function Get(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true, got "+inspect(P));return O[P]},Type:function Type(x){return"symbol"==typeof x?"Symbol":ES5.Type(x)},SpeciesConstructor:function SpeciesConstructor(O,defaultConstructor){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var C=O.constructor;if(void 0===C)return defaultConstructor;if("Object"!==this.Type(C))throw new $TypeError("O.constructor is not an Object");var S=hasSymbols&&$Symbol.species?C[$Symbol.species]:void 0;if(null==S)return defaultConstructor;if(this.IsConstructor(S))return S;throw new $TypeError("no constructor found")},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;assertRecord(this,"Property Descriptor","Desc",Desc);var obj={};return"[[Value]]"in Desc&&(obj.value=Desc["[[Value]]"]),"[[Writable]]"in Desc&&(obj.writable=Desc["[[Writable]]"]),"[[Get]]"in Desc&&(obj.get=Desc["[[Get]]"]),"[[Set]]"in Desc&&(obj.set=Desc["[[Set]]"]),"[[Enumerable]]"in Desc&&(obj.enumerable=Desc["[[Enumerable]]"]),"[[Configurable]]"in Desc&&(obj.configurable=Desc["[[Configurable]]"]),obj},CompletePropertyDescriptor:function CompletePropertyDescriptor(Desc){return assertRecord(this,"Property Descriptor","Desc",Desc),this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc)?(has(Desc,"[[Value]]")||(Desc["[[Value]]"]=void 0),has(Desc,"[[Writable]]")||(Desc["[[Writable]]"]=!1)):(has(Desc,"[[Get]]")||(Desc["[[Get]]"]=void 0),has(Desc,"[[Set]]")||(Desc["[[Set]]"]=void 0)),has(Desc,"[[Enumerable]]")||(Desc["[[Enumerable]]"]=!1),has(Desc,"[[Configurable]]")||(Desc["[[Configurable]]"]=!1),Desc},Set:function Set(O,P,V,Throw){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");if("Boolean"!==this.Type(Throw))throw new $TypeError("Throw must be a Boolean");if(Throw)return O[P]=V,!0;try{O[P]=V}catch(e){return!1}},HasOwnProperty:function HasOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return has(O,P)},HasProperty:function HasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return P in O},IsConcatSpreadable:function IsConcatSpreadable(O){if("Object"!==this.Type(O))return!1;if(hasSymbols&&"symbol"==typeof $Symbol.isConcatSpreadable){var spreadable=this.Get(O,Symbol.isConcatSpreadable);if(void 0!==spreadable)return this.ToBoolean(spreadable)}return this.IsArray(O)},Invoke:function Invoke(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");var argumentsList=arraySlice(arguments,2),func=this.GetV(O,P);return this.Call(func,O,argumentsList)},GetIterator:function GetIterator(obj,method){var actualMethod=method;arguments.length<2&&(actualMethod=getIteratorMethod(this,obj));var iterator=this.Call(actualMethod,obj);if("Object"!==this.Type(iterator))throw new $TypeError("iterator must return an object");return iterator},IteratorNext:function IteratorNext(iterator,value){var result=this.Invoke(iterator,"next",arguments.length<2?[]:[value]);if("Object"!==this.Type(result))throw new $TypeError("iterator next must return an object");return result},IteratorComplete:function IteratorComplete(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(iterResult,"done"))},IteratorValue:function IteratorValue(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.Get(iterResult,"value")},IteratorStep:function IteratorStep(iterator){var result=this.IteratorNext(iterator);return!0!==this.IteratorComplete(result)&&result},IteratorClose:function IteratorClose(iterator,completion){if("Object"!==this.Type(iterator))throw new $TypeError("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(completion))throw new $TypeError("Assertion failed: completion is not a thunk for a Completion Record");var completionRecord,completionThunk=completion,iteratorReturn=this.GetMethod(iterator,"return");if(void 0===iteratorReturn)return completionThunk();try{var innerResult=this.Call(iteratorReturn,iterator,[])}catch(e){throw completionRecord=completionThunk(),completionThunk=null,e}if(completionRecord=completionThunk(),completionThunk=null,"Object"!==this.Type(innerResult))throw new $TypeError("iterator .return must return an object");return completionRecord},CreateIterResultObject:function CreateIterResultObject(value,done){if("Boolean"!==this.Type(done))throw new $TypeError("Assertion failed: Type(done) is not Boolean");return{value:value,done:done}},RegExpExec:function RegExpExec(R,S){if("Object"!==this.Type(R))throw new $TypeError("R must be an Object");if("String"!==this.Type(S))throw new $TypeError("S must be a String");var exec=this.Get(R,"exec");if(this.IsCallable(exec)){var result=this.Call(exec,R,[S]);if(null===result||"Object"===this.Type(result))return result;throw new $TypeError('"exec" method must return `null` or an Object')}return regexExec(R,S)},ArraySpeciesCreate:function ArraySpeciesCreate(originalArray,length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: length must be an integer >= 0");var C,len=0===length?0:length;if(this.IsArray(originalArray)&&(C=this.Get(originalArray,"constructor"),"Object"===this.Type(C)&&hasSymbols&&$Symbol.species&&null===(C=this.Get(C,$Symbol.species))&&(C=void 0)),void 0===C)return $Array(len);if(!this.IsConstructor(C))throw new $TypeError("C must be a constructor");return new C(len)},CreateDataProperty:function CreateDataProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var oldDesc=$gOPD(O,P),extensible=oldDesc||this.IsExtensible(O);return!(oldDesc&&(!oldDesc.writable||!oldDesc.configurable)||!extensible)&&DefineOwnProperty(this,O,P,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":V,"[[Writable]]":!0})},CreateDataPropertyOrThrow:function CreateDataPropertyOrThrow(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=this.CreateDataProperty(O,P,V);if(!success)throw new $TypeError("unable to create data property");return success},ObjectCreate:function ObjectCreate(proto,internalSlotsList){if(null!==proto&&"Object"!==this.Type(proto))throw new $TypeError("Assertion failed: proto must be null or an object");var slots=arguments.length<2?[]:internalSlotsList;if(slots.length>0)throw new $SyntaxError("es-abstract does not yet support internal slots");if(null===proto&&!$ObjectCreate)throw new $SyntaxError("native Object.create support is required to create null objects");return $ObjectCreate(proto)},AdvanceStringIndex:function AdvanceStringIndex(S,index,unicode){if("String"!==this.Type(S))throw new $TypeError("S must be a String");if(!this.IsInteger(index)||index<0||index>MAX_SAFE_INTEGER)throw new $TypeError("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(unicode))throw new $TypeError("Assertion failed: unicode must be a Boolean");if(!unicode)return index+1;if(index+1>=S.length)return index+1;var first=$charCodeAt(S,index);if(first<55296||first>56319)return index+1;var second=$charCodeAt(S,index+1);return second<56320||second>57343?index+1:index+2},CreateMethodProperty:function CreateMethodProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return DefineOwnProperty(this,O,P,{"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":V,"[[Writable]]":!0})},DefinePropertyOrThrow:function DefinePropertyOrThrow(O,P,desc){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var Desc=isPropertyDescriptor(this,desc)?desc:this.ToPropertyDescriptor(desc);if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc is not a valid Property Descriptor");return DefineOwnProperty(this,O,P,Desc)},DeletePropertyOrThrow:function DeletePropertyOrThrow(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=delete O[P];if(!success)throw new TypeError("Attempt to delete property failed.");return success},EnumerableOwnNames:function EnumerableOwnNames(O){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");return keys(O)},thisNumberValue:function thisNumberValue(value){return"Number"===this.Type(value)?value:$NumberValueOf(value)},thisBooleanValue:function thisBooleanValue(value){return"Boolean"===this.Type(value)?value:$BooleanValueOf(value)},thisStringValue:function thisStringValue(value){return"String"===this.Type(value)?value:$StringValueOf(value)},thisTimeValue:function thisTimeValue(value){return $DateValueOf(value)},SetIntegrityLevel:function SetIntegrityLevel(O,level){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("sealed"!==level&&"frozen"!==level)throw new $TypeError('Assertion failed: `level` must be `"sealed"` or `"frozen"`');if(!$preventExtensions)throw new $SyntaxError("SetIntegrityLevel requires native `Object.preventExtensions` support");if(!$preventExtensions(O))return!1;if(!$gOPN)throw new $SyntaxError("SetIntegrityLevel requires native `Object.getOwnPropertyNames` support");var theKeys=$gOPN(O),ES=this;return"sealed"===level?forEach(theKeys,function(k){ES.DefinePropertyOrThrow(O,k,{configurable:!1})}):"frozen"===level&&forEach(theKeys,function(k){var desc,currentDesc=$gOPD(O,k);void 0!==currentDesc&&(desc=ES.IsAccessorDescriptor(ES.ToPropertyDescriptor(currentDesc))?{configurable:!1}:{configurable:!1,writable:!1},ES.DefinePropertyOrThrow(O,k,desc))}),!0},TestIntegrityLevel:function TestIntegrityLevel(O,level){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("sealed"!==level&&"frozen"!==level)throw new $TypeError('Assertion failed: `level` must be `"sealed"` or `"frozen"`');if(this.IsExtensible(O))return!1;var theKeys=$gOPN(O),ES=this;return 0===theKeys.length||every(theKeys,function(k){var currentDesc=$gOPD(O,k);if(void 0!==currentDesc){if(currentDesc.configurable)return!1;if("frozen"===level&&ES.IsDataDescriptor(ES.ToPropertyDescriptor(currentDesc))&&currentDesc.writable)return!1}return!0})},OrdinaryHasInstance:function OrdinaryHasInstance(C,O){if(!1===this.IsCallable(C))return!1;if("Object"!==this.Type(O))return!1;var P=this.Get(C,"prototype");if("Object"!==this.Type(P))throw new $TypeError("OrdinaryHasInstance called on an object with an invalid prototype property.");return O instanceof C},OrdinaryHasProperty:function OrdinaryHasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");return P in O},InstanceofOperator:function InstanceofOperator(O,C){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var instOfHandler=hasSymbols&&$Symbol.hasInstance?this.GetMethod(C,$Symbol.hasInstance):void 0;if(void 0!==instOfHandler)return this.ToBoolean(this.Call(instOfHandler,C,[O]));if(!this.IsCallable(C))throw new $TypeError("`C` is not Callable");return this.OrdinaryHasInstance(C,O)},IsPromise:function IsPromise(x){if("Object"!==this.Type(x))return!1;if(!$PromiseThen)return!1;try{$PromiseThen(x)}catch(e){return!1}return!0},"Abstract Equality Comparison":function AbstractEqualityComparison(x,y){var xType=this.Type(x),yType=this.Type(y);return xType===yType?x===y:null==x&&null==y||("Number"===xType&&"String"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"===xType&&"Number"===yType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===xType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"!==xType&&"Number"!==xType&&"Symbol"!==xType||"Object"!==yType?"Object"===xType&&("String"===yType||"Number"===yType||"Symbol"===yType)&&this["Abstract Equality Comparison"](this.ToPrimitive(x),y):this["Abstract Equality Comparison"](x,this.ToPrimitive(y)))},ValidateAndApplyPropertyDescriptor:function ValidateAndApplyPropertyDescriptor(O,P,extensible,Desc,current){var oType=this.Type(O);if("Undefined"!==oType&&"Object"!==oType)throw new $TypeError("Assertion failed: O must be undefined or an Object");if("Boolean"!==this.Type(extensible))throw new $TypeError("Assertion failed: extensible must be a Boolean");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");if("Undefined"!==this.Type(current)&&!isPropertyDescriptor(this,current))throw new $TypeError("Assertion failed: current must be a Property Descriptor, or undefined");if("Undefined"!==oType&&!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: if O is not undefined, P must be a Property Key");if("Undefined"===this.Type(current)){if(!extensible)return!1;if(this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc))"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":Desc["[[Configurable]]"],"[[Enumerable]]":Desc["[[Enumerable]]"],"[[Value]]":Desc["[[Value]]"],"[[Writable]]":Desc["[[Writable]]"]});else{if(!this.IsAccessorDescriptor(Desc))throw new $TypeError("Assertion failed: Desc is not an accessor descriptor");if("Undefined"!==oType)return DefineOwnProperty(this,O,P,Desc)}return!0}if(this.IsGenericDescriptor(Desc)&&!("[[Configurable]]"in Desc)&&!("[[Enumerable]]"in Desc))return!0;if(isSamePropertyDescriptor(this,Desc,current))return!0;if(!current["[[Configurable]]"]){if(Desc["[[Configurable]]"])return!1;if("[[Enumerable]]"in Desc&&!Desc["[[Enumerable]]"]==!!current["[[Enumerable]]"])return!1}if(this.IsGenericDescriptor(Desc));else if(this.IsDataDescriptor(current)!==this.IsDataDescriptor(Desc)){if(!current["[[Configurable]]"])return!1;this.IsDataDescriptor(current)?"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":current["[[Configurable]]"],"[[Enumerable]]":current["[[Enumerable]]"],"[[Get]]":void 0}):"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":current["[[Configurable]]"],"[[Enumerable]]":current["[[Enumerable]]"],"[[Value]]":void 0})}else if(this.IsDataDescriptor(current)&&this.IsDataDescriptor(Desc)){if(!current["[[Configurable]]"]&&!current["[[Writable]]"])return!("[[Writable]]"in Desc&&Desc["[[Writable]]"])&&!("[[Value]]"in Desc&&!this.SameValue(Desc["[[Value]]"],current["[[Value]]"]))}else{if(!this.IsAccessorDescriptor(current)||!this.IsAccessorDescriptor(Desc))throw new $TypeError("Assertion failed: current and Desc are not both data, both accessors, or one accessor and one data.");if(!current["[[Configurable]]"])return!("[[Set]]"in Desc&&!this.SameValue(Desc["[[Set]]"],current["[[Set]]"]))&&!("[[Get]]"in Desc&&!this.SameValue(Desc["[[Get]]"],current["[[Get]]"]))}return"Undefined"===oType||DefineOwnProperty(this,O,P,Desc)},OrdinaryDefineOwnProperty:function OrdinaryDefineOwnProperty(O,P,Desc){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");var desc=$gOPD(O,P),current=desc&&this.ToPropertyDescriptor(desc),extensible=this.IsExtensible(O);return this.ValidateAndApplyPropertyDescriptor(O,P,extensible,Desc,current)},OrdinaryGetOwnProperty:function OrdinaryGetOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");if(has(O,P)){if(!$gOPD){var arrayLength=this.IsArray(O)&&"length"===P,regexLastIndex=this.IsRegExp(O)&&"lastIndex"===P;return{"[[Configurable]]":!(arrayLength||regexLastIndex),"[[Enumerable]]":$isEnumerable(O,P),"[[Value]]":O[P],"[[Writable]]":!0}}return this.ToPropertyDescriptor($gOPD(O,P))}},ArrayCreate:function ArrayCreate(length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: `length` must be an integer Number >= 0");if(length>MAX_ARRAY_LENGTH)throw new $RangeError("length is greater than (2**32 - 1)");var proto=arguments.length>1?arguments[1]:$ArrayPrototype,A=[];if(proto!==$ArrayPrototype){if(!$setProto)throw new $SyntaxError("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");$setProto(A,proto)}return 0!==length&&(A.length=length),A},ArraySetLength:function ArraySetLength(A,Desc){if(!this.IsArray(A))throw new $TypeError("Assertion failed: A must be an Array");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");if(!("[[Value]]"in Desc))return this.OrdinaryDefineOwnProperty(A,"length",Desc);var newLenDesc=assign({},Desc),newLen=this.ToUint32(Desc["[[Value]]"]);if(newLen!==this.ToNumber(Desc["[[Value]]"]))throw new $RangeError("Invalid array length");newLenDesc["[[Value]]"]=newLen;var oldLenDesc=this.OrdinaryGetOwnProperty(A,"length");if(!this.IsDataDescriptor(oldLenDesc))throw new $TypeError("Assertion failed: an array had a non-data descriptor on `length`");var newWritable,oldLen=oldLenDesc["[[Value]]"];if(newLen>=oldLen)return this.OrdinaryDefineOwnProperty(A,"length",newLenDesc);if(!oldLenDesc["[[Writable]]"])return!1;if("[[Writable]]"in newLenDesc&&!newLenDesc["[[Writable]]"]?(newWritable=!1,newLenDesc["[[Writable]]"]=!0):newWritable=!0,!this.OrdinaryDefineOwnProperty(A,"length",newLenDesc))return!1;for(;newLen<oldLen;){if(oldLen-=1,!delete A[this.ToString(oldLen)]&&(newLenDesc["[[Value]]"]=oldLen+1,!newWritable))return newLenDesc["[[Writable]]"]=!1,this.OrdinaryDefineOwnProperty(A,"length",newLenDesc),!1}return!!newWritable||this.OrdinaryDefineOwnProperty(A,"length",{"[[Writable]]":!1})},CreateHTML:function CreateHTML(string,tag,attribute,value){if("String"!==this.Type(tag)||"String"!==this.Type(attribute))throw new $TypeError("Assertion failed: `tag` and `attribute` must be strings");var str=this.RequireObjectCoercible(string),S=this.ToString(str),p1="<"+tag;if(""!==attribute){var V=this.ToString(value);p1+=" "+attribute+'="'+$replace(V,/\x22/g,"&quot;")+'"'}return p1+">"+S+"</"+tag+">"},GetOwnPropertyKeys:function GetOwnPropertyKeys(O,Type){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("Symbol"===Type)return hasSymbols&&$gOPS?$gOPS(O):[];if("String"===Type)return $gOPN?$gOPN(O):keys(O);throw new $TypeError('Assertion failed: `Type` must be `"String"` or `"Symbol"`')},SymbolDescriptiveString:function SymbolDescriptiveString(sym){if("Symbol"!==this.Type(sym))throw new $TypeError("Assertion failed: `sym` must be a Symbol");return $SymbolToString(sym)},GetSubstitution:function GetSubstitution(matched,str,position,captures,replacement){if("String"!==this.Type(matched))throw new $TypeError("Assertion failed: `matched` must be a String");var matchLength=matched.length;if("String"!==this.Type(str))throw new $TypeError("Assertion failed: `str` must be a String");var stringLength=str.length;if(!this.IsInteger(position)||position<0||position>stringLength)throw new $TypeError("Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got "+inspect(position));var ES=this;if(!this.IsArray(captures)||!every(captures,function(capture,index,arr){return"String"===ES.Type(capture)||!(index in arr)}))throw new $TypeError("Assertion failed: `captures` must be a List of Strings, got "+inspect(captures));if("String"!==this.Type(replacement))throw new $TypeError("Assertion failed: `replacement` must be a String");for(var tailPos=position+matchLength,m=captures.length,result="",i=0;i<replacement.length;i+=1){var current=replacement[i],isLast=i+1>=replacement.length,nextIsLast=i+2>=replacement.length;if("$"!==current||isLast)result+=replacement[i];else{var next=replacement[i+1];if("$"===next)result+="$",i+=1;else if("&"===next)result+=matched,i+=1;else if("`"===next)result+=0===position?"":strSlice(str,0,position-1),i+=1;else if("'"===next)result+=tailPos>=stringLength?"":strSlice(str,tailPos),i+=1;else{var nextNext=nextIsLast?null:replacement[i+2];if(!isDigit(next)||"0"===next||!nextIsLast&&isDigit(nextNext))if(isDigit(next)&&(nextIsLast||isDigit(nextNext))){var nn=next+nextNext,nnI=parseInteger(nn,10)-1;result+=nn<=m&&"Undefined"===this.Type(captures[nnI])?"":captures[nnI],i+=2}else result+="$";else{var n=parseInteger(next,10);result+=n<=m&&"Undefined"===this.Type(captures[n-1])?"":captures[n-1],i+=1}}}}return result},ToDateString:function ToDateString(tv){if("Number"!==this.Type(tv))throw new $TypeError("Assertion failed: `tv` must be a Number");return $isNaN(tv)?"Invalid Date":$Date(tv)},CreateListFromArrayLike:function CreateListFromArrayLike(obj){var elementTypes=arguments.length>1?arguments[1]:["Undefined","Null","Boolean","String","Symbol","Number","Object"];if("Object"!==this.Type(obj))throw new $TypeError("Assertion failed: `obj` must be an Object");if(!this.IsArray(elementTypes))throw new $TypeError("Assertion failed: `elementTypes`, if provided, must be an array");for(var len=this.ToLength(this.Get(obj,"length")),list=[],index=0;index<len;){var indexName=this.ToString(index),next=this.Get(obj,indexName),nextType=this.Type(next);if($indexOf(elementTypes,nextType)<0)throw new $TypeError("item type "+nextType+" is not a valid elementType");$push(list,next),index+=1}return list},GetPrototypeFromConstructor:function GetPrototypeFromConstructor(constructor,intrinsicDefaultProto){var intrinsic=GetIntrinsic(intrinsicDefaultProto);if(!this.IsConstructor(constructor))throw new $TypeError("Assertion failed: `constructor` must be a constructor");var proto=this.Get(constructor,"prototype");if("Object"!==this.Type(proto)){if(!(constructor instanceof $Function))throw new $TypeError("cross-realm constructors not currently supported");proto=intrinsic}return proto},SetFunctionName:function SetFunctionName(F,name){if("function"!=typeof F)throw new $TypeError("Assertion failed: `F` must be a function");if(!this.IsExtensible(F)||has(F,"name"))throw new $TypeError("Assertion failed: `F` must be extensible, and must not have a `name` own property");var nameType=this.Type(name);if("Symbol"!==nameType&&"String"!==nameType)throw new $TypeError("Assertion failed: `name` must be a Symbol or a String");if("Symbol"===nameType){var description=getSymbolDescription(name);name=void 0===description?"":"["+description+"]"}if(arguments.length>2){var prefix=arguments[2];name=prefix+" "+name}return this.DefinePropertyOrThrow(F,"name",{"[[Value]]":name,"[[Writable]]":!1,"[[Enumerable]]":!1,"[[Configurable]]":!0})}});delete ES6.CheckObjectCoercible,module.exports=ES6},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(479)},function(module,exports,__webpack_require__){"use strict";var hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,isPrimitive=__webpack_require__(258),isCallable=__webpack_require__(22),isDate=__webpack_require__(101),isSymbol=__webpack_require__(102),ordinaryToPrimitive=function OrdinaryToPrimitive(O,hint){if(null==O)throw new TypeError("Cannot call method on "+O);if("string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');var method,result,i,methodNames="string"===hint?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methodNames.length;++i)if(method=O[methodNames[i]],isCallable(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")},GetMethod=function GetMethod(O,P){var func=O[P];if(null!=func){if(!isCallable(func))throw new TypeError(func+" returned for property "+P+" of object "+O+" is not a function");return func}};module.exports=function ToPrimitive(input){if(isPrimitive(input))return input;var exoticToPrim,hint="default";if(arguments.length>1&&(arguments[1]===String?hint="string":arguments[1]===Number&&(hint="number")),hasSymbols&&(Symbol.toPrimitive?exoticToPrim=GetMethod(input,Symbol.toPrimitive):isSymbol(input)&&(exoticToPrim=Symbol.prototype.valueOf)),void 0!==exoticToPrim){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),ordinaryToPrimitive(input,"default"===hint?"number":hint)}},function(module,exports,__webpack_require__){"use strict";module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var every=__webpack_require__(166);module.exports=function isSamePropertyDescriptor(ES,D1,D2){return every(["[[Configurable]]","[[Enumerable]]","[[Get]]","[[Set]]","[[Value]]","[[Writable]]"],function(field){return field in D1==field in D2&&ES.SameValue(D1[field],D2[field])})}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),callBound=__webpack_require__(49),$SyntaxError=GetIntrinsic("%SyntaxError%"),symToStr=callBound("Symbol.prototype.toString",!0),getInferredName=__webpack_require__(483);module.exports=function getSymbolDescription(symbol){if(!symToStr)throw new $SyntaxError("Symbols are not supported in this environment");var str=symToStr(symbol);if(getInferredName){var name=getInferredName(symbol);if(""===name)return;return name.slice(1,-1)}var desc=str.slice(7,-1);if(desc)return desc}},function(module,exports,__webpack_require__){"use strict";var getInferredName;try{getInferredName=Function("s","return { [s]() {} }[s].name;")}catch(e){}module.exports=getInferredName&&"inferred"===function(){}.name?getInferredName:null},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),$Object=GetIntrinsic("%Object%"),$EvalError=GetIntrinsic("%EvalError%"),$TypeError=GetIntrinsic("%TypeError%"),$String=GetIntrinsic("%String%"),$Date=GetIntrinsic("%Date%"),$Number=GetIntrinsic("%Number%"),$floor=GetIntrinsic("%Math.floor%"),$DateUTC=GetIntrinsic("%Date.UTC%"),$abs=GetIntrinsic("%Math.abs%"),assertRecord=__webpack_require__(259),isPropertyDescriptor=__webpack_require__(264),$isNaN=__webpack_require__(164),$isFinite=__webpack_require__(260),sign=__webpack_require__(262),mod=__webpack_require__(263),isPrefixOf=__webpack_require__(268),callBound=__webpack_require__(49),IsCallable=__webpack_require__(22),toPrimitive=__webpack_require__(485),has=__webpack_require__(11),$getUTCFullYear=callBound("Date.prototype.getUTCFullYear"),ES5={ToPrimitive:toPrimitive,ToBoolean:function ToBoolean(value){return!!value},ToNumber:function ToNumber(value){return+value},ToInteger:function ToInteger(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function ToInt32(x){return this.ToNumber(x)>>0},ToUint32:function ToUint32(x){return this.ToNumber(x)>>>0},ToUint16:function ToUint16(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function ToString(value){return $String(value)},ToObject:function ToObject(value){return this.CheckObjectCoercible(value),$Object(value)},CheckObjectCoercible:function CheckObjectCoercible(value,optMessage){if(null==value)throw new $TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function SameValue(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)},Type:function Type(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0},IsPropertyDescriptor:function IsPropertyDescriptor(Desc){return isPropertyDescriptor(this,Desc)},IsAccessorDescriptor:function IsAccessorDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]")))},IsDataDescriptor:function IsDataDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]")))},IsGenericDescriptor:function IsGenericDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!this.IsAccessorDescriptor(Desc)&&!this.IsDataDescriptor(Desc))},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;if(assertRecord(this,"Property Descriptor","Desc",Desc),this.IsDataDescriptor(Desc))return{value:Desc["[[Value]]"],writable:!!Desc["[[Writable]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};if(this.IsAccessorDescriptor(Desc))return{get:Desc["[[Get]]"],set:Desc["[[Set]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};throw new $TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function ToPropertyDescriptor(Obj){if("Object"!==this.Type(Obj))throw new $TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!this.IsCallable(getter))throw new TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!this.IsCallable(setter))throw new $TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc},"Abstract Equality Comparison":function AbstractEqualityComparison(x,y){var xType=this.Type(x),yType=this.Type(y);return xType===yType?x===y:null==x&&null==y||("Number"===xType&&"String"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"===xType&&"Number"===yType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===xType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"!==xType&&"Number"!==xType||"Object"!==yType?"Object"===xType&&("String"===yType||"Number"===yType)&&this["Abstract Equality Comparison"](this.ToPrimitive(x),y):this["Abstract Equality Comparison"](x,this.ToPrimitive(y)))},"Strict Equality Comparison":function StrictEqualityComparison(x,y){var xType=this.Type(x);return xType===this.Type(y)&&("Undefined"===xType||"Null"===xType||x===y)},"Abstract Relational Comparison":function AbstractRelationalComparison(x,y,LeftFirst){if("Boolean"!==this.Type(LeftFirst))throw new $TypeError("Assertion failed: LeftFirst argument must be a Boolean");var px,py;if(LeftFirst?(px=this.ToPrimitive(x,$Number),py=this.ToPrimitive(y,$Number)):(py=this.ToPrimitive(y,$Number),px=this.ToPrimitive(x,$Number)),!("String"===this.Type(px)&&"String"===this.Type(py))){var nx=this.ToNumber(px),ny=this.ToNumber(py);if($isNaN(nx)||$isNaN(ny))return;return(!$isFinite(nx)||!$isFinite(ny)||nx!==ny)&&((0!==nx||0!==ny)&&(nx!==1/0&&(ny===1/0||ny!==-1/0&&(nx===-1/0||nx<ny))))}return!isPrefixOf(py,px)&&(!!isPrefixOf(px,py)||px<py)},msFromTime:function msFromTime(t){return mod(t,1e3)},SecFromTime:function SecFromTime(t){return mod($floor(t/1e3),60)},MinFromTime:function MinFromTime(t){return mod($floor(t/6e4),60)},HourFromTime:function HourFromTime(t){return mod($floor(t/36e5),24)},Day:function Day(t){return $floor(t/864e5)},TimeWithinDay:function TimeWithinDay(t){return mod(t,864e5)},DayFromYear:function DayFromYear(y){return 365*(y-1970)+$floor((y-1969)/4)-$floor((y-1901)/100)+$floor((y-1601)/400)},TimeFromYear:function TimeFromYear(y){return 864e5*this.DayFromYear(y)},YearFromTime:function YearFromTime(t){return $getUTCFullYear(new $Date(t))},WeekDay:function WeekDay(t){return mod(this.Day(t)+4,7)},DaysInYear:function DaysInYear(y){return 0!==mod(y,4)?365:0!==mod(y,100)?366:0!==mod(y,400)?365:366},InLeapYear:function InLeapYear(t){var days=this.DaysInYear(this.YearFromTime(t));if(365===days)return 0;if(366===days)return 1;throw new $EvalError("Assertion failed: there are not 365 or 366 days in a year, got: "+days)},DayWithinYear:function DayWithinYear(t){return this.Day(t)-this.DayFromYear(this.YearFromTime(t))},MonthFromTime:function MonthFromTime(t){var day=this.DayWithinYear(t);if(0<=day&&day<31)return 0;var leap=this.InLeapYear(t);return 31<=day&&day<59+leap?1:59+leap<=day&&day<90+leap?2:90+leap<=day&&day<120+leap?3:120+leap<=day&&day<151+leap?4:151+leap<=day&&day<181+leap?5:181+leap<=day&&day<212+leap?6:212+leap<=day&&day<243+leap?7:243+leap<=day&&day<273+leap?8:273+leap<=day&&day<304+leap?9:304+leap<=day&&day<334+leap?10:334+leap<=day&&day<365+leap?11:void 0},DateFromTime:function DateFromTime(t){var m=this.MonthFromTime(t),d=this.DayWithinYear(t);if(0===m)return d+1;if(1===m)return d-30;var leap=this.InLeapYear(t);if(2===m)return d-58-leap;if(3===m)return d-89-leap;if(4===m)return d-119-leap;if(5===m)return d-150-leap;if(6===m)return d-180-leap;if(7===m)return d-211-leap;if(8===m)return d-242-leap;if(9===m)return d-272-leap;if(10===m)return d-303-leap;if(11===m)return d-333-leap;throw new $EvalError("Assertion failed: MonthFromTime returned an impossible value: "+m)},MakeDay:function MakeDay(year,month,date){if(!$isFinite(year)||!$isFinite(month)||!$isFinite(date))return NaN;var y=this.ToInteger(year),m=this.ToInteger(month),dt=this.ToInteger(date),ym=y+$floor(m/12),mn=mod(m,12),t=$DateUTC(ym,mn,1);return this.YearFromTime(t)!==ym||this.MonthFromTime(t)!==mn||1!==this.DateFromTime(t)?NaN:this.Day(t)+dt-1},MakeDate:function MakeDate(day,time){return $isFinite(day)&&$isFinite(time)?864e5*day+time:NaN},MakeTime:function MakeTime(hour,min,sec,ms){return $isFinite(hour)&&$isFinite(min)&&$isFinite(sec)&&$isFinite(ms)?36e5*this.ToInteger(hour)+6e4*this.ToInteger(min)+1e3*this.ToInteger(sec)+this.ToInteger(ms):NaN},TimeClip:function TimeClip(time){return!$isFinite(time)||$abs(time)>864e13?NaN:$Number(new $Date(this.ToNumber(time)))},modulo:function modulo(x,y){return mod(x,y)}};module.exports=ES5},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString,isPrimitive=__webpack_require__(258),isCallable=__webpack_require__(22),ES5internalSlots___DefaultValue__=function(O){var actualHint;if((actualHint=arguments.length>1?arguments[1]:"[object Date]"===toStr.call(O)?String:Number)===String||actualHint===Number){var value,i,methods=actualHint===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methods.length;++i)if(isCallable(O[methods[i]])&&(value=O[methods[i]](),isPrimitive(value)))return value;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};module.exports=function ToPrimitive(input){return isPrimitive(input)?input:arguments.length>1?ES5internalSlots___DefaultValue__(input,arguments[1]):ES5internalSlots___DefaultValue__(input)}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(15),originalGetProto=GetIntrinsic("%Object.getPrototypeOf%",!0),$ArrayProto=GetIntrinsic("%Array.prototype%");module.exports=originalGetProto||([].__proto__===$ArrayProto?function(O){return O.__proto__}:null)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(488)()},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(55)(),polyfill=__webpack_require__(489),getInferredName=__webpack_require__(269),gOPD=Object.getOwnPropertyDescriptor,dP=Object.defineProperty,setProto=Object.setPrototypeOf,define=function defineGetter(getter){dP(Symbol.prototype,"description",{configurable:!0,enumerable:!1,get:getter})};module.exports=function shimSymbolDescription(){if(!hasSymbols)return!1;var desc=gOPD(Symbol.prototype,"description"),getter=polyfill(),isMissing=!desc||"function"!=typeof desc.get,isBroken=!isMissing&&(void 0!==Symbol().description||""!==Symbol("").description);if(isMissing||isBroken){if(!getInferredName)return function shimGlobalSymbol(getter){var origSym=Function.apply.bind(Symbol),emptyStrings=Object.create?Object.create(null):{},SymNew=function Symbol(){var sym=origSym(this,arguments);return arguments.length>0&&""===arguments[0]&&(emptyStrings[sym]=!0),sym};SymNew.prototype=Symbol.prototype,setProto(SymNew,Symbol),Symbol=SymNew;var boundGetter=Function.call.bind(getter),wrappedGetter=function description(){var symbolDescription=boundGetter(this);return emptyStrings[this]?"":symbolDescription};return define(wrappedGetter),wrappedGetter}(getter);define(getter)}return getter}},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(55)(),implementation=__webpack_require__(490),gOPD=Object.getOwnPropertyDescriptor;module.exports=function descriptionPolyfill(){if(!hasSymbols||"function"!=typeof gOPD)return null;var desc=gOPD(Symbol.prototype,"description");if(!desc||"function"!=typeof desc.get)return implementation;var emptySymbolDesc=desc.get.call(Symbol());return(void 0===emptySymbolDesc||""===emptySymbolDesc)&&"a"===desc.get.call(Symbol("a"))?desc.get:implementation}},function(module,exports,__webpack_require__){"use strict";var getSymbolDescription=__webpack_require__(491);module.exports=function description(){return getSymbolDescription(this)}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(167),callBound=__webpack_require__(494),$SyntaxError=GetIntrinsic("%SyntaxError%"),symToStr=callBound("Symbol.prototype.toString",!0),getInferredName=__webpack_require__(269);module.exports=function getSymbolDescription(symbol){if(!symToStr)throw new $SyntaxError("Symbols are not supported in this environment");var str=symToStr(symbol);if(getInferredName){var name=getInferredName(symbol);if(""===name)return;return name.slice(1,-1)}var desc=str.slice(7,-1);if(desc)return desc}},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(493);module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(167),callBind=__webpack_require__(495),$indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);return"function"==typeof intrinsic&&$indexOf(name,".prototype.")?callBind(intrinsic):intrinsic}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(9),$Function=__webpack_require__(167)("%Function%"),$apply=$Function.apply,$call=$Function.call;module.exports=function callBind(){return bind.apply($call,arguments)},module.exports.apply=function applyBind(){return bind.apply($apply,arguments)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(497)()},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(498),define=__webpack_require__(8);module.exports=function shimEntries(){var polyfill=getPolyfill();return define(Object,{fromEntries:polyfill},{fromEntries:function testEntries(){return Object.fromEntries!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(499);module.exports=function getPolyfill(){return"function"==typeof Object.fromEntries?Object.fromEntries:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(500),adder=function addDataProperty(key,value){var propertyKey=ES.ToPropertyKey(key);ES.CreateDataPropertyOrThrow(this,propertyKey,value)},hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");module.exports=function fromEntries(iterable){ES.RequireObjectCoercible(iterable);var obj={};if(!hasSymbols){if(!ES.IsArray(iterable))throw new TypeError("this environment lacks native Symbols, and can not support non-Array iterables");return function assign(obj,entries){for(var i=0;i<entries.length;++i){var entry=entries[i];if("Object"!==ES.Type(entry))throw new TypeError("iterator returned a non-object; entry expected");var key=ES.Get(entry,"0"),value=ES.Get(entry,"1"),propertyKey=ES.ToPropertyKey(key);ES.CreateDataPropertyOrThrow(obj,propertyKey,value)}}(obj,iterable),obj}return ES.AddEntriesFromIterable(obj,iterable,adder)}},function(module,exports,__webpack_require__){"use strict";var trimStart=__webpack_require__(160),trimEnd=__webpack_require__(161),inspect=__webpack_require__(168),ES2018=__webpack_require__(502),assign=__webpack_require__(80),MAX_SAFE_INTEGER=__webpack_require__(273),$TypeError=__webpack_require__(16)("%TypeError%"),ES2019=assign(assign({},ES2018),{AddEntriesFromIterable:function AddEntriesFromIterable(target,iterable,adder){if(!this.IsCallable(adder))throw new $TypeError("Assertion failed: `adder` is not callable");if(null==iterable)throw new $TypeError("Assertion failed: `iterable` is present, and not nullish");for(var iteratorRecord=this.GetIterator(iterable);;){var next=this.IteratorStep(iteratorRecord);if(!next)return target;var nextItem=this.IteratorValue(next);if("Object"!==this.Type(nextItem)){var error=new $TypeError("iterator next must return an Object, got "+inspect(nextItem));return this.IteratorClose(iteratorRecord,function(){throw error})}try{var k=this.Get(nextItem,"0"),v=this.Get(nextItem,"1");this.Call(adder,target,[k,v])}catch(e){return this.IteratorClose(iteratorRecord,function(){throw e})}}},FlattenIntoArray:function FlattenIntoArray(target,source,sourceLen,start,depth){var mapperFunction;arguments.length>5&&(mapperFunction=arguments[5]);for(var targetIndex=start,sourceIndex=0;sourceIndex<sourceLen;){var P=this.ToString(sourceIndex),exists=this.HasProperty(source,P);if(!0===exists){var element=this.Get(source,P);if(void 0!==mapperFunction){if(arguments.length<=6)throw new $TypeError("Assertion failed: thisArg is required when mapperFunction is provided");element=this.Call(mapperFunction,arguments[6],[element,sourceIndex,source])}var shouldFlatten=!1;if(depth>0&&(shouldFlatten=this.IsArray(element)),shouldFlatten){var elementLen=this.ToLength(this.Get(element,"length"));targetIndex=this.FlattenIntoArray(target,element,elementLen,targetIndex,depth-1)}else{if(targetIndex>=MAX_SAFE_INTEGER)throw new $TypeError("index too large");this.CreateDataPropertyOrThrow(target,this.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex},TrimString:function TrimString(string,where){var T,str=this.RequireObjectCoercible(string),S=this.ToString(str);if("start"===where)T=trimStart(S);else if("end"===where)T=trimEnd(S);else{if("start+end"!==where)throw new $TypeError('Assertion failed: invalid `where` value; must be "start", "end", or "start+end"');T=trimStart(trimEnd(S))}return T}});module.exports=ES2019},,function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),keys=__webpack_require__(38),inspect=__webpack_require__(168),ES2017=__webpack_require__(504),assign=__webpack_require__(80),forEach=__webpack_require__(171),callBind=__webpack_require__(105),every=__webpack_require__(172),isPrefixOf=__webpack_require__(280),$String=GetIntrinsic("%String%"),$TypeError=GetIntrinsic("%TypeError%"),callBound=__webpack_require__(50),regexTester=__webpack_require__(277),$isNaN=__webpack_require__(170),$SymbolValueOf=callBound("Symbol.prototype.valueOf",!0),$strSlice=callBound("String.prototype.slice"),$indexOf=callBound("String.prototype.indexOf"),$parseInt=parseInt,isDigit=regexTester(/^[0-9]$/),$PromiseResolve=callBound("Promise.resolve",!0),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),$pushApply=callBind.apply(GetIntrinsic("%Array.prototype.push%")),$gOPS=$SymbolValueOf?GetIntrinsic("%Object.getOwnPropertySymbols%"):null,padTimeComponent=function padTimeComponent(c,count){return $strSlice("00"+c,-(count||2))},weekdays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ES2018=assign(assign({},ES2017),{EnumerableOwnPropertyNames:ES2017.EnumerableOwnProperties,thisSymbolValue:function thisSymbolValue(value){if(!$SymbolValueOf)throw new SyntaxError("Symbols are not supported; thisSymbolValue requires that `value` be a Symbol or a Symbol object");return"Symbol"===this.Type(value)?value:$SymbolValueOf(value)},IsStringPrefix:function IsStringPrefix(p,q){if("String"!==this.Type(p))throw new TypeError('Assertion failed: "p" must be a String');if("String"!==this.Type(q))throw new TypeError('Assertion failed: "q" must be a String');return isPrefixOf(p,q)},NumberToString:function NumberToString(m){if("Number"!==this.Type(m))throw new TypeError('Assertion failed: "m" must be a String');return $String(m)},CopyDataProperties:function CopyDataProperties(target,source,excludedItems){if("Object"!==this.Type(target))throw new TypeError('Assertion failed: "target" must be an Object');if(!this.IsArray(excludedItems))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');for(var i=0;i<excludedItems.length;i+=1)if(!this.IsPropertyKey(excludedItems[i]))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');if(null==source)return target;var ES=this,fromObj=ES.ToObject(source),sourceKeys=function OwnPropertyKeys(ES,source){var ownKeys=keys(source);return $gOPS&&$pushApply(ownKeys,$gOPS(source)),ownKeys}(0,fromObj);return forEach(sourceKeys,function(nextKey){var excluded=!1;forEach(excludedItems,function(e){!0===ES.SameValue(e,nextKey)&&(excluded=!0)});var enumerable=$isEnumerable(fromObj,nextKey)||"string"==typeof source&&nextKey>=0&&ES.IsInteger(ES.ToNumber(nextKey));if(!1===excluded&&enumerable){var propValue=ES.Get(fromObj,nextKey);ES.CreateDataProperty(target,nextKey,propValue)}}),target},PromiseResolve:function PromiseResolve(C,x){if(!$PromiseResolve)throw new SyntaxError("This environment does not support Promises.");return $PromiseResolve(C,x)},GetSubstitution:function GetSubstitution(matched,str,position,captures,namedCaptures,replacement){if("String"!==this.Type(matched))throw new $TypeError("Assertion failed: `matched` must be a String");var matchLength=matched.length;if("String"!==this.Type(str))throw new $TypeError("Assertion failed: `str` must be a String");var stringLength=str.length;if(!this.IsInteger(position)||position<0||position>stringLength)throw new $TypeError("Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got "+inspect(position));var ES=this;if(!this.IsArray(captures)||!every(captures,function(capture,index,arr){return"String"===ES.Type(capture)||!(index in arr)}))throw new $TypeError("Assertion failed: `captures` must be a List of Strings, got "+inspect(captures));if("String"!==this.Type(replacement))throw new $TypeError("Assertion failed: `replacement` must be a String");var tailPos=position+matchLength,m=captures.length;"Undefined"!==this.Type(namedCaptures)&&(namedCaptures=this.ToObject(namedCaptures));for(var result="",i=0;i<replacement.length;i+=1){var current=replacement[i],isLast=i+1>=replacement.length,nextIsLast=i+2>=replacement.length;if("$"!==current||isLast)result+=replacement[i];else{var next=replacement[i+1];if("$"===next)result+="$",i+=1;else if("&"===next)result+=matched,i+=1;else if("`"===next)result+=0===position?"":$strSlice(str,0,position-1),i+=1;else if("'"===next)result+=tailPos>=stringLength?"":$strSlice(str,tailPos),i+=1;else{var nextNext=nextIsLast?null:replacement[i+2];if(!isDigit(next)||"0"===next||!nextIsLast&&isDigit(nextNext))if(isDigit(next)&&(nextIsLast||isDigit(nextNext))){var nn=next+nextNext,nnI=$parseInt(nn,10)-1;result+=nn<=m&&"Undefined"===this.Type(captures[nnI])?"":captures[nnI],i+=2}else if("<"===next)if("Undefined"===this.Type(namedCaptures))result+="$<",i+=2;else{var endIndex=$indexOf(replacement,">",i);if(endIndex>-1){var groupName=$strSlice(replacement,i,endIndex),capture=this.Get(namedCaptures,groupName);"Undefined"!==this.Type(capture)&&(result+=this.ToString(capture)),i+="$<"+groupName+">".length}}else result+="$";else{var n=$parseInt(next,10);result+=n<=m&&"Undefined"===this.Type(captures[n-1])?"":captures[n-1],i+=1}}}}return result},DateString:function DateString(tv){if("Number"!==this.Type(tv)||$isNaN(tv))throw new $TypeError("Assertion failed: `tv` must be a non-NaN Number");return weekdays[this.WeekDay(tv)]+" "+months[this.MonthFromTime(tv)]+" "+padTimeComponent(this.DateFromTime(tv))+" "+padTimeComponent(this.YearFromTime(tv),4)},TimeString:function TimeString(tv){if("Number"!==this.Type(tv)||$isNaN(tv))throw new $TypeError("Assertion failed: `tv` must be a non-NaN Number");var hour=this.HourFromTime(tv),minute=this.MinFromTime(tv),second=this.SecFromTime(tv);return padTimeComponent(hour)+":"+padTimeComponent(minute)+":"+padTimeComponent(second)+" GMT"}});delete ES2018.EnumerableOwnProperties,delete ES2018.IsPropertyDescriptor,module.exports=ES2018},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),ES2016=__webpack_require__(505),assign=__webpack_require__(80),forEach=__webpack_require__(171),callBind=__webpack_require__(105),$TypeError=GetIntrinsic("%TypeError%"),callBound=__webpack_require__(50),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),$pushApply=callBind.apply(GetIntrinsic("%Array.prototype.push%")),$arrayPush=callBound("Array.prototype.push"),ES2017=assign(assign({},ES2016),{ToIndex:function ToIndex(value){if(void 0===value)return 0;var integerIndex=this.ToInteger(value);if(integerIndex<0)throw new RangeError("index must be >= 0");var index=this.ToLength(integerIndex);if(!this.SameValueZero(integerIndex,index))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return index},EnumerableOwnProperties:function EnumerableOwnProperties(O,kind){var keys=ES2016.EnumerableOwnNames(O);if("key"===kind)return keys;if("value"===kind||"key+value"===kind){var results=[];return forEach(keys,function(key){$isEnumerable(O,key)&&$pushApply(results,["value"===kind?O[key]:[key,O[key]]])}),results}throw new $TypeError('Assertion failed: "kind" is not "key", "value", or "key+value": '+kind)},IterableToList:function IterableToList(items,method){for(var iterator=this.GetIterator(items,method),values=[],next=!0;next;)if(next=this.IteratorStep(iterator)){var nextValue=this.IteratorValue(next);$arrayPush(values,nextValue)}return values}});delete ES2017.EnumerableOwnNames,delete ES2017.IterableToArrayLike,module.exports=ES2017},function(module,exports,__webpack_require__){"use strict";var ES2015=__webpack_require__(506),GetIntrinsic=__webpack_require__(16),assign=__webpack_require__(80),$setProto=__webpack_require__(279),callBound=__webpack_require__(50),getIteratorMethod=__webpack_require__(278),$TypeError=GetIntrinsic("%TypeError%"),$arrayPush=callBound("Array.prototype.push"),$getProto=__webpack_require__(515),ES2016=assign(assign({},ES2015),{SameValueNonNumber:function SameValueNonNumber(x,y){if("number"==typeof x||typeof x!=typeof y)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(x,y)},IterableToArrayLike:function IterableToArrayLike(items){var usingIterator=getIteratorMethod(this,items);if(void 0!==usingIterator){for(var iterator=this.GetIterator(items,usingIterator),values=[],next=!0;next;)if(next=this.IteratorStep(iterator)){var nextValue=this.IteratorValue(next);$arrayPush(values,nextValue)}return values}return this.ToObject(items)},OrdinaryGetPrototypeOf:function(O){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!$getProto)throw new $TypeError("This environment does not support fetching prototypes.");return $getProto(O)},OrdinarySetPrototypeOf:function(O,V){if("Object"!==this.Type(V)&&"Null"!==this.Type(V))throw new $TypeError("Assertion failed: V must be Object or Null");try{$setProto(O,V)}catch(e){return!1}return this.OrdinaryGetPrototypeOf(O)===V}});module.exports=ES2016},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(11),toPrimitive=__webpack_require__(507),keys=__webpack_require__(38),inspect=__webpack_require__(168),GetIntrinsic=__webpack_require__(16),$TypeError=GetIntrinsic("%TypeError%"),$RangeError=GetIntrinsic("%RangeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),$Array=GetIntrinsic("%Array%"),$ArrayPrototype=$Array.prototype,$String=GetIntrinsic("%String%"),$Object=GetIntrinsic("%Object%"),$Number=GetIntrinsic("%Number%"),$Symbol=GetIntrinsic("%Symbol%",!0),$RegExp=GetIntrinsic("%RegExp%"),$Date=GetIntrinsic("%Date%"),$Function=GetIntrinsic("%Function%"),$preventExtensions=$Object.preventExtensions,hasSymbols=__webpack_require__(169)(),assertRecord=__webpack_require__(271),$isNaN=__webpack_require__(170),$isFinite=__webpack_require__(272),MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_SAFE_INTEGER=__webpack_require__(273),assign=__webpack_require__(80),sign=__webpack_require__(274),mod=__webpack_require__(275),isPrimitive=__webpack_require__(509),forEach=__webpack_require__(171),every=__webpack_require__(172),isSamePropertyDescriptor=__webpack_require__(510),isPropertyDescriptor=__webpack_require__(276),parseInteger=parseInt,callBound=__webpack_require__(50),regexTester=__webpack_require__(277),getIteratorMethod=__webpack_require__(278),getSymbolDescription=__webpack_require__(511),$PromiseThen=callBound("Promise.prototype.then",!0),arraySlice=callBound("Array.prototype.slice"),strSlice=callBound("String.prototype.slice"),$indexOf=callBound("Array.prototype.indexOf"),$push=callBound("Array.prototype.push"),isBinary=regexTester(/^0b[01]+$/i),isOctal=regexTester(/^0o[0-7]+$/i),isDigit=regexTester(/^[0-9]$/),regexExec=callBound("RegExp.prototype.exec"),hasNonWS=regexTester(new $RegExp("["+["","",""].join("")+"]","g")),isInvalidHexLiteral=regexTester(/^[-+]0x[0-9a-f]+$/i),$charCodeAt=callBound("String.prototype.charCodeAt"),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),toStr=callBound("Object.prototype.toString"),$NumberValueOf=callBound("Number.prototype.valueOf"),$BooleanValueOf=callBound("Boolean.prototype.valueOf"),$StringValueOf=callBound("String.prototype.valueOf"),$DateValueOf=callBound("Date.prototype.valueOf"),$SymbolToString=callBound("Symbol.prototype.toString",!0),$floor=Math.floor,$abs=Math.abs,$ObjectCreate=$Object.create,$gOPD=$Object.getOwnPropertyDescriptor,$gOPN=$Object.getOwnPropertyNames,$gOPS=$Object.getOwnPropertySymbols,$isExtensible=$Object.isExtensible,$defineProperty=$Object.defineProperty,$setProto=__webpack_require__(279),DefineOwnProperty=function DefineOwnProperty(ES,O,P,desc){if(!$defineProperty){if(!ES.IsDataDescriptor(desc))return!1;if(!desc["[[Configurable]]"]||!desc["[[Writable]]"])return!1;if(P in O&&$isEnumerable(O,P)!==!!desc["[[Enumerable]]"])return!1;var V=desc["[[Value]]"];return O[P]=V,ES.SameValue(O[P],V)}return $defineProperty(O,P,ES.FromPropertyDescriptor(desc)),!0},ws=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),$replace=callBound("String.prototype.replace"),ES5=__webpack_require__(513),hasRegExpMatcher=__webpack_require__(77),ES6=assign(assign({},ES5),{Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!this.IsCallable(F))throw new $TypeError(inspect(F)+" is not a function");return F.apply(V,args)},ToPrimitive:toPrimitive,ToNumber:function ToNumber(argument){var value=isPrimitive(argument)?argument:toPrimitive(argument,$Number);if("symbol"==typeof value)throw new $TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return this.ToNumber(parseInteger(strSlice(value,2),2));if(isOctal(value))return this.ToNumber(parseInteger(strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=function(value){return $replace(value,trimRegex,"")}(value);if(trimmed!==value)return this.ToNumber(trimmed)}return $Number(value)},ToInt16:function ToInt16(argument){var int16bit=this.ToUint16(argument);return int16bit>=32768?int16bit-65536:int16bit},ToInt8:function ToInt8(argument){var int8bit=this.ToUint8(argument);return int8bit>=128?int8bit-256:int8bit},ToUint8:function ToUint8(argument){var number=this.ToNumber(argument);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*$floor($abs(number));return mod(posInt,256)},ToUint8Clamp:function ToUint8Clamp(argument){var number=this.ToNumber(argument);if($isNaN(number)||number<=0)return 0;if(number>=255)return 255;var f=$floor(argument);return f+.5<number?f+1:number<f+.5?f:f%2!=0?f+1:f},ToString:function ToString(argument){if("symbol"==typeof argument)throw new $TypeError("Cannot convert a Symbol value to a string");return $String(argument)},ToObject:function ToObject(value){return this.RequireObjectCoercible(value),$Object(value)},ToPropertyKey:function ToPropertyKey(argument){var key=this.ToPrimitive(argument,$String);return"symbol"==typeof key?key:this.ToString(key)},ToLength:function ToLength(argument){var len=this.ToInteger(argument);return len<=0?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len},CanonicalNumericIndexString:function CanonicalNumericIndexString(argument){if("[object String]"!==toStr(argument))throw new $TypeError("must be a string");if("-0"===argument)return-0;var n=this.ToNumber(argument);return this.SameValue(this.ToString(n),argument)?n:void 0},RequireObjectCoercible:ES5.CheckObjectCoercible,IsArray:$Array.isArray||function IsArray(argument){return"[object Array]"===toStr(argument)},IsConstructor:function IsConstructor(argument){return"function"==typeof argument&&!!argument.prototype},IsExtensible:$preventExtensions?function IsExtensible(obj){return!isPrimitive(obj)&&$isExtensible(obj)}:function isExtensible(obj){return!0},IsInteger:function IsInteger(argument){if("number"!=typeof argument||$isNaN(argument)||!$isFinite(argument))return!1;var abs=$abs(argument);return $floor(abs)===abs},IsPropertyKey:function IsPropertyKey(argument){return"string"==typeof argument||"symbol"==typeof argument},IsRegExp:function IsRegExp(argument){if(!argument||"object"!=typeof argument)return!1;if(hasSymbols){var isRegExp=argument[$Symbol.match];if(void 0!==isRegExp)return ES5.ToBoolean(isRegExp)}return hasRegExpMatcher(argument)},SameValueZero:function SameValueZero(x,y){return x===y||$isNaN(x)&&$isNaN(y)},GetV:function GetV(V,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(V)[P]},GetMethod:function GetMethod(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var func=this.GetV(O,P);if(null!=func){if(!this.IsCallable(func))throw new $TypeError(P+"is not a function");return func}},Get:function Get(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true, got "+inspect(P));return O[P]},Type:function Type(x){return"symbol"==typeof x?"Symbol":ES5.Type(x)},SpeciesConstructor:function SpeciesConstructor(O,defaultConstructor){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var C=O.constructor;if(void 0===C)return defaultConstructor;if("Object"!==this.Type(C))throw new $TypeError("O.constructor is not an Object");var S=hasSymbols&&$Symbol.species?C[$Symbol.species]:void 0;if(null==S)return defaultConstructor;if(this.IsConstructor(S))return S;throw new $TypeError("no constructor found")},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;assertRecord(this,"Property Descriptor","Desc",Desc);var obj={};return"[[Value]]"in Desc&&(obj.value=Desc["[[Value]]"]),"[[Writable]]"in Desc&&(obj.writable=Desc["[[Writable]]"]),"[[Get]]"in Desc&&(obj.get=Desc["[[Get]]"]),"[[Set]]"in Desc&&(obj.set=Desc["[[Set]]"]),"[[Enumerable]]"in Desc&&(obj.enumerable=Desc["[[Enumerable]]"]),"[[Configurable]]"in Desc&&(obj.configurable=Desc["[[Configurable]]"]),obj},CompletePropertyDescriptor:function CompletePropertyDescriptor(Desc){return assertRecord(this,"Property Descriptor","Desc",Desc),this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc)?(has(Desc,"[[Value]]")||(Desc["[[Value]]"]=void 0),has(Desc,"[[Writable]]")||(Desc["[[Writable]]"]=!1)):(has(Desc,"[[Get]]")||(Desc["[[Get]]"]=void 0),has(Desc,"[[Set]]")||(Desc["[[Set]]"]=void 0)),has(Desc,"[[Enumerable]]")||(Desc["[[Enumerable]]"]=!1),has(Desc,"[[Configurable]]")||(Desc["[[Configurable]]"]=!1),Desc},Set:function Set(O,P,V,Throw){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");if("Boolean"!==this.Type(Throw))throw new $TypeError("Throw must be a Boolean");if(Throw)return O[P]=V,!0;try{O[P]=V}catch(e){return!1}},HasOwnProperty:function HasOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return has(O,P)},HasProperty:function HasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return P in O},IsConcatSpreadable:function IsConcatSpreadable(O){if("Object"!==this.Type(O))return!1;if(hasSymbols&&"symbol"==typeof $Symbol.isConcatSpreadable){var spreadable=this.Get(O,Symbol.isConcatSpreadable);if(void 0!==spreadable)return this.ToBoolean(spreadable)}return this.IsArray(O)},Invoke:function Invoke(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");var argumentsList=arraySlice(arguments,2),func=this.GetV(O,P);return this.Call(func,O,argumentsList)},GetIterator:function GetIterator(obj,method){var actualMethod=method;arguments.length<2&&(actualMethod=getIteratorMethod(this,obj));var iterator=this.Call(actualMethod,obj);if("Object"!==this.Type(iterator))throw new $TypeError("iterator must return an object");return iterator},IteratorNext:function IteratorNext(iterator,value){var result=this.Invoke(iterator,"next",arguments.length<2?[]:[value]);if("Object"!==this.Type(result))throw new $TypeError("iterator next must return an object");return result},IteratorComplete:function IteratorComplete(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(iterResult,"done"))},IteratorValue:function IteratorValue(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.Get(iterResult,"value")},IteratorStep:function IteratorStep(iterator){var result=this.IteratorNext(iterator);return!0!==this.IteratorComplete(result)&&result},IteratorClose:function IteratorClose(iterator,completion){if("Object"!==this.Type(iterator))throw new $TypeError("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(completion))throw new $TypeError("Assertion failed: completion is not a thunk for a Completion Record");var completionRecord,completionThunk=completion,iteratorReturn=this.GetMethod(iterator,"return");if(void 0===iteratorReturn)return completionThunk();try{var innerResult=this.Call(iteratorReturn,iterator,[])}catch(e){throw completionRecord=completionThunk(),completionThunk=null,e}if(completionRecord=completionThunk(),completionThunk=null,"Object"!==this.Type(innerResult))throw new $TypeError("iterator .return must return an object");return completionRecord},CreateIterResultObject:function CreateIterResultObject(value,done){if("Boolean"!==this.Type(done))throw new $TypeError("Assertion failed: Type(done) is not Boolean");return{value:value,done:done}},RegExpExec:function RegExpExec(R,S){if("Object"!==this.Type(R))throw new $TypeError("R must be an Object");if("String"!==this.Type(S))throw new $TypeError("S must be a String");var exec=this.Get(R,"exec");if(this.IsCallable(exec)){var result=this.Call(exec,R,[S]);if(null===result||"Object"===this.Type(result))return result;throw new $TypeError('"exec" method must return `null` or an Object')}return regexExec(R,S)},ArraySpeciesCreate:function ArraySpeciesCreate(originalArray,length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: length must be an integer >= 0");var C,len=0===length?0:length;if(this.IsArray(originalArray)&&(C=this.Get(originalArray,"constructor"),"Object"===this.Type(C)&&hasSymbols&&$Symbol.species&&null===(C=this.Get(C,$Symbol.species))&&(C=void 0)),void 0===C)return $Array(len);if(!this.IsConstructor(C))throw new $TypeError("C must be a constructor");return new C(len)},CreateDataProperty:function CreateDataProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var oldDesc=$gOPD(O,P),extensible=oldDesc||this.IsExtensible(O);return!(oldDesc&&(!oldDesc.writable||!oldDesc.configurable)||!extensible)&&DefineOwnProperty(this,O,P,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":V,"[[Writable]]":!0})},CreateDataPropertyOrThrow:function CreateDataPropertyOrThrow(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=this.CreateDataProperty(O,P,V);if(!success)throw new $TypeError("unable to create data property");return success},ObjectCreate:function ObjectCreate(proto,internalSlotsList){if(null!==proto&&"Object"!==this.Type(proto))throw new $TypeError("Assertion failed: proto must be null or an object");var slots=arguments.length<2?[]:internalSlotsList;if(slots.length>0)throw new $SyntaxError("es-abstract does not yet support internal slots");if(null===proto&&!$ObjectCreate)throw new $SyntaxError("native Object.create support is required to create null objects");return $ObjectCreate(proto)},AdvanceStringIndex:function AdvanceStringIndex(S,index,unicode){if("String"!==this.Type(S))throw new $TypeError("S must be a String");if(!this.IsInteger(index)||index<0||index>MAX_SAFE_INTEGER)throw new $TypeError("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(unicode))throw new $TypeError("Assertion failed: unicode must be a Boolean");if(!unicode)return index+1;if(index+1>=S.length)return index+1;var first=$charCodeAt(S,index);if(first<55296||first>56319)return index+1;var second=$charCodeAt(S,index+1);return second<56320||second>57343?index+1:index+2},CreateMethodProperty:function CreateMethodProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return DefineOwnProperty(this,O,P,{"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":V,"[[Writable]]":!0})},DefinePropertyOrThrow:function DefinePropertyOrThrow(O,P,desc){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var Desc=isPropertyDescriptor(this,desc)?desc:this.ToPropertyDescriptor(desc);if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc is not a valid Property Descriptor");return DefineOwnProperty(this,O,P,Desc)},DeletePropertyOrThrow:function DeletePropertyOrThrow(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=delete O[P];if(!success)throw new TypeError("Attempt to delete property failed.");return success},EnumerableOwnNames:function EnumerableOwnNames(O){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");return keys(O)},thisNumberValue:function thisNumberValue(value){return"Number"===this.Type(value)?value:$NumberValueOf(value)},thisBooleanValue:function thisBooleanValue(value){return"Boolean"===this.Type(value)?value:$BooleanValueOf(value)},thisStringValue:function thisStringValue(value){return"String"===this.Type(value)?value:$StringValueOf(value)},thisTimeValue:function thisTimeValue(value){return $DateValueOf(value)},SetIntegrityLevel:function SetIntegrityLevel(O,level){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("sealed"!==level&&"frozen"!==level)throw new $TypeError('Assertion failed: `level` must be `"sealed"` or `"frozen"`');if(!$preventExtensions)throw new $SyntaxError("SetIntegrityLevel requires native `Object.preventExtensions` support");if(!$preventExtensions(O))return!1;if(!$gOPN)throw new $SyntaxError("SetIntegrityLevel requires native `Object.getOwnPropertyNames` support");var theKeys=$gOPN(O),ES=this;return"sealed"===level?forEach(theKeys,function(k){ES.DefinePropertyOrThrow(O,k,{configurable:!1})}):"frozen"===level&&forEach(theKeys,function(k){var desc,currentDesc=$gOPD(O,k);void 0!==currentDesc&&(desc=ES.IsAccessorDescriptor(ES.ToPropertyDescriptor(currentDesc))?{configurable:!1}:{configurable:!1,writable:!1},ES.DefinePropertyOrThrow(O,k,desc))}),!0},TestIntegrityLevel:function TestIntegrityLevel(O,level){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("sealed"!==level&&"frozen"!==level)throw new $TypeError('Assertion failed: `level` must be `"sealed"` or `"frozen"`');if(this.IsExtensible(O))return!1;var theKeys=$gOPN(O),ES=this;return 0===theKeys.length||every(theKeys,function(k){var currentDesc=$gOPD(O,k);if(void 0!==currentDesc){if(currentDesc.configurable)return!1;if("frozen"===level&&ES.IsDataDescriptor(ES.ToPropertyDescriptor(currentDesc))&&currentDesc.writable)return!1}return!0})},OrdinaryHasInstance:function OrdinaryHasInstance(C,O){if(!1===this.IsCallable(C))return!1;if("Object"!==this.Type(O))return!1;var P=this.Get(C,"prototype");if("Object"!==this.Type(P))throw new $TypeError("OrdinaryHasInstance called on an object with an invalid prototype property.");return O instanceof C},OrdinaryHasProperty:function OrdinaryHasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");return P in O},InstanceofOperator:function InstanceofOperator(O,C){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var instOfHandler=hasSymbols&&$Symbol.hasInstance?this.GetMethod(C,$Symbol.hasInstance):void 0;if(void 0!==instOfHandler)return this.ToBoolean(this.Call(instOfHandler,C,[O]));if(!this.IsCallable(C))throw new $TypeError("`C` is not Callable");return this.OrdinaryHasInstance(C,O)},IsPromise:function IsPromise(x){if("Object"!==this.Type(x))return!1;if(!$PromiseThen)return!1;try{$PromiseThen(x)}catch(e){return!1}return!0},"Abstract Equality Comparison":function AbstractEqualityComparison(x,y){var xType=this.Type(x),yType=this.Type(y);return xType===yType?x===y:null==x&&null==y||("Number"===xType&&"String"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"===xType&&"Number"===yType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===xType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"!==xType&&"Number"!==xType&&"Symbol"!==xType||"Object"!==yType?"Object"===xType&&("String"===yType||"Number"===yType||"Symbol"===yType)&&this["Abstract Equality Comparison"](this.ToPrimitive(x),y):this["Abstract Equality Comparison"](x,this.ToPrimitive(y)))},ValidateAndApplyPropertyDescriptor:function ValidateAndApplyPropertyDescriptor(O,P,extensible,Desc,current){var oType=this.Type(O);if("Undefined"!==oType&&"Object"!==oType)throw new $TypeError("Assertion failed: O must be undefined or an Object");if("Boolean"!==this.Type(extensible))throw new $TypeError("Assertion failed: extensible must be a Boolean");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");if("Undefined"!==this.Type(current)&&!isPropertyDescriptor(this,current))throw new $TypeError("Assertion failed: current must be a Property Descriptor, or undefined");if("Undefined"!==oType&&!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: if O is not undefined, P must be a Property Key");if("Undefined"===this.Type(current)){if(!extensible)return!1;if(this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc))"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":Desc["[[Configurable]]"],"[[Enumerable]]":Desc["[[Enumerable]]"],"[[Value]]":Desc["[[Value]]"],"[[Writable]]":Desc["[[Writable]]"]});else{if(!this.IsAccessorDescriptor(Desc))throw new $TypeError("Assertion failed: Desc is not an accessor descriptor");if("Undefined"!==oType)return DefineOwnProperty(this,O,P,Desc)}return!0}if(this.IsGenericDescriptor(Desc)&&!("[[Configurable]]"in Desc)&&!("[[Enumerable]]"in Desc))return!0;if(isSamePropertyDescriptor(this,Desc,current))return!0;if(!current["[[Configurable]]"]){if(Desc["[[Configurable]]"])return!1;if("[[Enumerable]]"in Desc&&!Desc["[[Enumerable]]"]==!!current["[[Enumerable]]"])return!1}if(this.IsGenericDescriptor(Desc));else if(this.IsDataDescriptor(current)!==this.IsDataDescriptor(Desc)){if(!current["[[Configurable]]"])return!1;this.IsDataDescriptor(current)?"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":current["[[Configurable]]"],"[[Enumerable]]":current["[[Enumerable]]"],"[[Get]]":void 0}):"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":current["[[Configurable]]"],"[[Enumerable]]":current["[[Enumerable]]"],"[[Value]]":void 0})}else if(this.IsDataDescriptor(current)&&this.IsDataDescriptor(Desc)){if(!current["[[Configurable]]"]&&!current["[[Writable]]"])return!("[[Writable]]"in Desc&&Desc["[[Writable]]"])&&!("[[Value]]"in Desc&&!this.SameValue(Desc["[[Value]]"],current["[[Value]]"]))}else{if(!this.IsAccessorDescriptor(current)||!this.IsAccessorDescriptor(Desc))throw new $TypeError("Assertion failed: current and Desc are not both data, both accessors, or one accessor and one data.");if(!current["[[Configurable]]"])return!("[[Set]]"in Desc&&!this.SameValue(Desc["[[Set]]"],current["[[Set]]"]))&&!("[[Get]]"in Desc&&!this.SameValue(Desc["[[Get]]"],current["[[Get]]"]))}return"Undefined"===oType||DefineOwnProperty(this,O,P,Desc)},OrdinaryDefineOwnProperty:function OrdinaryDefineOwnProperty(O,P,Desc){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");var desc=$gOPD(O,P),current=desc&&this.ToPropertyDescriptor(desc),extensible=this.IsExtensible(O);return this.ValidateAndApplyPropertyDescriptor(O,P,extensible,Desc,current)},OrdinaryGetOwnProperty:function OrdinaryGetOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");if(has(O,P)){if(!$gOPD){var arrayLength=this.IsArray(O)&&"length"===P,regexLastIndex=this.IsRegExp(O)&&"lastIndex"===P;return{"[[Configurable]]":!(arrayLength||regexLastIndex),"[[Enumerable]]":$isEnumerable(O,P),"[[Value]]":O[P],"[[Writable]]":!0}}return this.ToPropertyDescriptor($gOPD(O,P))}},ArrayCreate:function ArrayCreate(length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: `length` must be an integer Number >= 0");if(length>MAX_ARRAY_LENGTH)throw new $RangeError("length is greater than (2**32 - 1)");var proto=arguments.length>1?arguments[1]:$ArrayPrototype,A=[];if(proto!==$ArrayPrototype){if(!$setProto)throw new $SyntaxError("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");$setProto(A,proto)}return 0!==length&&(A.length=length),A},ArraySetLength:function ArraySetLength(A,Desc){if(!this.IsArray(A))throw new $TypeError("Assertion failed: A must be an Array");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");if(!("[[Value]]"in Desc))return this.OrdinaryDefineOwnProperty(A,"length",Desc);var newLenDesc=assign({},Desc),newLen=this.ToUint32(Desc["[[Value]]"]);if(newLen!==this.ToNumber(Desc["[[Value]]"]))throw new $RangeError("Invalid array length");newLenDesc["[[Value]]"]=newLen;var oldLenDesc=this.OrdinaryGetOwnProperty(A,"length");if(!this.IsDataDescriptor(oldLenDesc))throw new $TypeError("Assertion failed: an array had a non-data descriptor on `length`");var newWritable,oldLen=oldLenDesc["[[Value]]"];if(newLen>=oldLen)return this.OrdinaryDefineOwnProperty(A,"length",newLenDesc);if(!oldLenDesc["[[Writable]]"])return!1;if("[[Writable]]"in newLenDesc&&!newLenDesc["[[Writable]]"]?(newWritable=!1,newLenDesc["[[Writable]]"]=!0):newWritable=!0,!this.OrdinaryDefineOwnProperty(A,"length",newLenDesc))return!1;for(;newLen<oldLen;){if(oldLen-=1,!delete A[this.ToString(oldLen)]&&(newLenDesc["[[Value]]"]=oldLen+1,!newWritable))return newLenDesc["[[Writable]]"]=!1,this.OrdinaryDefineOwnProperty(A,"length",newLenDesc),!1}return!!newWritable||this.OrdinaryDefineOwnProperty(A,"length",{"[[Writable]]":!1})},CreateHTML:function CreateHTML(string,tag,attribute,value){if("String"!==this.Type(tag)||"String"!==this.Type(attribute))throw new $TypeError("Assertion failed: `tag` and `attribute` must be strings");var str=this.RequireObjectCoercible(string),S=this.ToString(str),p1="<"+tag;if(""!==attribute){var V=this.ToString(value);p1+=" "+attribute+'="'+$replace(V,/\x22/g,"&quot;")+'"'}return p1+">"+S+"</"+tag+">"},GetOwnPropertyKeys:function GetOwnPropertyKeys(O,Type){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("Symbol"===Type)return hasSymbols&&$gOPS?$gOPS(O):[];if("String"===Type)return $gOPN?$gOPN(O):keys(O);throw new $TypeError('Assertion failed: `Type` must be `"String"` or `"Symbol"`')},SymbolDescriptiveString:function SymbolDescriptiveString(sym){if("Symbol"!==this.Type(sym))throw new $TypeError("Assertion failed: `sym` must be a Symbol");return $SymbolToString(sym)},GetSubstitution:function GetSubstitution(matched,str,position,captures,replacement){if("String"!==this.Type(matched))throw new $TypeError("Assertion failed: `matched` must be a String");var matchLength=matched.length;if("String"!==this.Type(str))throw new $TypeError("Assertion failed: `str` must be a String");var stringLength=str.length;if(!this.IsInteger(position)||position<0||position>stringLength)throw new $TypeError("Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got "+inspect(position));var ES=this;if(!this.IsArray(captures)||!every(captures,function(capture,index,arr){return"String"===ES.Type(capture)||!(index in arr)}))throw new $TypeError("Assertion failed: `captures` must be a List of Strings, got "+inspect(captures));if("String"!==this.Type(replacement))throw new $TypeError("Assertion failed: `replacement` must be a String");for(var tailPos=position+matchLength,m=captures.length,result="",i=0;i<replacement.length;i+=1){var current=replacement[i],isLast=i+1>=replacement.length,nextIsLast=i+2>=replacement.length;if("$"!==current||isLast)result+=replacement[i];else{var next=replacement[i+1];if("$"===next)result+="$",i+=1;else if("&"===next)result+=matched,i+=1;else if("`"===next)result+=0===position?"":strSlice(str,0,position-1),i+=1;else if("'"===next)result+=tailPos>=stringLength?"":strSlice(str,tailPos),i+=1;else{var nextNext=nextIsLast?null:replacement[i+2];if(!isDigit(next)||"0"===next||!nextIsLast&&isDigit(nextNext))if(isDigit(next)&&(nextIsLast||isDigit(nextNext))){var nn=next+nextNext,nnI=parseInteger(nn,10)-1;result+=nn<=m&&"Undefined"===this.Type(captures[nnI])?"":captures[nnI],i+=2}else result+="$";else{var n=parseInteger(next,10);result+=n<=m&&"Undefined"===this.Type(captures[n-1])?"":captures[n-1],i+=1}}}}return result},ToDateString:function ToDateString(tv){if("Number"!==this.Type(tv))throw new $TypeError("Assertion failed: `tv` must be a Number");return $isNaN(tv)?"Invalid Date":$Date(tv)},CreateListFromArrayLike:function CreateListFromArrayLike(obj){var elementTypes=arguments.length>1?arguments[1]:["Undefined","Null","Boolean","String","Symbol","Number","Object"];if("Object"!==this.Type(obj))throw new $TypeError("Assertion failed: `obj` must be an Object");if(!this.IsArray(elementTypes))throw new $TypeError("Assertion failed: `elementTypes`, if provided, must be an array");for(var len=this.ToLength(this.Get(obj,"length")),list=[],index=0;index<len;){var indexName=this.ToString(index),next=this.Get(obj,indexName),nextType=this.Type(next);if($indexOf(elementTypes,nextType)<0)throw new $TypeError("item type "+nextType+" is not a valid elementType");$push(list,next),index+=1}return list},GetPrototypeFromConstructor:function GetPrototypeFromConstructor(constructor,intrinsicDefaultProto){var intrinsic=GetIntrinsic(intrinsicDefaultProto);if(!this.IsConstructor(constructor))throw new $TypeError("Assertion failed: `constructor` must be a constructor");var proto=this.Get(constructor,"prototype");if("Object"!==this.Type(proto)){if(!(constructor instanceof $Function))throw new $TypeError("cross-realm constructors not currently supported");proto=intrinsic}return proto},SetFunctionName:function SetFunctionName(F,name){if("function"!=typeof F)throw new $TypeError("Assertion failed: `F` must be a function");if(!this.IsExtensible(F)||has(F,"name"))throw new $TypeError("Assertion failed: `F` must be extensible, and must not have a `name` own property");var nameType=this.Type(name);if("Symbol"!==nameType&&"String"!==nameType)throw new $TypeError("Assertion failed: `name` must be a Symbol or a String");if("Symbol"===nameType){var description=getSymbolDescription(name);name=void 0===description?"":"["+description+"]"}if(arguments.length>2){var prefix=arguments[2];name=prefix+" "+name}return this.DefinePropertyOrThrow(F,"name",{"[[Value]]":name,"[[Writable]]":!1,"[[Enumerable]]":!1,"[[Configurable]]":!0})}});delete ES6.CheckObjectCoercible,module.exports=ES6},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(508)},function(module,exports,__webpack_require__){"use strict";var hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,isPrimitive=__webpack_require__(270),isCallable=__webpack_require__(22),isDate=__webpack_require__(101),isSymbol=__webpack_require__(102),ordinaryToPrimitive=function OrdinaryToPrimitive(O,hint){if(null==O)throw new TypeError("Cannot call method on "+O);if("string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');var method,result,i,methodNames="string"===hint?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methodNames.length;++i)if(method=O[methodNames[i]],isCallable(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")},GetMethod=function GetMethod(O,P){var func=O[P];if(null!=func){if(!isCallable(func))throw new TypeError(func+" returned for property "+P+" of object "+O+" is not a function");return func}};module.exports=function ToPrimitive(input){if(isPrimitive(input))return input;var exoticToPrim,hint="default";if(arguments.length>1&&(arguments[1]===String?hint="string":arguments[1]===Number&&(hint="number")),hasSymbols&&(Symbol.toPrimitive?exoticToPrim=GetMethod(input,Symbol.toPrimitive):isSymbol(input)&&(exoticToPrim=Symbol.prototype.valueOf)),void 0!==exoticToPrim){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),ordinaryToPrimitive(input,"default"===hint?"number":hint)}},function(module,exports,__webpack_require__){"use strict";module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var every=__webpack_require__(172);module.exports=function isSamePropertyDescriptor(ES,D1,D2){return every(["[[Configurable]]","[[Enumerable]]","[[Get]]","[[Set]]","[[Value]]","[[Writable]]"],function(field){return field in D1==field in D2&&ES.SameValue(D1[field],D2[field])})}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),callBound=__webpack_require__(50),$SyntaxError=GetIntrinsic("%SyntaxError%"),symToStr=callBound("Symbol.prototype.toString",!0),getInferredName=__webpack_require__(512);module.exports=function getSymbolDescription(symbol){if(!symToStr)throw new $SyntaxError("Symbols are not supported in this environment");var str=symToStr(symbol);if(getInferredName){var name=getInferredName(symbol);if(""===name)return;return name.slice(1,-1)}var desc=str.slice(7,-1);if(desc)return desc}},function(module,exports,__webpack_require__){"use strict";var getInferredName;try{getInferredName=Function("s","return { [s]() {} }[s].name;")}catch(e){}module.exports=getInferredName&&"inferred"===function(){}.name?getInferredName:null},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),$Object=GetIntrinsic("%Object%"),$EvalError=GetIntrinsic("%EvalError%"),$TypeError=GetIntrinsic("%TypeError%"),$String=GetIntrinsic("%String%"),$Date=GetIntrinsic("%Date%"),$Number=GetIntrinsic("%Number%"),$floor=GetIntrinsic("%Math.floor%"),$DateUTC=GetIntrinsic("%Date.UTC%"),$abs=GetIntrinsic("%Math.abs%"),assertRecord=__webpack_require__(271),isPropertyDescriptor=__webpack_require__(276),$isNaN=__webpack_require__(170),$isFinite=__webpack_require__(272),sign=__webpack_require__(274),mod=__webpack_require__(275),isPrefixOf=__webpack_require__(280),callBound=__webpack_require__(50),IsCallable=__webpack_require__(22),toPrimitive=__webpack_require__(514),has=__webpack_require__(11),$getUTCFullYear=callBound("Date.prototype.getUTCFullYear"),ES5={ToPrimitive:toPrimitive,ToBoolean:function ToBoolean(value){return!!value},ToNumber:function ToNumber(value){return+value},ToInteger:function ToInteger(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function ToInt32(x){return this.ToNumber(x)>>0},ToUint32:function ToUint32(x){return this.ToNumber(x)>>>0},ToUint16:function ToUint16(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function ToString(value){return $String(value)},ToObject:function ToObject(value){return this.CheckObjectCoercible(value),$Object(value)},CheckObjectCoercible:function CheckObjectCoercible(value,optMessage){if(null==value)throw new $TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function SameValue(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)},Type:function Type(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0},IsPropertyDescriptor:function IsPropertyDescriptor(Desc){return isPropertyDescriptor(this,Desc)},IsAccessorDescriptor:function IsAccessorDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]")))},IsDataDescriptor:function IsDataDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]")))},IsGenericDescriptor:function IsGenericDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!this.IsAccessorDescriptor(Desc)&&!this.IsDataDescriptor(Desc))},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;if(assertRecord(this,"Property Descriptor","Desc",Desc),this.IsDataDescriptor(Desc))return{value:Desc["[[Value]]"],writable:!!Desc["[[Writable]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};if(this.IsAccessorDescriptor(Desc))return{get:Desc["[[Get]]"],set:Desc["[[Set]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};throw new $TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function ToPropertyDescriptor(Obj){if("Object"!==this.Type(Obj))throw new $TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!this.IsCallable(getter))throw new TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!this.IsCallable(setter))throw new $TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc},"Abstract Equality Comparison":function AbstractEqualityComparison(x,y){var xType=this.Type(x),yType=this.Type(y);return xType===yType?x===y:null==x&&null==y||("Number"===xType&&"String"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"===xType&&"Number"===yType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===xType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"!==xType&&"Number"!==xType||"Object"!==yType?"Object"===xType&&("String"===yType||"Number"===yType)&&this["Abstract Equality Comparison"](this.ToPrimitive(x),y):this["Abstract Equality Comparison"](x,this.ToPrimitive(y)))},"Strict Equality Comparison":function StrictEqualityComparison(x,y){var xType=this.Type(x);return xType===this.Type(y)&&("Undefined"===xType||"Null"===xType||x===y)},"Abstract Relational Comparison":function AbstractRelationalComparison(x,y,LeftFirst){if("Boolean"!==this.Type(LeftFirst))throw new $TypeError("Assertion failed: LeftFirst argument must be a Boolean");var px,py;if(LeftFirst?(px=this.ToPrimitive(x,$Number),py=this.ToPrimitive(y,$Number)):(py=this.ToPrimitive(y,$Number),px=this.ToPrimitive(x,$Number)),!("String"===this.Type(px)&&"String"===this.Type(py))){var nx=this.ToNumber(px),ny=this.ToNumber(py);if($isNaN(nx)||$isNaN(ny))return;return(!$isFinite(nx)||!$isFinite(ny)||nx!==ny)&&((0!==nx||0!==ny)&&(nx!==1/0&&(ny===1/0||ny!==-1/0&&(nx===-1/0||nx<ny))))}return!isPrefixOf(py,px)&&(!!isPrefixOf(px,py)||px<py)},msFromTime:function msFromTime(t){return mod(t,1e3)},SecFromTime:function SecFromTime(t){return mod($floor(t/1e3),60)},MinFromTime:function MinFromTime(t){return mod($floor(t/6e4),60)},HourFromTime:function HourFromTime(t){return mod($floor(t/36e5),24)},Day:function Day(t){return $floor(t/864e5)},TimeWithinDay:function TimeWithinDay(t){return mod(t,864e5)},DayFromYear:function DayFromYear(y){return 365*(y-1970)+$floor((y-1969)/4)-$floor((y-1901)/100)+$floor((y-1601)/400)},TimeFromYear:function TimeFromYear(y){return 864e5*this.DayFromYear(y)},YearFromTime:function YearFromTime(t){return $getUTCFullYear(new $Date(t))},WeekDay:function WeekDay(t){return mod(this.Day(t)+4,7)},DaysInYear:function DaysInYear(y){return 0!==mod(y,4)?365:0!==mod(y,100)?366:0!==mod(y,400)?365:366},InLeapYear:function InLeapYear(t){var days=this.DaysInYear(this.YearFromTime(t));if(365===days)return 0;if(366===days)return 1;throw new $EvalError("Assertion failed: there are not 365 or 366 days in a year, got: "+days)},DayWithinYear:function DayWithinYear(t){return this.Day(t)-this.DayFromYear(this.YearFromTime(t))},MonthFromTime:function MonthFromTime(t){var day=this.DayWithinYear(t);if(0<=day&&day<31)return 0;var leap=this.InLeapYear(t);return 31<=day&&day<59+leap?1:59+leap<=day&&day<90+leap?2:90+leap<=day&&day<120+leap?3:120+leap<=day&&day<151+leap?4:151+leap<=day&&day<181+leap?5:181+leap<=day&&day<212+leap?6:212+leap<=day&&day<243+leap?7:243+leap<=day&&day<273+leap?8:273+leap<=day&&day<304+leap?9:304+leap<=day&&day<334+leap?10:334+leap<=day&&day<365+leap?11:void 0},DateFromTime:function DateFromTime(t){var m=this.MonthFromTime(t),d=this.DayWithinYear(t);if(0===m)return d+1;if(1===m)return d-30;var leap=this.InLeapYear(t);if(2===m)return d-58-leap;if(3===m)return d-89-leap;if(4===m)return d-119-leap;if(5===m)return d-150-leap;if(6===m)return d-180-leap;if(7===m)return d-211-leap;if(8===m)return d-242-leap;if(9===m)return d-272-leap;if(10===m)return d-303-leap;if(11===m)return d-333-leap;throw new $EvalError("Assertion failed: MonthFromTime returned an impossible value: "+m)},MakeDay:function MakeDay(year,month,date){if(!$isFinite(year)||!$isFinite(month)||!$isFinite(date))return NaN;var y=this.ToInteger(year),m=this.ToInteger(month),dt=this.ToInteger(date),ym=y+$floor(m/12),mn=mod(m,12),t=$DateUTC(ym,mn,1);return this.YearFromTime(t)!==ym||this.MonthFromTime(t)!==mn||1!==this.DateFromTime(t)?NaN:this.Day(t)+dt-1},MakeDate:function MakeDate(day,time){return $isFinite(day)&&$isFinite(time)?864e5*day+time:NaN},MakeTime:function MakeTime(hour,min,sec,ms){return $isFinite(hour)&&$isFinite(min)&&$isFinite(sec)&&$isFinite(ms)?36e5*this.ToInteger(hour)+6e4*this.ToInteger(min)+1e3*this.ToInteger(sec)+this.ToInteger(ms):NaN},TimeClip:function TimeClip(time){return!$isFinite(time)||$abs(time)>864e13?NaN:$Number(new $Date(this.ToNumber(time)))},modulo:function modulo(x,y){return mod(x,y)}};module.exports=ES5},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString,isPrimitive=__webpack_require__(270),isCallable=__webpack_require__(22),ES5internalSlots___DefaultValue__=function(O){var actualHint;if((actualHint=arguments.length>1?arguments[1]:"[object Date]"===toStr.call(O)?String:Number)===String||actualHint===Number){var value,i,methods=actualHint===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methods.length;++i)if(isCallable(O[methods[i]])&&(value=O[methods[i]](),isPrimitive(value)))return value;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};module.exports=function ToPrimitive(input){return isPrimitive(input)?input:arguments.length>1?ES5internalSlots___DefaultValue__(input,arguments[1]):ES5internalSlots___DefaultValue__(input)}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(16),originalGetProto=GetIntrinsic("%Object.getPrototypeOf%",!0),$ArrayProto=GetIntrinsic("%Array.prototype%");module.exports=originalGetProto||([].__proto__===$ArrayProto?function(O){return O.__proto__}:null)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(517),__webpack_require__(540),__webpack_require__(544)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(518)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),hasSymbols=__webpack_require__(55)(),getPolyfill=__webpack_require__(519),regexpMatchAllPolyfill=__webpack_require__(295),defineP=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor;module.exports=function shimMatchAll(){var polyfill=getPolyfill();if(define(String.prototype,{matchAll:polyfill},{matchAll:function(){return String.prototype.matchAll!==polyfill}}),hasSymbols){var symbol=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(define(Symbol,{matchAll:symbol},{matchAll:function(){return Symbol.matchAll!==symbol}}),defineP&&gOPD){var desc=gOPD(Symbol,symbol);desc&&!desc.configurable||defineP(Symbol,symbol,{configurable:!1,enumerable:!1,value:symbol,writable:!1})}var regexpMatchAll=regexpMatchAllPolyfill(),func={};func[symbol]=regexpMatchAll;var predicate={};predicate[symbol]=function(){return RegExp.prototype[symbol]!==regexpMatchAll},define(RegExp.prototype,func,predicate)}return polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(520);module.exports=function getPolyfill(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch(e){return String.prototype.matchAll}return implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(173),callBound=__webpack_require__(39),hasSymbols=__webpack_require__(55)(),flagsGetter=__webpack_require__(292),$indexOf=callBound("String.prototype.indexOf"),regexpMatchAllPolyfill=__webpack_require__(295),getMatcher=function getMatcher(regexp){var matcherPolyfill=regexpMatchAllPolyfill();if(hasSymbols&&"symbol"==typeof Symbol.matchAll){var matcher=ES.GetMethod(regexp,Symbol.matchAll);return matcher===RegExp.prototype[Symbol.matchAll]&&matcher!==matcherPolyfill?matcherPolyfill:matcher}if(ES.IsRegExp(regexp))return matcherPolyfill};module.exports=function matchAll(regexp){var O=ES.RequireObjectCoercible(this);if(null!=regexp){if(ES.IsRegExp(regexp)){var flags="flags"in regexp?ES.Get(regexp,"flags"):flagsGetter(regexp);if(ES.RequireObjectCoercible(flags),$indexOf(ES.ToString(flags),"g")<0)throw new TypeError("matchAll requires a non-global regular expression")}var matcher=getMatcher(regexp);if(void 0!==matcher)return ES.Call(matcher,regexp,[O])}var S=ES.ToString(O),rx=new RegExp(regexp,"g");return ES.Call(getMatcher(rx),rx,[S])}},,function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),keys=__webpack_require__(38),inspect=__webpack_require__(174),ES2017=__webpack_require__(524),assign=__webpack_require__(81),forEach=__webpack_require__(177),callBind=__webpack_require__(106),every=__webpack_require__(178),isPrefixOf=__webpack_require__(291),$String=GetIntrinsic("%String%"),$TypeError=GetIntrinsic("%TypeError%"),callBound=__webpack_require__(39),regexTester=__webpack_require__(288),$isNaN=__webpack_require__(176),$SymbolValueOf=callBound("Symbol.prototype.valueOf",!0),$strSlice=callBound("String.prototype.slice"),$indexOf=callBound("String.prototype.indexOf"),$parseInt=parseInt,isDigit=regexTester(/^[0-9]$/),$PromiseResolve=callBound("Promise.resolve",!0),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),$pushApply=callBind.apply(GetIntrinsic("%Array.prototype.push%")),$gOPS=$SymbolValueOf?GetIntrinsic("%Object.getOwnPropertySymbols%"):null,padTimeComponent=function padTimeComponent(c,count){return $strSlice("00"+c,-(count||2))},weekdays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ES2018=assign(assign({},ES2017),{EnumerableOwnPropertyNames:ES2017.EnumerableOwnProperties,thisSymbolValue:function thisSymbolValue(value){if(!$SymbolValueOf)throw new SyntaxError("Symbols are not supported; thisSymbolValue requires that `value` be a Symbol or a Symbol object");return"Symbol"===this.Type(value)?value:$SymbolValueOf(value)},IsStringPrefix:function IsStringPrefix(p,q){if("String"!==this.Type(p))throw new TypeError('Assertion failed: "p" must be a String');if("String"!==this.Type(q))throw new TypeError('Assertion failed: "q" must be a String');return isPrefixOf(p,q)},NumberToString:function NumberToString(m){if("Number"!==this.Type(m))throw new TypeError('Assertion failed: "m" must be a String');return $String(m)},CopyDataProperties:function CopyDataProperties(target,source,excludedItems){if("Object"!==this.Type(target))throw new TypeError('Assertion failed: "target" must be an Object');if(!this.IsArray(excludedItems))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');for(var i=0;i<excludedItems.length;i+=1)if(!this.IsPropertyKey(excludedItems[i]))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');if(null==source)return target;var ES=this,fromObj=ES.ToObject(source),sourceKeys=function OwnPropertyKeys(ES,source){var ownKeys=keys(source);return $gOPS&&$pushApply(ownKeys,$gOPS(source)),ownKeys}(0,fromObj);return forEach(sourceKeys,function(nextKey){var excluded=!1;forEach(excludedItems,function(e){!0===ES.SameValue(e,nextKey)&&(excluded=!0)});var enumerable=$isEnumerable(fromObj,nextKey)||"string"==typeof source&&nextKey>=0&&ES.IsInteger(ES.ToNumber(nextKey));if(!1===excluded&&enumerable){var propValue=ES.Get(fromObj,nextKey);ES.CreateDataProperty(target,nextKey,propValue)}}),target},PromiseResolve:function PromiseResolve(C,x){if(!$PromiseResolve)throw new SyntaxError("This environment does not support Promises.");return $PromiseResolve(C,x)},GetSubstitution:function GetSubstitution(matched,str,position,captures,namedCaptures,replacement){if("String"!==this.Type(matched))throw new $TypeError("Assertion failed: `matched` must be a String");var matchLength=matched.length;if("String"!==this.Type(str))throw new $TypeError("Assertion failed: `str` must be a String");var stringLength=str.length;if(!this.IsInteger(position)||position<0||position>stringLength)throw new $TypeError("Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got "+inspect(position));var ES=this;if(!this.IsArray(captures)||!every(captures,function(capture,index,arr){return"String"===ES.Type(capture)||!(index in arr)}))throw new $TypeError("Assertion failed: `captures` must be a List of Strings, got "+inspect(captures));if("String"!==this.Type(replacement))throw new $TypeError("Assertion failed: `replacement` must be a String");var tailPos=position+matchLength,m=captures.length;"Undefined"!==this.Type(namedCaptures)&&(namedCaptures=this.ToObject(namedCaptures));for(var result="",i=0;i<replacement.length;i+=1){var current=replacement[i],isLast=i+1>=replacement.length,nextIsLast=i+2>=replacement.length;if("$"!==current||isLast)result+=replacement[i];else{var next=replacement[i+1];if("$"===next)result+="$",i+=1;else if("&"===next)result+=matched,i+=1;else if("`"===next)result+=0===position?"":$strSlice(str,0,position-1),i+=1;else if("'"===next)result+=tailPos>=stringLength?"":$strSlice(str,tailPos),i+=1;else{var nextNext=nextIsLast?null:replacement[i+2];if(!isDigit(next)||"0"===next||!nextIsLast&&isDigit(nextNext))if(isDigit(next)&&(nextIsLast||isDigit(nextNext))){var nn=next+nextNext,nnI=$parseInt(nn,10)-1;result+=nn<=m&&"Undefined"===this.Type(captures[nnI])?"":captures[nnI],i+=2}else if("<"===next)if("Undefined"===this.Type(namedCaptures))result+="$<",i+=2;else{var endIndex=$indexOf(replacement,">",i);if(endIndex>-1){var groupName=$strSlice(replacement,i,endIndex),capture=this.Get(namedCaptures,groupName);"Undefined"!==this.Type(capture)&&(result+=this.ToString(capture)),i+="$<"+groupName+">".length}}else result+="$";else{var n=$parseInt(next,10);result+=n<=m&&"Undefined"===this.Type(captures[n-1])?"":captures[n-1],i+=1}}}}return result},DateString:function DateString(tv){if("Number"!==this.Type(tv)||$isNaN(tv))throw new $TypeError("Assertion failed: `tv` must be a non-NaN Number");return weekdays[this.WeekDay(tv)]+" "+months[this.MonthFromTime(tv)]+" "+padTimeComponent(this.DateFromTime(tv))+" "+padTimeComponent(this.YearFromTime(tv),4)},TimeString:function TimeString(tv){if("Number"!==this.Type(tv)||$isNaN(tv))throw new $TypeError("Assertion failed: `tv` must be a non-NaN Number");var hour=this.HourFromTime(tv),minute=this.MinFromTime(tv),second=this.SecFromTime(tv);return padTimeComponent(hour)+":"+padTimeComponent(minute)+":"+padTimeComponent(second)+" GMT"}});delete ES2018.EnumerableOwnProperties,delete ES2018.IsPropertyDescriptor,module.exports=ES2018},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),ES2016=__webpack_require__(525),assign=__webpack_require__(81),forEach=__webpack_require__(177),callBind=__webpack_require__(106),$TypeError=GetIntrinsic("%TypeError%"),callBound=__webpack_require__(39),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),$pushApply=callBind.apply(GetIntrinsic("%Array.prototype.push%")),$arrayPush=callBound("Array.prototype.push"),ES2017=assign(assign({},ES2016),{ToIndex:function ToIndex(value){if(void 0===value)return 0;var integerIndex=this.ToInteger(value);if(integerIndex<0)throw new RangeError("index must be >= 0");var index=this.ToLength(integerIndex);if(!this.SameValueZero(integerIndex,index))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return index},EnumerableOwnProperties:function EnumerableOwnProperties(O,kind){var keys=ES2016.EnumerableOwnNames(O);if("key"===kind)return keys;if("value"===kind||"key+value"===kind){var results=[];return forEach(keys,function(key){$isEnumerable(O,key)&&$pushApply(results,["value"===kind?O[key]:[key,O[key]]])}),results}throw new $TypeError('Assertion failed: "kind" is not "key", "value", or "key+value": '+kind)},IterableToList:function IterableToList(items,method){for(var iterator=this.GetIterator(items,method),values=[],next=!0;next;)if(next=this.IteratorStep(iterator)){var nextValue=this.IteratorValue(next);$arrayPush(values,nextValue)}return values}});delete ES2017.EnumerableOwnNames,delete ES2017.IterableToArrayLike,module.exports=ES2017},function(module,exports,__webpack_require__){"use strict";var ES2015=__webpack_require__(526),GetIntrinsic=__webpack_require__(14),assign=__webpack_require__(81),$setProto=__webpack_require__(290),callBound=__webpack_require__(39),getIteratorMethod=__webpack_require__(289),$TypeError=GetIntrinsic("%TypeError%"),$arrayPush=callBound("Array.prototype.push"),$getProto=__webpack_require__(535),ES2016=assign(assign({},ES2015),{SameValueNonNumber:function SameValueNonNumber(x,y){if("number"==typeof x||typeof x!=typeof y)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(x,y)},IterableToArrayLike:function IterableToArrayLike(items){var usingIterator=getIteratorMethod(this,items);if(void 0!==usingIterator){for(var iterator=this.GetIterator(items,usingIterator),values=[],next=!0;next;)if(next=this.IteratorStep(iterator)){var nextValue=this.IteratorValue(next);$arrayPush(values,nextValue)}return values}return this.ToObject(items)},OrdinaryGetPrototypeOf:function(O){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!$getProto)throw new $TypeError("This environment does not support fetching prototypes.");return $getProto(O)},OrdinarySetPrototypeOf:function(O,V){if("Object"!==this.Type(V)&&"Null"!==this.Type(V))throw new $TypeError("Assertion failed: V must be Object or Null");try{$setProto(O,V)}catch(e){return!1}return this.OrdinaryGetPrototypeOf(O)===V}});module.exports=ES2016},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(11),toPrimitive=__webpack_require__(527),keys=__webpack_require__(38),inspect=__webpack_require__(174),GetIntrinsic=__webpack_require__(14),$TypeError=GetIntrinsic("%TypeError%"),$RangeError=GetIntrinsic("%RangeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),$Array=GetIntrinsic("%Array%"),$ArrayPrototype=$Array.prototype,$String=GetIntrinsic("%String%"),$Object=GetIntrinsic("%Object%"),$Number=GetIntrinsic("%Number%"),$Symbol=GetIntrinsic("%Symbol%",!0),$RegExp=GetIntrinsic("%RegExp%"),$Date=GetIntrinsic("%Date%"),$Function=GetIntrinsic("%Function%"),$preventExtensions=$Object.preventExtensions,hasSymbols=__webpack_require__(175)(),assertRecord=__webpack_require__(282),$isNaN=__webpack_require__(176),$isFinite=__webpack_require__(283),MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_SAFE_INTEGER=__webpack_require__(284),assign=__webpack_require__(81),sign=__webpack_require__(285),mod=__webpack_require__(286),isPrimitive=__webpack_require__(529),forEach=__webpack_require__(177),every=__webpack_require__(178),isSamePropertyDescriptor=__webpack_require__(530),isPropertyDescriptor=__webpack_require__(287),parseInteger=parseInt,callBound=__webpack_require__(39),regexTester=__webpack_require__(288),getIteratorMethod=__webpack_require__(289),getSymbolDescription=__webpack_require__(531),$PromiseThen=callBound("Promise.prototype.then",!0),arraySlice=callBound("Array.prototype.slice"),strSlice=callBound("String.prototype.slice"),$indexOf=callBound("Array.prototype.indexOf"),$push=callBound("Array.prototype.push"),isBinary=regexTester(/^0b[01]+$/i),isOctal=regexTester(/^0o[0-7]+$/i),isDigit=regexTester(/^[0-9]$/),regexExec=callBound("RegExp.prototype.exec"),hasNonWS=regexTester(new $RegExp("["+["","",""].join("")+"]","g")),isInvalidHexLiteral=regexTester(/^[-+]0x[0-9a-f]+$/i),$charCodeAt=callBound("String.prototype.charCodeAt"),$isEnumerable=callBound("Object.prototype.propertyIsEnumerable"),toStr=callBound("Object.prototype.toString"),$NumberValueOf=callBound("Number.prototype.valueOf"),$BooleanValueOf=callBound("Boolean.prototype.valueOf"),$StringValueOf=callBound("String.prototype.valueOf"),$DateValueOf=callBound("Date.prototype.valueOf"),$SymbolToString=callBound("Symbol.prototype.toString",!0),$floor=Math.floor,$abs=Math.abs,$ObjectCreate=$Object.create,$gOPD=$Object.getOwnPropertyDescriptor,$gOPN=$Object.getOwnPropertyNames,$gOPS=$Object.getOwnPropertySymbols,$isExtensible=$Object.isExtensible,$defineProperty=$Object.defineProperty,$setProto=__webpack_require__(290),DefineOwnProperty=function DefineOwnProperty(ES,O,P,desc){if(!$defineProperty){if(!ES.IsDataDescriptor(desc))return!1;if(!desc["[[Configurable]]"]||!desc["[[Writable]]"])return!1;if(P in O&&$isEnumerable(O,P)!==!!desc["[[Enumerable]]"])return!1;var V=desc["[[Value]]"];return O[P]=V,ES.SameValue(O[P],V)}return $defineProperty(O,P,ES.FromPropertyDescriptor(desc)),!0},ws=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),$replace=callBound("String.prototype.replace"),ES5=__webpack_require__(533),hasRegExpMatcher=__webpack_require__(77),ES6=assign(assign({},ES5),{Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!this.IsCallable(F))throw new $TypeError(inspect(F)+" is not a function");return F.apply(V,args)},ToPrimitive:toPrimitive,ToNumber:function ToNumber(argument){var value=isPrimitive(argument)?argument:toPrimitive(argument,$Number);if("symbol"==typeof value)throw new $TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return this.ToNumber(parseInteger(strSlice(value,2),2));if(isOctal(value))return this.ToNumber(parseInteger(strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=function(value){return $replace(value,trimRegex,"")}(value);if(trimmed!==value)return this.ToNumber(trimmed)}return $Number(value)},ToInt16:function ToInt16(argument){var int16bit=this.ToUint16(argument);return int16bit>=32768?int16bit-65536:int16bit},ToInt8:function ToInt8(argument){var int8bit=this.ToUint8(argument);return int8bit>=128?int8bit-256:int8bit},ToUint8:function ToUint8(argument){var number=this.ToNumber(argument);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*$floor($abs(number));return mod(posInt,256)},ToUint8Clamp:function ToUint8Clamp(argument){var number=this.ToNumber(argument);if($isNaN(number)||number<=0)return 0;if(number>=255)return 255;var f=$floor(argument);return f+.5<number?f+1:number<f+.5?f:f%2!=0?f+1:f},ToString:function ToString(argument){if("symbol"==typeof argument)throw new $TypeError("Cannot convert a Symbol value to a string");return $String(argument)},ToObject:function ToObject(value){return this.RequireObjectCoercible(value),$Object(value)},ToPropertyKey:function ToPropertyKey(argument){var key=this.ToPrimitive(argument,$String);return"symbol"==typeof key?key:this.ToString(key)},ToLength:function ToLength(argument){var len=this.ToInteger(argument);return len<=0?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len},CanonicalNumericIndexString:function CanonicalNumericIndexString(argument){if("[object String]"!==toStr(argument))throw new $TypeError("must be a string");if("-0"===argument)return-0;var n=this.ToNumber(argument);return this.SameValue(this.ToString(n),argument)?n:void 0},RequireObjectCoercible:ES5.CheckObjectCoercible,IsArray:$Array.isArray||function IsArray(argument){return"[object Array]"===toStr(argument)},IsConstructor:function IsConstructor(argument){return"function"==typeof argument&&!!argument.prototype},IsExtensible:$preventExtensions?function IsExtensible(obj){return!isPrimitive(obj)&&$isExtensible(obj)}:function isExtensible(obj){return!0},IsInteger:function IsInteger(argument){if("number"!=typeof argument||$isNaN(argument)||!$isFinite(argument))return!1;var abs=$abs(argument);return $floor(abs)===abs},IsPropertyKey:function IsPropertyKey(argument){return"string"==typeof argument||"symbol"==typeof argument},IsRegExp:function IsRegExp(argument){if(!argument||"object"!=typeof argument)return!1;if(hasSymbols){var isRegExp=argument[$Symbol.match];if(void 0!==isRegExp)return ES5.ToBoolean(isRegExp)}return hasRegExpMatcher(argument)},SameValueZero:function SameValueZero(x,y){return x===y||$isNaN(x)&&$isNaN(y)},GetV:function GetV(V,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(V)[P]},GetMethod:function GetMethod(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var func=this.GetV(O,P);if(null!=func){if(!this.IsCallable(func))throw new $TypeError(P+"is not a function");return func}},Get:function Get(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true, got "+inspect(P));return O[P]},Type:function Type(x){return"symbol"==typeof x?"Symbol":ES5.Type(x)},SpeciesConstructor:function SpeciesConstructor(O,defaultConstructor){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var C=O.constructor;if(void 0===C)return defaultConstructor;if("Object"!==this.Type(C))throw new $TypeError("O.constructor is not an Object");var S=hasSymbols&&$Symbol.species?C[$Symbol.species]:void 0;if(null==S)return defaultConstructor;if(this.IsConstructor(S))return S;throw new $TypeError("no constructor found")},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;assertRecord(this,"Property Descriptor","Desc",Desc);var obj={};return"[[Value]]"in Desc&&(obj.value=Desc["[[Value]]"]),"[[Writable]]"in Desc&&(obj.writable=Desc["[[Writable]]"]),"[[Get]]"in Desc&&(obj.get=Desc["[[Get]]"]),"[[Set]]"in Desc&&(obj.set=Desc["[[Set]]"]),"[[Enumerable]]"in Desc&&(obj.enumerable=Desc["[[Enumerable]]"]),"[[Configurable]]"in Desc&&(obj.configurable=Desc["[[Configurable]]"]),obj},CompletePropertyDescriptor:function CompletePropertyDescriptor(Desc){return assertRecord(this,"Property Descriptor","Desc",Desc),this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc)?(has(Desc,"[[Value]]")||(Desc["[[Value]]"]=void 0),has(Desc,"[[Writable]]")||(Desc["[[Writable]]"]=!1)):(has(Desc,"[[Get]]")||(Desc["[[Get]]"]=void 0),has(Desc,"[[Set]]")||(Desc["[[Set]]"]=void 0)),has(Desc,"[[Enumerable]]")||(Desc["[[Enumerable]]"]=!1),has(Desc,"[[Configurable]]")||(Desc["[[Configurable]]"]=!1),Desc},Set:function Set(O,P,V,Throw){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");if("Boolean"!==this.Type(Throw))throw new $TypeError("Throw must be a Boolean");if(Throw)return O[P]=V,!0;try{O[P]=V}catch(e){return!1}},HasOwnProperty:function HasOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return has(O,P)},HasProperty:function HasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return P in O},IsConcatSpreadable:function IsConcatSpreadable(O){if("Object"!==this.Type(O))return!1;if(hasSymbols&&"symbol"==typeof $Symbol.isConcatSpreadable){var spreadable=this.Get(O,Symbol.isConcatSpreadable);if(void 0!==spreadable)return this.ToBoolean(spreadable)}return this.IsArray(O)},Invoke:function Invoke(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");var argumentsList=arraySlice(arguments,2),func=this.GetV(O,P);return this.Call(func,O,argumentsList)},GetIterator:function GetIterator(obj,method){var actualMethod=method;arguments.length<2&&(actualMethod=getIteratorMethod(this,obj));var iterator=this.Call(actualMethod,obj);if("Object"!==this.Type(iterator))throw new $TypeError("iterator must return an object");return iterator},IteratorNext:function IteratorNext(iterator,value){var result=this.Invoke(iterator,"next",arguments.length<2?[]:[value]);if("Object"!==this.Type(result))throw new $TypeError("iterator next must return an object");return result},IteratorComplete:function IteratorComplete(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(iterResult,"done"))},IteratorValue:function IteratorValue(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.Get(iterResult,"value")},IteratorStep:function IteratorStep(iterator){var result=this.IteratorNext(iterator);return!0!==this.IteratorComplete(result)&&result},IteratorClose:function IteratorClose(iterator,completion){if("Object"!==this.Type(iterator))throw new $TypeError("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(completion))throw new $TypeError("Assertion failed: completion is not a thunk for a Completion Record");var completionRecord,completionThunk=completion,iteratorReturn=this.GetMethod(iterator,"return");if(void 0===iteratorReturn)return completionThunk();try{var innerResult=this.Call(iteratorReturn,iterator,[])}catch(e){throw completionRecord=completionThunk(),completionThunk=null,e}if(completionRecord=completionThunk(),completionThunk=null,"Object"!==this.Type(innerResult))throw new $TypeError("iterator .return must return an object");return completionRecord},CreateIterResultObject:function CreateIterResultObject(value,done){if("Boolean"!==this.Type(done))throw new $TypeError("Assertion failed: Type(done) is not Boolean");return{value:value,done:done}},RegExpExec:function RegExpExec(R,S){if("Object"!==this.Type(R))throw new $TypeError("R must be an Object");if("String"!==this.Type(S))throw new $TypeError("S must be a String");var exec=this.Get(R,"exec");if(this.IsCallable(exec)){var result=this.Call(exec,R,[S]);if(null===result||"Object"===this.Type(result))return result;throw new $TypeError('"exec" method must return `null` or an Object')}return regexExec(R,S)},ArraySpeciesCreate:function ArraySpeciesCreate(originalArray,length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: length must be an integer >= 0");var C,len=0===length?0:length;if(this.IsArray(originalArray)&&(C=this.Get(originalArray,"constructor"),"Object"===this.Type(C)&&hasSymbols&&$Symbol.species&&null===(C=this.Get(C,$Symbol.species))&&(C=void 0)),void 0===C)return $Array(len);if(!this.IsConstructor(C))throw new $TypeError("C must be a constructor");return new C(len)},CreateDataProperty:function CreateDataProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var oldDesc=$gOPD(O,P),extensible=oldDesc||this.IsExtensible(O);return!(oldDesc&&(!oldDesc.writable||!oldDesc.configurable)||!extensible)&&DefineOwnProperty(this,O,P,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":V,"[[Writable]]":!0})},CreateDataPropertyOrThrow:function CreateDataPropertyOrThrow(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=this.CreateDataProperty(O,P,V);if(!success)throw new $TypeError("unable to create data property");return success},ObjectCreate:function ObjectCreate(proto,internalSlotsList){if(null!==proto&&"Object"!==this.Type(proto))throw new $TypeError("Assertion failed: proto must be null or an object");var slots=arguments.length<2?[]:internalSlotsList;if(slots.length>0)throw new $SyntaxError("es-abstract does not yet support internal slots");if(null===proto&&!$ObjectCreate)throw new $SyntaxError("native Object.create support is required to create null objects");return $ObjectCreate(proto)},AdvanceStringIndex:function AdvanceStringIndex(S,index,unicode){if("String"!==this.Type(S))throw new $TypeError("S must be a String");if(!this.IsInteger(index)||index<0||index>MAX_SAFE_INTEGER)throw new $TypeError("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(unicode))throw new $TypeError("Assertion failed: unicode must be a Boolean");if(!unicode)return index+1;if(index+1>=S.length)return index+1;var first=$charCodeAt(S,index);if(first<55296||first>56319)return index+1;var second=$charCodeAt(S,index+1);return second<56320||second>57343?index+1:index+2},CreateMethodProperty:function CreateMethodProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return DefineOwnProperty(this,O,P,{"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":V,"[[Writable]]":!0})},DefinePropertyOrThrow:function DefinePropertyOrThrow(O,P,desc){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var Desc=isPropertyDescriptor(this,desc)?desc:this.ToPropertyDescriptor(desc);if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc is not a valid Property Descriptor");return DefineOwnProperty(this,O,P,Desc)},DeletePropertyOrThrow:function DeletePropertyOrThrow(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=delete O[P];if(!success)throw new TypeError("Attempt to delete property failed.");return success},EnumerableOwnNames:function EnumerableOwnNames(O){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");return keys(O)},thisNumberValue:function thisNumberValue(value){return"Number"===this.Type(value)?value:$NumberValueOf(value)},thisBooleanValue:function thisBooleanValue(value){return"Boolean"===this.Type(value)?value:$BooleanValueOf(value)},thisStringValue:function thisStringValue(value){return"String"===this.Type(value)?value:$StringValueOf(value)},thisTimeValue:function thisTimeValue(value){return $DateValueOf(value)},SetIntegrityLevel:function SetIntegrityLevel(O,level){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("sealed"!==level&&"frozen"!==level)throw new $TypeError('Assertion failed: `level` must be `"sealed"` or `"frozen"`');if(!$preventExtensions)throw new $SyntaxError("SetIntegrityLevel requires native `Object.preventExtensions` support");if(!$preventExtensions(O))return!1;if(!$gOPN)throw new $SyntaxError("SetIntegrityLevel requires native `Object.getOwnPropertyNames` support");var theKeys=$gOPN(O),ES=this;return"sealed"===level?forEach(theKeys,function(k){ES.DefinePropertyOrThrow(O,k,{configurable:!1})}):"frozen"===level&&forEach(theKeys,function(k){var desc,currentDesc=$gOPD(O,k);void 0!==currentDesc&&(desc=ES.IsAccessorDescriptor(ES.ToPropertyDescriptor(currentDesc))?{configurable:!1}:{configurable:!1,writable:!1},ES.DefinePropertyOrThrow(O,k,desc))}),!0},TestIntegrityLevel:function TestIntegrityLevel(O,level){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("sealed"!==level&&"frozen"!==level)throw new $TypeError('Assertion failed: `level` must be `"sealed"` or `"frozen"`');if(this.IsExtensible(O))return!1;var theKeys=$gOPN(O),ES=this;return 0===theKeys.length||every(theKeys,function(k){var currentDesc=$gOPD(O,k);if(void 0!==currentDesc){if(currentDesc.configurable)return!1;if("frozen"===level&&ES.IsDataDescriptor(ES.ToPropertyDescriptor(currentDesc))&&currentDesc.writable)return!1}return!0})},OrdinaryHasInstance:function OrdinaryHasInstance(C,O){if(!1===this.IsCallable(C))return!1;if("Object"!==this.Type(O))return!1;var P=this.Get(C,"prototype");if("Object"!==this.Type(P))throw new $TypeError("OrdinaryHasInstance called on an object with an invalid prototype property.");return O instanceof C},OrdinaryHasProperty:function OrdinaryHasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");return P in O},InstanceofOperator:function InstanceofOperator(O,C){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var instOfHandler=hasSymbols&&$Symbol.hasInstance?this.GetMethod(C,$Symbol.hasInstance):void 0;if(void 0!==instOfHandler)return this.ToBoolean(this.Call(instOfHandler,C,[O]));if(!this.IsCallable(C))throw new $TypeError("`C` is not Callable");return this.OrdinaryHasInstance(C,O)},IsPromise:function IsPromise(x){if("Object"!==this.Type(x))return!1;if(!$PromiseThen)return!1;try{$PromiseThen(x)}catch(e){return!1}return!0},"Abstract Equality Comparison":function AbstractEqualityComparison(x,y){var xType=this.Type(x),yType=this.Type(y);return xType===yType?x===y:null==x&&null==y||("Number"===xType&&"String"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"===xType&&"Number"===yType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===xType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"!==xType&&"Number"!==xType&&"Symbol"!==xType||"Object"!==yType?"Object"===xType&&("String"===yType||"Number"===yType||"Symbol"===yType)&&this["Abstract Equality Comparison"](this.ToPrimitive(x),y):this["Abstract Equality Comparison"](x,this.ToPrimitive(y)))},ValidateAndApplyPropertyDescriptor:function ValidateAndApplyPropertyDescriptor(O,P,extensible,Desc,current){var oType=this.Type(O);if("Undefined"!==oType&&"Object"!==oType)throw new $TypeError("Assertion failed: O must be undefined or an Object");if("Boolean"!==this.Type(extensible))throw new $TypeError("Assertion failed: extensible must be a Boolean");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");if("Undefined"!==this.Type(current)&&!isPropertyDescriptor(this,current))throw new $TypeError("Assertion failed: current must be a Property Descriptor, or undefined");if("Undefined"!==oType&&!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: if O is not undefined, P must be a Property Key");if("Undefined"===this.Type(current)){if(!extensible)return!1;if(this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc))"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":Desc["[[Configurable]]"],"[[Enumerable]]":Desc["[[Enumerable]]"],"[[Value]]":Desc["[[Value]]"],"[[Writable]]":Desc["[[Writable]]"]});else{if(!this.IsAccessorDescriptor(Desc))throw new $TypeError("Assertion failed: Desc is not an accessor descriptor");if("Undefined"!==oType)return DefineOwnProperty(this,O,P,Desc)}return!0}if(this.IsGenericDescriptor(Desc)&&!("[[Configurable]]"in Desc)&&!("[[Enumerable]]"in Desc))return!0;if(isSamePropertyDescriptor(this,Desc,current))return!0;if(!current["[[Configurable]]"]){if(Desc["[[Configurable]]"])return!1;if("[[Enumerable]]"in Desc&&!Desc["[[Enumerable]]"]==!!current["[[Enumerable]]"])return!1}if(this.IsGenericDescriptor(Desc));else if(this.IsDataDescriptor(current)!==this.IsDataDescriptor(Desc)){if(!current["[[Configurable]]"])return!1;this.IsDataDescriptor(current)?"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":current["[[Configurable]]"],"[[Enumerable]]":current["[[Enumerable]]"],"[[Get]]":void 0}):"Undefined"!==oType&&DefineOwnProperty(this,O,P,{"[[Configurable]]":current["[[Configurable]]"],"[[Enumerable]]":current["[[Enumerable]]"],"[[Value]]":void 0})}else if(this.IsDataDescriptor(current)&&this.IsDataDescriptor(Desc)){if(!current["[[Configurable]]"]&&!current["[[Writable]]"])return!("[[Writable]]"in Desc&&Desc["[[Writable]]"])&&!("[[Value]]"in Desc&&!this.SameValue(Desc["[[Value]]"],current["[[Value]]"]))}else{if(!this.IsAccessorDescriptor(current)||!this.IsAccessorDescriptor(Desc))throw new $TypeError("Assertion failed: current and Desc are not both data, both accessors, or one accessor and one data.");if(!current["[[Configurable]]"])return!("[[Set]]"in Desc&&!this.SameValue(Desc["[[Set]]"],current["[[Set]]"]))&&!("[[Get]]"in Desc&&!this.SameValue(Desc["[[Get]]"],current["[[Get]]"]))}return"Undefined"===oType||DefineOwnProperty(this,O,P,Desc)},OrdinaryDefineOwnProperty:function OrdinaryDefineOwnProperty(O,P,Desc){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");var desc=$gOPD(O,P),current=desc&&this.ToPropertyDescriptor(desc),extensible=this.IsExtensible(O);return this.ValidateAndApplyPropertyDescriptor(O,P,extensible,Desc,current)},OrdinaryGetOwnProperty:function OrdinaryGetOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: P must be a Property Key");if(has(O,P)){if(!$gOPD){var arrayLength=this.IsArray(O)&&"length"===P,regexLastIndex=this.IsRegExp(O)&&"lastIndex"===P;return{"[[Configurable]]":!(arrayLength||regexLastIndex),"[[Enumerable]]":$isEnumerable(O,P),"[[Value]]":O[P],"[[Writable]]":!0}}return this.ToPropertyDescriptor($gOPD(O,P))}},ArrayCreate:function ArrayCreate(length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: `length` must be an integer Number >= 0");if(length>MAX_ARRAY_LENGTH)throw new $RangeError("length is greater than (2**32 - 1)");var proto=arguments.length>1?arguments[1]:$ArrayPrototype,A=[];if(proto!==$ArrayPrototype){if(!$setProto)throw new $SyntaxError("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");$setProto(A,proto)}return 0!==length&&(A.length=length),A},ArraySetLength:function ArraySetLength(A,Desc){if(!this.IsArray(A))throw new $TypeError("Assertion failed: A must be an Array");if(!isPropertyDescriptor(this,Desc))throw new $TypeError("Assertion failed: Desc must be a Property Descriptor");if(!("[[Value]]"in Desc))return this.OrdinaryDefineOwnProperty(A,"length",Desc);var newLenDesc=assign({},Desc),newLen=this.ToUint32(Desc["[[Value]]"]);if(newLen!==this.ToNumber(Desc["[[Value]]"]))throw new $RangeError("Invalid array length");newLenDesc["[[Value]]"]=newLen;var oldLenDesc=this.OrdinaryGetOwnProperty(A,"length");if(!this.IsDataDescriptor(oldLenDesc))throw new $TypeError("Assertion failed: an array had a non-data descriptor on `length`");var newWritable,oldLen=oldLenDesc["[[Value]]"];if(newLen>=oldLen)return this.OrdinaryDefineOwnProperty(A,"length",newLenDesc);if(!oldLenDesc["[[Writable]]"])return!1;if("[[Writable]]"in newLenDesc&&!newLenDesc["[[Writable]]"]?(newWritable=!1,newLenDesc["[[Writable]]"]=!0):newWritable=!0,!this.OrdinaryDefineOwnProperty(A,"length",newLenDesc))return!1;for(;newLen<oldLen;){if(oldLen-=1,!delete A[this.ToString(oldLen)]&&(newLenDesc["[[Value]]"]=oldLen+1,!newWritable))return newLenDesc["[[Writable]]"]=!1,this.OrdinaryDefineOwnProperty(A,"length",newLenDesc),!1}return!!newWritable||this.OrdinaryDefineOwnProperty(A,"length",{"[[Writable]]":!1})},CreateHTML:function CreateHTML(string,tag,attribute,value){if("String"!==this.Type(tag)||"String"!==this.Type(attribute))throw new $TypeError("Assertion failed: `tag` and `attribute` must be strings");var str=this.RequireObjectCoercible(string),S=this.ToString(str),p1="<"+tag;if(""!==attribute){var V=this.ToString(value);p1+=" "+attribute+'="'+$replace(V,/\x22/g,"&quot;")+'"'}return p1+">"+S+"</"+tag+">"},GetOwnPropertyKeys:function GetOwnPropertyKeys(O,Type){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if("Symbol"===Type)return hasSymbols&&$gOPS?$gOPS(O):[];if("String"===Type)return $gOPN?$gOPN(O):keys(O);throw new $TypeError('Assertion failed: `Type` must be `"String"` or `"Symbol"`')},SymbolDescriptiveString:function SymbolDescriptiveString(sym){if("Symbol"!==this.Type(sym))throw new $TypeError("Assertion failed: `sym` must be a Symbol");return $SymbolToString(sym)},GetSubstitution:function GetSubstitution(matched,str,position,captures,replacement){if("String"!==this.Type(matched))throw new $TypeError("Assertion failed: `matched` must be a String");var matchLength=matched.length;if("String"!==this.Type(str))throw new $TypeError("Assertion failed: `str` must be a String");var stringLength=str.length;if(!this.IsInteger(position)||position<0||position>stringLength)throw new $TypeError("Assertion failed: `position` must be a nonnegative integer, and less than or equal to the length of `string`, got "+inspect(position));var ES=this;if(!this.IsArray(captures)||!every(captures,function(capture,index,arr){return"String"===ES.Type(capture)||!(index in arr)}))throw new $TypeError("Assertion failed: `captures` must be a List of Strings, got "+inspect(captures));if("String"!==this.Type(replacement))throw new $TypeError("Assertion failed: `replacement` must be a String");for(var tailPos=position+matchLength,m=captures.length,result="",i=0;i<replacement.length;i+=1){var current=replacement[i],isLast=i+1>=replacement.length,nextIsLast=i+2>=replacement.length;if("$"!==current||isLast)result+=replacement[i];else{var next=replacement[i+1];if("$"===next)result+="$",i+=1;else if("&"===next)result+=matched,i+=1;else if("`"===next)result+=0===position?"":strSlice(str,0,position-1),i+=1;else if("'"===next)result+=tailPos>=stringLength?"":strSlice(str,tailPos),i+=1;else{var nextNext=nextIsLast?null:replacement[i+2];if(!isDigit(next)||"0"===next||!nextIsLast&&isDigit(nextNext))if(isDigit(next)&&(nextIsLast||isDigit(nextNext))){var nn=next+nextNext,nnI=parseInteger(nn,10)-1;result+=nn<=m&&"Undefined"===this.Type(captures[nnI])?"":captures[nnI],i+=2}else result+="$";else{var n=parseInteger(next,10);result+=n<=m&&"Undefined"===this.Type(captures[n-1])?"":captures[n-1],i+=1}}}}return result},ToDateString:function ToDateString(tv){if("Number"!==this.Type(tv))throw new $TypeError("Assertion failed: `tv` must be a Number");return $isNaN(tv)?"Invalid Date":$Date(tv)},CreateListFromArrayLike:function CreateListFromArrayLike(obj){var elementTypes=arguments.length>1?arguments[1]:["Undefined","Null","Boolean","String","Symbol","Number","Object"];if("Object"!==this.Type(obj))throw new $TypeError("Assertion failed: `obj` must be an Object");if(!this.IsArray(elementTypes))throw new $TypeError("Assertion failed: `elementTypes`, if provided, must be an array");for(var len=this.ToLength(this.Get(obj,"length")),list=[],index=0;index<len;){var indexName=this.ToString(index),next=this.Get(obj,indexName),nextType=this.Type(next);if($indexOf(elementTypes,nextType)<0)throw new $TypeError("item type "+nextType+" is not a valid elementType");$push(list,next),index+=1}return list},GetPrototypeFromConstructor:function GetPrototypeFromConstructor(constructor,intrinsicDefaultProto){var intrinsic=GetIntrinsic(intrinsicDefaultProto);if(!this.IsConstructor(constructor))throw new $TypeError("Assertion failed: `constructor` must be a constructor");var proto=this.Get(constructor,"prototype");if("Object"!==this.Type(proto)){if(!(constructor instanceof $Function))throw new $TypeError("cross-realm constructors not currently supported");proto=intrinsic}return proto},SetFunctionName:function SetFunctionName(F,name){if("function"!=typeof F)throw new $TypeError("Assertion failed: `F` must be a function");if(!this.IsExtensible(F)||has(F,"name"))throw new $TypeError("Assertion failed: `F` must be extensible, and must not have a `name` own property");var nameType=this.Type(name);if("Symbol"!==nameType&&"String"!==nameType)throw new $TypeError("Assertion failed: `name` must be a Symbol or a String");if("Symbol"===nameType){var description=getSymbolDescription(name);name=void 0===description?"":"["+description+"]"}if(arguments.length>2){var prefix=arguments[2];name=prefix+" "+name}return this.DefinePropertyOrThrow(F,"name",{"[[Value]]":name,"[[Writable]]":!1,"[[Enumerable]]":!1,"[[Configurable]]":!0})}});delete ES6.CheckObjectCoercible,module.exports=ES6},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(528)},function(module,exports,__webpack_require__){"use strict";var hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,isPrimitive=__webpack_require__(281),isCallable=__webpack_require__(22),isDate=__webpack_require__(101),isSymbol=__webpack_require__(102),ordinaryToPrimitive=function OrdinaryToPrimitive(O,hint){if(null==O)throw new TypeError("Cannot call method on "+O);if("string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');var method,result,i,methodNames="string"===hint?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methodNames.length;++i)if(method=O[methodNames[i]],isCallable(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")},GetMethod=function GetMethod(O,P){var func=O[P];if(null!=func){if(!isCallable(func))throw new TypeError(func+" returned for property "+P+" of object "+O+" is not a function");return func}};module.exports=function ToPrimitive(input){if(isPrimitive(input))return input;var exoticToPrim,hint="default";if(arguments.length>1&&(arguments[1]===String?hint="string":arguments[1]===Number&&(hint="number")),hasSymbols&&(Symbol.toPrimitive?exoticToPrim=GetMethod(input,Symbol.toPrimitive):isSymbol(input)&&(exoticToPrim=Symbol.prototype.valueOf)),void 0!==exoticToPrim){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),ordinaryToPrimitive(input,"default"===hint?"number":hint)}},function(module,exports,__webpack_require__){"use strict";module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var every=__webpack_require__(178);module.exports=function isSamePropertyDescriptor(ES,D1,D2){return every(["[[Configurable]]","[[Enumerable]]","[[Get]]","[[Set]]","[[Value]]","[[Writable]]"],function(field){return field in D1==field in D2&&ES.SameValue(D1[field],D2[field])})}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),callBound=__webpack_require__(39),$SyntaxError=GetIntrinsic("%SyntaxError%"),symToStr=callBound("Symbol.prototype.toString",!0),getInferredName=__webpack_require__(532);module.exports=function getSymbolDescription(symbol){if(!symToStr)throw new $SyntaxError("Symbols are not supported in this environment");var str=symToStr(symbol);if(getInferredName){var name=getInferredName(symbol);if(""===name)return;return name.slice(1,-1)}var desc=str.slice(7,-1);if(desc)return desc}},function(module,exports,__webpack_require__){"use strict";var getInferredName;try{getInferredName=Function("s","return { [s]() {} }[s].name;")}catch(e){}module.exports=getInferredName&&"inferred"===function(){}.name?getInferredName:null},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),$Object=GetIntrinsic("%Object%"),$EvalError=GetIntrinsic("%EvalError%"),$TypeError=GetIntrinsic("%TypeError%"),$String=GetIntrinsic("%String%"),$Date=GetIntrinsic("%Date%"),$Number=GetIntrinsic("%Number%"),$floor=GetIntrinsic("%Math.floor%"),$DateUTC=GetIntrinsic("%Date.UTC%"),$abs=GetIntrinsic("%Math.abs%"),assertRecord=__webpack_require__(282),isPropertyDescriptor=__webpack_require__(287),$isNaN=__webpack_require__(176),$isFinite=__webpack_require__(283),sign=__webpack_require__(285),mod=__webpack_require__(286),isPrefixOf=__webpack_require__(291),callBound=__webpack_require__(39),IsCallable=__webpack_require__(22),toPrimitive=__webpack_require__(534),has=__webpack_require__(11),$getUTCFullYear=callBound("Date.prototype.getUTCFullYear"),ES5={ToPrimitive:toPrimitive,ToBoolean:function ToBoolean(value){return!!value},ToNumber:function ToNumber(value){return+value},ToInteger:function ToInteger(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function ToInt32(x){return this.ToNumber(x)>>0},ToUint32:function ToUint32(x){return this.ToNumber(x)>>>0},ToUint16:function ToUint16(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function ToString(value){return $String(value)},ToObject:function ToObject(value){return this.CheckObjectCoercible(value),$Object(value)},CheckObjectCoercible:function CheckObjectCoercible(value,optMessage){if(null==value)throw new $TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function SameValue(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)},Type:function Type(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0},IsPropertyDescriptor:function IsPropertyDescriptor(Desc){return isPropertyDescriptor(this,Desc)},IsAccessorDescriptor:function IsAccessorDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]")))},IsDataDescriptor:function IsDataDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]")))},IsGenericDescriptor:function IsGenericDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!this.IsAccessorDescriptor(Desc)&&!this.IsDataDescriptor(Desc))},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;if(assertRecord(this,"Property Descriptor","Desc",Desc),this.IsDataDescriptor(Desc))return{value:Desc["[[Value]]"],writable:!!Desc["[[Writable]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};if(this.IsAccessorDescriptor(Desc))return{get:Desc["[[Get]]"],set:Desc["[[Set]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};throw new $TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function ToPropertyDescriptor(Obj){if("Object"!==this.Type(Obj))throw new $TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!this.IsCallable(getter))throw new TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!this.IsCallable(setter))throw new $TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc},"Abstract Equality Comparison":function AbstractEqualityComparison(x,y){var xType=this.Type(x),yType=this.Type(y);return xType===yType?x===y:null==x&&null==y||("Number"===xType&&"String"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"===xType&&"Number"===yType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===xType?this["Abstract Equality Comparison"](this.ToNumber(x),y):"Boolean"===yType?this["Abstract Equality Comparison"](x,this.ToNumber(y)):"String"!==xType&&"Number"!==xType||"Object"!==yType?"Object"===xType&&("String"===yType||"Number"===yType)&&this["Abstract Equality Comparison"](this.ToPrimitive(x),y):this["Abstract Equality Comparison"](x,this.ToPrimitive(y)))},"Strict Equality Comparison":function StrictEqualityComparison(x,y){var xType=this.Type(x);return xType===this.Type(y)&&("Undefined"===xType||"Null"===xType||x===y)},"Abstract Relational Comparison":function AbstractRelationalComparison(x,y,LeftFirst){if("Boolean"!==this.Type(LeftFirst))throw new $TypeError("Assertion failed: LeftFirst argument must be a Boolean");var px,py;if(LeftFirst?(px=this.ToPrimitive(x,$Number),py=this.ToPrimitive(y,$Number)):(py=this.ToPrimitive(y,$Number),px=this.ToPrimitive(x,$Number)),!("String"===this.Type(px)&&"String"===this.Type(py))){var nx=this.ToNumber(px),ny=this.ToNumber(py);if($isNaN(nx)||$isNaN(ny))return;return(!$isFinite(nx)||!$isFinite(ny)||nx!==ny)&&((0!==nx||0!==ny)&&(nx!==1/0&&(ny===1/0||ny!==-1/0&&(nx===-1/0||nx<ny))))}return!isPrefixOf(py,px)&&(!!isPrefixOf(px,py)||px<py)},msFromTime:function msFromTime(t){return mod(t,1e3)},SecFromTime:function SecFromTime(t){return mod($floor(t/1e3),60)},MinFromTime:function MinFromTime(t){return mod($floor(t/6e4),60)},HourFromTime:function HourFromTime(t){return mod($floor(t/36e5),24)},Day:function Day(t){return $floor(t/864e5)},TimeWithinDay:function TimeWithinDay(t){return mod(t,864e5)},DayFromYear:function DayFromYear(y){return 365*(y-1970)+$floor((y-1969)/4)-$floor((y-1901)/100)+$floor((y-1601)/400)},TimeFromYear:function TimeFromYear(y){return 864e5*this.DayFromYear(y)},YearFromTime:function YearFromTime(t){return $getUTCFullYear(new $Date(t))},WeekDay:function WeekDay(t){return mod(this.Day(t)+4,7)},DaysInYear:function DaysInYear(y){return 0!==mod(y,4)?365:0!==mod(y,100)?366:0!==mod(y,400)?365:366},InLeapYear:function InLeapYear(t){var days=this.DaysInYear(this.YearFromTime(t));if(365===days)return 0;if(366===days)return 1;throw new $EvalError("Assertion failed: there are not 365 or 366 days in a year, got: "+days)},DayWithinYear:function DayWithinYear(t){return this.Day(t)-this.DayFromYear(this.YearFromTime(t))},MonthFromTime:function MonthFromTime(t){var day=this.DayWithinYear(t);if(0<=day&&day<31)return 0;var leap=this.InLeapYear(t);return 31<=day&&day<59+leap?1:59+leap<=day&&day<90+leap?2:90+leap<=day&&day<120+leap?3:120+leap<=day&&day<151+leap?4:151+leap<=day&&day<181+leap?5:181+leap<=day&&day<212+leap?6:212+leap<=day&&day<243+leap?7:243+leap<=day&&day<273+leap?8:273+leap<=day&&day<304+leap?9:304+leap<=day&&day<334+leap?10:334+leap<=day&&day<365+leap?11:void 0},DateFromTime:function DateFromTime(t){var m=this.MonthFromTime(t),d=this.DayWithinYear(t);if(0===m)return d+1;if(1===m)return d-30;var leap=this.InLeapYear(t);if(2===m)return d-58-leap;if(3===m)return d-89-leap;if(4===m)return d-119-leap;if(5===m)return d-150-leap;if(6===m)return d-180-leap;if(7===m)return d-211-leap;if(8===m)return d-242-leap;if(9===m)return d-272-leap;if(10===m)return d-303-leap;if(11===m)return d-333-leap;throw new $EvalError("Assertion failed: MonthFromTime returned an impossible value: "+m)},MakeDay:function MakeDay(year,month,date){if(!$isFinite(year)||!$isFinite(month)||!$isFinite(date))return NaN;var y=this.ToInteger(year),m=this.ToInteger(month),dt=this.ToInteger(date),ym=y+$floor(m/12),mn=mod(m,12),t=$DateUTC(ym,mn,1);return this.YearFromTime(t)!==ym||this.MonthFromTime(t)!==mn||1!==this.DateFromTime(t)?NaN:this.Day(t)+dt-1},MakeDate:function MakeDate(day,time){return $isFinite(day)&&$isFinite(time)?864e5*day+time:NaN},MakeTime:function MakeTime(hour,min,sec,ms){return $isFinite(hour)&&$isFinite(min)&&$isFinite(sec)&&$isFinite(ms)?36e5*this.ToInteger(hour)+6e4*this.ToInteger(min)+1e3*this.ToInteger(sec)+this.ToInteger(ms):NaN},TimeClip:function TimeClip(time){return!$isFinite(time)||$abs(time)>864e13?NaN:$Number(new $Date(this.ToNumber(time)))},modulo:function modulo(x,y){return mod(x,y)}};module.exports=ES5},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString,isPrimitive=__webpack_require__(281),isCallable=__webpack_require__(22),ES5internalSlots___DefaultValue__=function(O){var actualHint;if((actualHint=arguments.length>1?arguments[1]:"[object Date]"===toStr.call(O)?String:Number)===String||actualHint===Number){var value,i,methods=actualHint===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methods.length;++i)if(isCallable(O[methods[i]])&&(value=O[methods[i]](),isPrimitive(value)))return value;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};module.exports=function ToPrimitive(input){return isPrimitive(input)?input:arguments.length>1?ES5internalSlots___DefaultValue__(input,arguments[1]):ES5internalSlots___DefaultValue__(input)}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(14),originalGetProto=GetIntrinsic("%Object.getPrototypeOf%",!0),$ArrayProto=GetIntrinsic("%Array.prototype%");module.exports=originalGetProto||([].__proto__===$ArrayProto?function(O){return O.__proto__}:null)},function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__(8).supportsDescriptors,getPolyfill=__webpack_require__(294),gOPD=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,TypeErr=TypeError,getProto=Object.getPrototypeOf,regex=/a/;module.exports=function shimFlags(){if(!supportsDescriptors||!getProto)throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var polyfill=getPolyfill(),proto=getProto(regex),descriptor=gOPD(proto,"flags");return descriptor&&descriptor.get===polyfill||defineProperty(proto,"flags",{configurable:!0,enumerable:!1,get:polyfill}),polyfill}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(173),flagsGetter=__webpack_require__(292),RegExpStringIterator=__webpack_require__(538),OrigRegExp=RegExp,supportsConstructingWithFlags="flags"in RegExp.prototype,regexMatchAll=function SymbolMatchAll(string){var R=this;if("Object"!==ES.Type(R))throw new TypeError('"this" value must be an Object');var S=ES.ToString(string),tmp=function constructRegex(C,R){var flags="flags"in R?ES.Get(R,"flags"):ES.ToString(flagsGetter(R));return{flags:flags,matcher:new C(supportsConstructingWithFlags&&"string"==typeof flags?R:C===OrigRegExp?R.source:R,flags)}}(ES.SpeciesConstructor(R,OrigRegExp),R),flags=tmp.flags,matcher=tmp.matcher,lastIndex=ES.ToLength(ES.Get(R,"lastIndex"));return ES.Set(matcher,"lastIndex",lastIndex,!0),function CreateRegExpStringIterator(R,S,global,fullUnicode){if("String"!==ES.Type(S))throw new TypeError('"S" value must be a String');if("Boolean"!==ES.Type(global))throw new TypeError('"global" value must be a Boolean');if("Boolean"!==ES.Type(fullUnicode))throw new TypeError('"fullUnicode" value must be a Boolean');return new RegExpStringIterator(R,S,global,fullUnicode)}(matcher,S,flags.indexOf("g")>-1,flags.indexOf("u")>-1)},defineP=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor;if(defineP&&gOPD){var desc=gOPD(regexMatchAll,"name");desc&&desc.configurable&&defineP(regexMatchAll,"name",{value:"[Symbol.matchAll]"})}module.exports=regexMatchAll},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),ES=__webpack_require__(173),GetIntrinsic=__webpack_require__(14),hasSymbols=__webpack_require__(55)(),hidden=__webpack_require__(539)(),RegExpStringIterator=function RegExpStringIterator(R,S,global,fullUnicode){if("String"!==ES.Type(S))throw new TypeError("S must be a string");if("Boolean"!==ES.Type(global))throw new TypeError("global must be a boolean");if("Boolean"!==ES.Type(fullUnicode))throw new TypeError("fullUnicode must be a boolean");hidden.set(this,"[[IteratingRegExp]]",R),hidden.set(this,"[[IteratedString]]",S),hidden.set(this,"[[Global]]",global),hidden.set(this,"[[Unicode]]",fullUnicode),hidden.set(this,"[[Done]]",!1)},IteratorPrototype=GetIntrinsic("%IteratorPrototype%",!0);if(IteratorPrototype&&(RegExpStringIterator.prototype=ES.ObjectCreate(IteratorPrototype)),define(RegExpStringIterator.prototype,{next:function next(){var O=this;if("Object"!==ES.Type(O))throw new TypeError("receiver must be an object");if(!(O instanceof RegExpStringIterator&&hidden.has(O,"[[IteratingRegExp]]")&&hidden.has(O,"[[IteratedString]]")&&hidden.has(O,"[[Global]]")&&hidden.has(O,"[[Unicode]]")&&hidden.has(O,"[[Done]]")))throw new TypeError('"this" value must be a RegExpStringIterator instance');if(hidden.get(O,"[[Done]]"))return ES.CreateIterResultObject(void 0,!0);var R=hidden.get(O,"[[IteratingRegExp]]"),S=hidden.get(O,"[[IteratedString]]"),global=hidden.get(O,"[[Global]]"),fullUnicode=hidden.get(O,"[[Unicode]]"),match=ES.RegExpExec(R,S);if(null===match)return hidden.set(O,"[[Done]]",!0),ES.CreateIterResultObject(void 0,!0);if(global){if(""===ES.ToString(ES.Get(match,"0"))){var thisIndex=ES.ToLength(ES.Get(R,"lastIndex")),nextIndex=ES.AdvanceStringIndex(S,thisIndex,fullUnicode);ES.Set(R,"lastIndex",nextIndex,!0)}return ES.CreateIterResultObject(match,!1)}return hidden.set(O,"[[Done]]",!0),ES.CreateIterResultObject(match,!1)}}),hasSymbols){var defineP=Object.defineProperty;if(Symbol.toStringTag&&(defineP?defineP(RegExpStringIterator.prototype,Symbol.toStringTag,{configurable:!0,enumerable:!1,value:"RegExp String Iterator",writable:!1}):RegExpStringIterator.prototype[Symbol.toStringTag]="RegExp String Iterator"),!IteratorPrototype&&Symbol.iterator){var func={};func[Symbol.iterator]=RegExpStringIterator.prototype[Symbol.iterator]||function SymbolIterator(){return this};var predicate={};predicate[Symbol.iterator]=function(){return RegExpStringIterator.prototype[Symbol.iterator]!==func[Symbol.iterator]},define(RegExpStringIterator.prototype,func,predicate)}}module.exports=RegExpStringIterator},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8);module.exports=function getHiddenKeyManager(){var symbolCache={},makeKey=function key(prop){return symbolCache["$"+prop]?symbolCache["$"+prop]:"function"==typeof Symbol?(symbolCache["$"+prop]=Symbol(prop),symbolCache["$"+prop]):"___ "+prop+" ___"};return{get:function get(obj,prop){return obj[makeKey(prop)]},has:function has(obj,prop){return makeKey(prop)in obj},set:function set(obj,prop,value){var key=makeKey(prop);define.supportsDescriptors?Object.defineProperty(obj,key,{configurable:!1,enumerable:!1,value:value,writable:!0}):obj[key]=value}}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(541)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(8),getPolyfill=__webpack_require__(542);module.exports=function shimGlobal(){var polyfill=getPolyfill();if(define.supportsDescriptors){var descriptor=Object.getOwnPropertyDescriptor(polyfill,"globalThis");(!descriptor||descriptor.configurable&&(descriptor.enumerable||descriptor.writable||globalThis!==polyfill))&&Object.defineProperty(polyfill,"globalThis",{configurable:!0,enumerable:!1,value:polyfill,writable:!1})}else"object"==typeof globalThis&&globalThis===polyfill||(polyfill.globalThis=polyfill);return polyfill}},function(module,exports,__webpack_require__){"use strict";(function(global){var implementation=__webpack_require__(543);module.exports=function getPolyfill(){return"object"==typeof global&&global&&global.Math===Math&&global.Array===Array?global:implementation}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";(function(global){"undefined"!=typeof self?module.exports=self:"undefined"!=typeof window?module.exports=window:module.exports=void 0!==global?global:Function("return this")()}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";__webpack_require__(545)()},function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__(179),getPolyfill=__webpack_require__(546),define=__webpack_require__(8);module.exports=function shimAllSettled(){requirePromise();var polyfill=getPolyfill();return define(Promise,{allSettled:polyfill},{allSettled:function testAllSettled(){return Promise.allSettled!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__(179),implementation=__webpack_require__(547);module.exports=function getPolyfill(){return requirePromise(),"function"==typeof Promise.allSettled?Promise.allSettled:implementation}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(179)();var ES=__webpack_require__(251),getIntrinsic=__webpack_require__(65),bind=__webpack_require__(9),all=bind.call(Function.call,getIntrinsic("%Promise_all%")),reject=bind.call(Function.call,getIntrinsic("%Promise_reject%"));module.exports=function allSettled(iterable){var C=this;if("Object"!==ES.Type(C))throw new TypeError("`this` value must be an object");return all(C,Array.from(iterable,function(item){var itemPromise=ES.PromiseResolve(C,item);try{return itemPromise.then(function(value){return{status:"fulfilled",value:value}},function(reason){return{status:"rejected",reason:reason}})}catch(e){return reject(C,e)}}))}},function(module,exports,__webpack_require__){var parent=__webpack_require__(549);__webpack_require__(568),__webpack_require__(569),__webpack_require__(570),__webpack_require__(571),__webpack_require__(572),module.exports=parent},function(module,exports,__webpack_require__){__webpack_require__(23),__webpack_require__(24),__webpack_require__(34),__webpack_require__(554),__webpack_require__(41),__webpack_require__(555),__webpack_require__(556),__webpack_require__(42),__webpack_require__(557),__webpack_require__(558),__webpack_require__(559),__webpack_require__(560),__webpack_require__(561),__webpack_require__(562),__webpack_require__(563),__webpack_require__(564),__webpack_require__(565),__webpack_require__(566),__webpack_require__(567);var path=__webpack_require__(183);module.exports=path.Symbol},function(module,exports,__webpack_require__){var global=__webpack_require__(6),setGlobal=__webpack_require__(181),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});module.exports=store},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(68),getOwnPropertyNamesModule=__webpack_require__(112),getOwnPropertySymbolsModule=__webpack_require__(186),anObject=__webpack_require__(17);module.exports=getBuiltIn("Reflect","ownKeys")||function ownKeys(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},function(module,exports,__webpack_require__){"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__(190),classof=__webpack_require__(304);module.exports=TO_STRING_TAG_SUPPORT?{}.toString:function toString(){return"[object "+classof(this)+"]"}},function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__(51),nativeGetOwnPropertyNames=__webpack_require__(112).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function getOwnPropertyNames(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return nativeGetOwnPropertyNames(it)}catch(error){return windowNames.slice()}}(it):nativeGetOwnPropertyNames(toIndexedObject(it))}},function(module,exports,__webpack_require__){__webpack_require__(13)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(13)("hasInstance")},function(module,exports,__webpack_require__){__webpack_require__(13)("isConcatSpreadable")},function(module,exports,__webpack_require__){__webpack_require__(13)("match")},function(module,exports,__webpack_require__){__webpack_require__(13)("matchAll")},function(module,exports,__webpack_require__){__webpack_require__(13)("replace")},function(module,exports,__webpack_require__){__webpack_require__(13)("search")},function(module,exports,__webpack_require__){__webpack_require__(13)("species")},function(module,exports,__webpack_require__){__webpack_require__(13)("split")},function(module,exports,__webpack_require__){__webpack_require__(13)("toPrimitive")},function(module,exports,__webpack_require__){__webpack_require__(13)("toStringTag")},function(module,exports,__webpack_require__){__webpack_require__(13)("unscopables")},function(module,exports,__webpack_require__){__webpack_require__(56)(Math,"Math",!0)},function(module,exports,__webpack_require__){var global=__webpack_require__(6);__webpack_require__(56)(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){__webpack_require__(13)("asyncDispose")},function(module,exports,__webpack_require__){__webpack_require__(13)("dispose")},function(module,exports,__webpack_require__){__webpack_require__(13)("observable")},function(module,exports,__webpack_require__){__webpack_require__(13)("patternMatch")},function(module,exports,__webpack_require__){__webpack_require__(13)("replaceAll")},function(module,exports,__webpack_require__){"use strict";__webpack_require__(43).window.STORYBOOK_REACT_CLASSES={}},,function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";var IteratorPrototype=__webpack_require__(309).IteratorPrototype,create=__webpack_require__(69),createPropertyDescriptor=__webpack_require__(82),setToStringTag=__webpack_require__(56),Iterators=__webpack_require__(89),returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(1,next)}),setToStringTag(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12);module.exports=function(it){if(!isObject(it)&&null!==it)throw TypeError("Can't set "+String(it)+" as a prototype");return it}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(23),Object.defineProperty(exports,"__esModule",{value:!0}),exports.raw=exports.getStorybook=exports.forceReRender=exports.setAddon=exports.clearDecorators=exports.addParameters=exports.addDecorator=exports.configure=exports.storiesOf=void 0;var _client=__webpack_require__(579);__webpack_require__(873);var _render=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(874));var api=(0,_client.start)(_render.default);exports.storiesOf=function storiesOf(kind,m){return api.clientApi.storiesOf(kind,m).addParameters({framework:"react"})};exports.configure=function configure(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return api.configure.apply(api,args.concat(["react"]))};var addDecorator=api.clientApi.addDecorator;exports.addDecorator=addDecorator;var addParameters=api.clientApi.addParameters;exports.addParameters=addParameters;var clearDecorators=api.clientApi.clearDecorators;exports.clearDecorators=clearDecorators;var setAddon=api.clientApi.setAddon;exports.setAddon=setAddon;var forceReRender=api.forceReRender;exports.forceReRender=forceReRender;var getStorybook=api.clientApi.getStorybook;exports.getStorybook=getStorybook;var raw=api.clientApi.raw;exports.raw=raw},function(module,exports,__webpack_require__){module.exports=__webpack_require__(580).default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(581)).default;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _clientApi=__webpack_require__(312),_utils=__webpack_require__(127);var _default={start:function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(802)).default,toId:_utils.toId,ClientApi:_clientApi.ClientApi,ConfigApi:_clientApi.ConfigApi,StoryStore:_clientApi.StoryStore};exports.default=_default},function(module,exports,__webpack_require__){"use strict";__webpack_require__(34),__webpack_require__(41),__webpack_require__(42),__webpack_require__(23),__webpack_require__(116),__webpack_require__(44),__webpack_require__(91),__webpack_require__(59),__webpack_require__(29),__webpack_require__(92),__webpack_require__(316),__webpack_require__(53),__webpack_require__(70),__webpack_require__(196),__webpack_require__(197),__webpack_require__(71),__webpack_require__(24),__webpack_require__(60),__webpack_require__(46),__webpack_require__(45),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.defaultDecorateStory=void 0;var _utilDeprecate=_interopRequireDefault(__webpack_require__(198)),_isPlainObject=_interopRequireDefault(__webpack_require__(948)),_clientLogger=__webpack_require__(72),_addons=_interopRequireDefault(__webpack_require__(117)),_coreEvents=_interopRequireDefault(__webpack_require__(96)),_utils=__webpack_require__(127),_mergeWith=_interopRequireDefault(__webpack_require__(664)),_isEqual=_interopRequireDefault(__webpack_require__(725)),_get=_interopRequireDefault(__webpack_require__(751)),_subscriptions_store=_interopRequireDefault(__webpack_require__(369)),_hooks=__webpack_require__(217);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var merge=function merge(a,b){return(0,_mergeWith.default)({},a,b,function(objValue,srcValue){return Array.isArray(srcValue)&&Array.isArray(objValue)?(srcValue.forEach(function(s){objValue.find(function(o){return o===s||(0,_isEqual.default)(o,s)})||objValue.push(s)}),objValue):Array.isArray(objValue)?(_clientLogger.logger.log("the types mismatch, picking",objValue),objValue):void 0})},defaultContext={id:"unspecified",name:"unspecified",kind:"unspecified",parameters:{}},defaultDecorateStory=function defaultDecorateStory(storyFn,decorators){return decorators.reduce(function(decorated,decorator){return function(){var context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultContext;return decorator(function(p){return decorated(p?Object.assign({},context,{},p,{parameters:Object.assign({},context.parameters,{},p.parameters)}):context)},context)}},storyFn)};exports.defaultDecorateStory=defaultDecorateStory;var metaSubscriptionHandler=(0,_utilDeprecate.default)(_subscriptions_store.default.register,"Events.REGISTER_SUBSCRIPTION is deprecated and will be removed in 6.0. Please use useEffect from @storybook/client-api instead."),metaSubscription=function metaSubscription(){return _addons.default.getChannel().on(_coreEvents.default.REGISTER_SUBSCRIPTION,metaSubscriptionHandler),function(){return _addons.default.getChannel().removeListener(_coreEvents.default.REGISTER_SUBSCRIPTION,metaSubscriptionHandler)}},withSubscriptionTracking=function withSubscriptionTracking(storyFn){if(!_addons.default.hasChannel())return storyFn();_subscriptions_store.default.markAllAsUnused(),_subscriptions_store.default.register(metaSubscription);var result=storyFn();return _subscriptions_store.default.clearUnused(),result};exports.default=function ClientApi(_ref){var _this=this,storyStore=_ref.storyStore,_ref$decorateStory=_ref.decorateStory,decorateStory=void 0===_ref$decorateStory?defaultDecorateStory:_ref$decorateStory;if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClientApi),this._storyStore=void 0,this._addons=void 0,this._globalDecorators=void 0,this._globalParameters=void 0,this._decorateStory=void 0,this.setAddon=function(addon){_this._addons=Object.assign({},_this._addons,{},addon)},this.getSeparators=function(){return Object.assign({},{hierarchyRootSeparator:"|",hierarchySeparator:/\/|\./},_this._globalParameters.options)},this.addDecorator=function(decorator){_this._globalDecorators.push(decorator)},this.addParameters=function(parameters){_this._globalParameters=Object.assign({},_this._globalParameters,{},parameters,{options:Object.assign({},merge((0,_get.default)(_this._globalParameters,"options",{}),(0,_get.default)(parameters,"options",{}))),docs:Object.assign({},merge((0,_get.default)(_this._globalParameters,"docs",{}),(0,_get.default)(parameters,"docs",{})))})},this.clearDecorators=function(){_this._globalDecorators=[]},this.storiesOf=function(kind,m){if(!kind&&"string"!=typeof kind)throw new Error("Invalid or missing kind provided for stories, should be a string");if(m||_clientLogger.logger.warn("Missing 'module' parameter for story with a kind of '".concat(kind,"'. It will break your HMR")),m){var proto=Object.getPrototypeOf(m);proto.exports&&proto.exports.default&&_clientLogger.logger.error("Illegal mix of CSF default export and storiesOf calls in a single file: ".concat(proto.i))}m&&m.hot&&m.hot.dispose&&m.hot.dispose(function(){var _storyStore=_this._storyStore;_storyStore.removeStoryKind(kind),_storyStore.incrementRevision()});var localDecorators=[],localParameters={},hasAdded=!1,api={kind:kind.toString(),add:function add(){return api},addDecorator:function addDecorator(){return api},addParameters:function addParameters(){return api}};return Object.keys(_this._addons).forEach(function(name){var addon=_this._addons[name];api[name]=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return addon.apply(api,args),api}}),api.add=function(storyName,storyFn,parameters){hasAdded=!0;var _globalParameters=_this._globalParameters,_globalDecorators=_this._globalDecorators,id=(0,_utils.toId)(kind,storyName);if("string"!=typeof storyName)throw new Error('Invalid or missing storyName provided for a "'.concat(kind,'" story.'));m&&m.hot&&m.hot.dispose&&m.hot.dispose(function(){_this._storyStore.remove(id)});var fileName=m&&m.id?"".concat(m.id):void 0,_this$getSeparators=_this.getSeparators(),allParam=[{options:{hierarchyRootSeparator:_this$getSeparators.hierarchyRootSeparator,hierarchySeparator:_this$getSeparators.hierarchySeparator}},_globalParameters,localParameters,parameters].reduce(function(acc,p){return p&&Object.entries(p).forEach(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1],existingValue=acc[key];Array.isArray(value)?acc[key]=value:(0,_isPlainObject.default)(value)&&(0,_isPlainObject.default)(existingValue)?acc[key]=merge(existingValue,value):acc[key]=value}),acc},{fileName:fileName});return _this._storyStore.addStory({id:id,kind:kind,name:storyName,storyFn:storyFn,parameters:allParam},{applyDecorators:(0,_hooks.applyHooks)(_this._decorateStory),getDecorators:function getDecorators(){return[].concat(_toConsumableArray(allParam.decorators||[]),localDecorators,_toConsumableArray(_globalDecorators),[withSubscriptionTracking])}}),api},api.addDecorator=function(decorator){return hasAdded&&_clientLogger.logger.warn("You have added a decorator to the kind '".concat(kind,"' after a story has already been added.\nIn Storybook 4 this applied the decorator only to subsequent stories. In Storybook 5+ it applies to all stories.\nThis is probably not what you intended. Read more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md")),localDecorators.push(decorator),api},api.addParameters=function(parameters){return localParameters=Object.assign({},localParameters,{},parameters),api},api},this.getStorybook=function(){return _this._storyStore.getStoryKinds().map(function(kind){var fileName=_this._storyStore.getStoryFileName(kind),stories=_this._storyStore.getStories(kind).map(function(name){return{name:name,render:_this._storyStore.getStoryWithContext(kind,name)}});return{kind:kind,fileName:fileName,stories:stories}})},this.raw=function(){return _this._storyStore.raw()},this.store=function(){return _this._storyStore},this._storyStore=storyStore,this._addons={},this._globalDecorators=[],this._globalParameters={},this._decorateStory=decorateStory,!storyStore)throw new Error("storyStore is required")}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(87),toObject=__webpack_require__(28),callWithSafeIterationClosing=__webpack_require__(313),isArrayIteratorMethod=__webpack_require__(314),toLength=__webpack_require__(27),createProperty=__webpack_require__(187),getIteratorMethod=__webpack_require__(315);module.exports=function from(arrayLike){var length,result,step,iterator,next,O=toObject(arrayLike),C="function"==typeof this?this:Array,argumentsLength=arguments.length,mapfn=argumentsLength>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iteratorMethod=getIteratorMethod(O);if(mapping&&(mapfn=bind(mapfn,argumentsLength>2?arguments[2]:void 0,2)),null==iteratorMethod||C==Array&&isArrayIteratorMethod(iteratorMethod))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(next=(iterator=iteratorMethod.call(O)).next,result=new C;!(step=next.call(iterator)).done;index++)createProperty(result,index,mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(58),toObject=__webpack_require__(28),IndexedObject=__webpack_require__(108),toLength=__webpack_require__(27),createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){aFunction(callbackfn);var O=toObject(that),self=IndexedObject(O),length=toLength(O.length),index=IS_RIGHT?length-1:0,i=IS_RIGHT?-1:1;if(argumentsLength<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,IS_RIGHT?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;IS_RIGHT?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}};module.exports={left:createMethod(!1),right:createMethod(!0)}},function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(19),fails=__webpack_require__(7),objectKeys=__webpack_require__(86),getOwnPropertySymbolsModule=__webpack_require__(186),propertyIsEnumerableModule=__webpack_require__(107),toObject=__webpack_require__(28),IndexedObject=__webpack_require__(108),nativeAssign=Object.assign,defineProperty=Object.defineProperty;module.exports=!nativeAssign||fails(function(){if(DESCRIPTORS&&1!==nativeAssign({b:1},nativeAssign(defineProperty({},"a",{enumerable:!0,get:function(){defineProperty(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var A={},B={},symbol=Symbol();return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach(function(chr){B[chr]=chr}),7!=nativeAssign({},A)[symbol]||"abcdefghijklmnopqrst"!=objectKeys(nativeAssign({},B)).join("")})?function assign(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;argumentsLength>index;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS&&!propertyIsEnumerable.call(S,key)||(T[key]=S[key]);return T}:nativeAssign},function(module,exports,__webpack_require__){"use strict";__webpack_require__(44),__webpack_require__(70),__webpack_require__(24),__webpack_require__(199),__webpack_require__(118),__webpack_require__(45),Object.defineProperty(exports,"__esModule",{value:!0}),exports.addons=exports.AddonStore=void 0;var _global=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(43)),_clientLogger=__webpack_require__(72),_types=__webpack_require__(325);var AddonStore=function AddonStore(){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AddonStore),this.loaders={},this.elements={},this.channel=void 0,this.promise=void 0,this.resolve=void 0,this.getChannel=function(){if(!_this.channel)throw new Error("Accessing non-existent addons channel, see https://storybook.js.org/basics/faq/#why-is-there-no-addons-channel");return _this.channel},this.ready=function(){return _this.promise},this.hasChannel=function(){return!!_this.channel},this.setChannel=function(channel){_this.channel=channel,_this.resolve()},this.getElements=function(type){return _this.elements[type]||(_this.elements[type]={}),_this.elements[type]},this.addPanel=function(name,options){_this.add(name,Object.assign({type:_types.types.PANEL},options))},this.add=function(name,addon){var type=addon.type;_this.getElements(type)[name]=Object.assign({id:name},addon)},this.register=function(name,registerCallback){_this.loaders[name]&&_clientLogger.logger.warn("".concat(name," was loaded twice, this could have bad side-effects")),_this.loaders[name]=registerCallback},this.loadAddons=function(api){Object.values(_this.loaders).forEach(function(value){return value(api)})},this.promise=new Promise(function(res){_this.resolve=function(){return res(_this.getChannel())}})};exports.AddonStore=AddonStore;var KEY="__STORYBOOK_ADDONS";var addons=function getAddonsStore(){return _global.default[KEY]||(_global.default[KEY]=new AddonStore),_global.default[KEY]}();exports.addons=addons},function(module,exports,__webpack_require__){var global=__webpack_require__(6);module.exports=global.Promise},function(module,exports,__webpack_require__){var flush,head,last,notify,toggle,node,promise,then,global=__webpack_require__(6),getOwnPropertyDescriptor=__webpack_require__(66).f,classof=__webpack_require__(40),macrotask=__webpack_require__(322).set,IS_IOS=__webpack_require__(323),MutationObserver=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,IS_NODE="process"==classof(process),queueMicrotaskDescriptor=getOwnPropertyDescriptor(global,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;queueMicrotask||(flush=function(){var parent,fn;for(IS_NODE&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(error){throw head?notify():last=void 0,error}}last=void 0,parent&&parent.enter()},IS_NODE?notify=function(){process.nextTick(flush)}:MutationObserver&&!IS_IOS?(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}):Promise&&Promise.resolve?(promise=Promise.resolve(void 0),then=promise.then,notify=function(){then.call(promise,flush)}):notify=function(){macrotask.call(global,flush)}),module.exports=queueMicrotask||function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(17),isObject=__webpack_require__(12),newPromiseCapability=__webpack_require__(324);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports,__webpack_require__){var global=__webpack_require__(6);module.exports=function(a,b){var console=global.console;console&&console.error&&(1===arguments.length?console.error(a):console.error(a,b))}},function(module,exports){module.exports=function(exec){try{return{error:!1,value:exec()}}catch(error){return{error:!0,value:error}}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(23),__webpack_require__(122),Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeDecorator=void 0;var _utilDeprecate=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(198));exports.makeDecorator=function makeDecorator(_ref){var name=_ref.name,parameterName=_ref.parameterName,wrapper=_ref.wrapper,_ref$skipIfNoParamete=_ref.skipIfNoParametersOrOptions,skipIfNoParametersOrOptions=void 0!==_ref$skipIfNoParamete&&_ref$skipIfNoParamete,_ref$allowDeprecatedU=_ref.allowDeprecatedUsage,allowDeprecatedUsage=void 0!==_ref$allowDeprecatedU&&_ref$allowDeprecatedU,decorator=function decorator(options){return function(getStory,context){var parameters=context.parameters&&context.parameters[parameterName];return parameters&&parameters.disable?getStory(context):!skipIfNoParametersOrOptions||options||parameters?wrapper(getStory,context,{options:options,parameters:parameters}):getStory(context)}};return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return"function"==typeof args[0]?decorator().apply(void 0,args):function(){for(var _len2=arguments.length,innerArgs=new Array(_len2),_key2=0;_key2<_len2;_key2++)innerArgs[_key2]=arguments[_key2];if(innerArgs.length>1)return decorator.apply(void 0,args).apply(void 0,innerArgs);if(allowDeprecatedUsage)return(0,_utilDeprecate.default)(function(context){return decorator.apply(void 0,args)(innerArgs[0],context)},"Passing stories directly into ".concat(name,"() is deprecated,\n          instead use addDecorator(").concat(name,") and pass options with the '").concat(parameterName,"' parameter"));throw new Error("Passing stories directly into ".concat(name,"() is not allowed,\n        instead use addDecorator(").concat(name,") and pass options with the '").concat(parameterName,"' parameter"))}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mockChannel=function mockChannel(){return new _channels.default({transport:{setHandler:function setHandler(){},send:function send(){}}})};var _channels=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(326))},function(module,exports,__webpack_require__){(function(global){var scope=void 0!==global&&global||"undefined"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function onTimeout(){item._onTimeout&&item._onTimeout()},msecs))},__webpack_require__(595),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}():!function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?global.MessageChannel?function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&"onreadystatechange"in doc.createElement("script")?function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}():function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}(),attachTo.setImmediate=function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(this,__webpack_require__(0),__webpack_require__(240))},function(module,exports,__webpack_require__){var $=__webpack_require__(597),global=__webpack_require__(30),task=__webpack_require__(619);$({global:!0,bind:!0,enumerable:!0,forced:!global.setImmediate||!global.clearImmediate},{setImmediate:task.set,clearImmediate:task.clear})},function(module,exports,__webpack_require__){var global=__webpack_require__(30),getOwnPropertyDescriptor=__webpack_require__(328).f,createNonEnumerableProperty=__webpack_require__(126),redefine=__webpack_require__(601),setGlobal=__webpack_require__(201),copyConstructorProperties=__webpack_require__(608),isForced=__webpack_require__(618);module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},function(module,exports,__webpack_require__){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},function(module,exports,__webpack_require__){var fails=__webpack_require__(93),classof=__webpack_require__(330),split="".split;module.exports=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it}},function(module,exports,__webpack_require__){var global=__webpack_require__(30),createNonEnumerableProperty=__webpack_require__(126),has=__webpack_require__(94),setGlobal=__webpack_require__(201),inspectSource=__webpack_require__(336),InternalStateModule=__webpack_require__(604),getInternalState=InternalStateModule.get,enforceInternalState=InternalStateModule.enforce,TEMPLATE=String(String).split("String");(module.exports=function(O,key,value,options){var unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet;"function"==typeof value&&("string"!=typeof key||has(value,"name")||createNonEnumerableProperty(value,"name",key),enforceInternalState(value).source=TEMPLATE.join("string"==typeof key?key:"")),O!==global?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:createNonEnumerableProperty(O,key,value)):simple?O[key]=value:setGlobal(key,value)})(Function.prototype,"toString",function toString(){return"function"==typeof this&&getInternalState(this).source||inspectSource(this)})},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){var global=__webpack_require__(30),setGlobal=__webpack_require__(201),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});module.exports=store},function(module,exports,__webpack_require__){var set,get,has,NATIVE_WEAK_MAP=__webpack_require__(605),global=__webpack_require__(30),isObject=__webpack_require__(125),createNonEnumerableProperty=__webpack_require__(126),objectHas=__webpack_require__(94),sharedKey=__webpack_require__(606),hiddenKeys=__webpack_require__(338),WeakMap=global.WeakMap;if(NATIVE_WEAK_MAP){var store=new WeakMap,wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){return createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},function(module,exports,__webpack_require__){var global=__webpack_require__(30),inspectSource=__webpack_require__(336),WeakMap=global.WeakMap;module.exports="function"==typeof WeakMap&&/native code/.test(inspectSource(WeakMap))},function(module,exports,__webpack_require__){var shared=__webpack_require__(337),uid=__webpack_require__(607),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},function(module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)}},function(module,exports,__webpack_require__){var has=__webpack_require__(94),ownKeys=__webpack_require__(609),getOwnPropertyDescriptorModule=__webpack_require__(328),definePropertyModule=__webpack_require__(334);module.exports=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(202),getOwnPropertyNamesModule=__webpack_require__(611),getOwnPropertySymbolsModule=__webpack_require__(617),anObject=__webpack_require__(335);module.exports=getBuiltIn("Reflect","ownKeys")||function ownKeys(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},function(module,exports,__webpack_require__){var global=__webpack_require__(30);module.exports=global},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(612),hiddenKeys=__webpack_require__(616).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return internalObjectKeys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(94),toIndexedObject=__webpack_require__(200),indexOf=__webpack_require__(613).indexOf,hiddenKeys=__webpack_require__(338);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~indexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__(200),toLength=__webpack_require__(614),toAbsoluteIndex=__webpack_require__(615),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(339),min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(339),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var fails=__webpack_require__(93),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},function(module,exports,__webpack_require__){var defer,channel,port,global=__webpack_require__(30),fails=__webpack_require__(93),classof=__webpack_require__(330),bind=__webpack_require__(620),html=__webpack_require__(622),createElement=__webpack_require__(333),IS_IOS=__webpack_require__(623),location=global.location,set=global.setImmediate,clear=global.clearImmediate,process=global.process,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(id){if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},runner=function(id){return function(){run(id)}},listener=function(event){run(event.data)},post=function(id){global.postMessage(id+"",location.protocol+"//"+location.host)};set&&clear||(set=function setImmediate(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){("function"==typeof fn?fn:Function(fn)).apply(void 0,args)},defer(counter),counter},clear=function clearImmediate(id){delete queue[id]},"process"==classof(process)?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=bind(port.postMessage,port,1)):!global.addEventListener||"function"!=typeof postMessage||global.importScripts||fails(post)?defer="onreadystatechange"in createElement("script")?function(id){html.appendChild(createElement("script")).onreadystatechange=function(){html.removeChild(this),run(id)}}:function(id){setTimeout(runner(id),0)}:(defer=post,global.addEventListener("message",listener,!1))),module.exports={set:set,clear:clear}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(621);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(String(it)+" is not a function");return it}},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(202);module.exports=getBuiltIn("document","documentElement")},function(module,exports,__webpack_require__){var userAgent=__webpack_require__(624);module.exports=/(iphone|ipod|ipad).*applewebkit/i.test(userAgent)},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(202);module.exports=getBuiltIn("navigator","userAgent")||""},function(module,exports,__webpack_require__){"use strict";__webpack_require__(34),__webpack_require__(41),__webpack_require__(42),__webpack_require__(23),__webpack_require__(626),__webpack_require__(44),__webpack_require__(91),__webpack_require__(340),__webpack_require__(59),__webpack_require__(29),__webpack_require__(92),__webpack_require__(53),__webpack_require__(341),__webpack_require__(122),__webpack_require__(73),__webpack_require__(196),__webpack_require__(71),__webpack_require__(24),__webpack_require__(60),__webpack_require__(342),__webpack_require__(346),__webpack_require__(46),__webpack_require__(628),__webpack_require__(45),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.useMemo=function useMemo(nextCreate,deps){return useMemoLike("useMemo",nextCreate,deps)},exports.useCallback=function useCallback(callback,deps){return useMemoLike("useCallback",function(){return callback},deps)},exports.useRef=function useRef(initialValue){return useRefLike("useRef",initialValue)},exports.useState=function useState(initialState){return useStateLike("useState",initialState)},exports.useReducer=function useReducer(reducer,initialArg,init){var _useStateLike2=_slicedToArray(useStateLike("useReducer",null!=init?function(){return init(initialArg)}:initialArg),2),state=_useStateLike2[0],setState=_useStateLike2[1];return[state,function dispatch(action){return setState(function(prevState){return reducer(prevState,action)})}]},exports.useEffect=useEffect,exports.useChannel=function useChannel(eventMap){var deps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],channel=_public_api.default.getChannel();return useEffect(function(){return Object.entries(eventMap).forEach(function(_ref2){var _ref3=_slicedToArray(_ref2,2),type=_ref3[0],listener=_ref3[1];return channel.on(type,listener)}),function(){Object.entries(eventMap).forEach(function(_ref4){var _ref5=_slicedToArray(_ref4,2),type=_ref5[0],listener=_ref5[1];return channel.removeListener(type,listener)})}},[].concat(_toConsumableArray(Object.keys(eventMap)),_toConsumableArray(deps))),channel.emit.bind(channel)},exports.useStoryContext=useStoryContext,exports.useParameter=function useParameter(parameterKey,defaultValue){var parameters=useStoryContext().parameters;if(parameterKey)return parameters[parameterKey]||defaultValue;return},exports.applyHooks=exports.HooksContext=void 0;var _global=_interopRequireDefault(__webpack_require__(43)),_clientLogger=__webpack_require__(72),_coreEvents=__webpack_require__(96),_public_api=_interopRequireDefault(__webpack_require__(117));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var RenderEvents=[_coreEvents.STORY_RENDERED,_coreEvents.DOCS_RENDERED],HooksContext=function(){function HooksContext(){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HooksContext),this.hookListsMap=void 0,this.mountedDecorators=void 0,this.prevMountedDecorators=void 0,this.currentHooks=void 0,this.nextHookIndex=void 0,this.currentPhase=void 0,this.currentEffects=void 0,this.prevEffects=void 0,this.currentDecoratorName=void 0,this.hasUpdates=void 0,this.currentContext=void 0,this.renderListener=function(){_this.triggerEffects(),_this.currentContext=null,_this.removeRenderListeners()},this.init()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(HooksContext,[{key:"init",value:function init(){this.hookListsMap=new WeakMap,this.mountedDecorators=new Set,this.prevMountedDecorators=this.mountedDecorators,this.currentHooks=[],this.nextHookIndex=0,this.currentPhase="NONE",this.currentEffects=[],this.prevEffects=[],this.currentDecoratorName=null,this.hasUpdates=!1,this.currentContext=null}},{key:"clean",value:function clean(){this.prevEffects.forEach(function(effect){effect.destroy&&effect.destroy()}),this.init(),this.removeRenderListeners()}},{key:"getNextHook",value:function getNextHook(){var hook=this.currentHooks[this.nextHookIndex];return this.nextHookIndex+=1,hook}},{key:"triggerEffects",value:function triggerEffects(){var _this2=this;this.prevEffects.forEach(function(effect){!_this2.currentEffects.includes(effect)&&effect.destroy&&effect.destroy()}),this.currentEffects.forEach(function(effect){_this2.prevEffects.includes(effect)||(effect.destroy=effect.create())}),this.prevEffects=this.currentEffects,this.currentEffects=[]}},{key:"addRenderListeners",value:function addRenderListeners(){var _this3=this;this.removeRenderListeners();var channel=_public_api.default.getChannel();RenderEvents.forEach(function(e){return channel.on(e,_this3.renderListener)})}},{key:"removeRenderListeners",value:function removeRenderListeners(){var _this4=this,channel=_public_api.default.getChannel();RenderEvents.forEach(function(e){return channel.removeListener(e,_this4.renderListener)})}}]),HooksContext}();exports.HooksContext=HooksContext;var hookify=function hookify(fn){return function(){var _ref="function"==typeof(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],hooks=_ref.hooks,prevPhase=hooks.currentPhase,prevHooks=hooks.currentHooks,prevNextHookIndex=hooks.nextHookIndex,prevDecoratorName=hooks.currentDecoratorName;hooks.currentDecoratorName=fn.name,hooks.prevMountedDecorators.has(fn)?(hooks.currentPhase="UPDATE",hooks.currentHooks=hooks.hookListsMap.get(fn)||[]):(hooks.currentPhase="MOUNT",hooks.currentHooks=[],hooks.hookListsMap.set(fn,hooks.currentHooks),hooks.prevMountedDecorators.add(fn)),hooks.nextHookIndex=0;var prevContext=_global.default.STORYBOOK_HOOKS_CONTEXT;_global.default.STORYBOOK_HOOKS_CONTEXT=hooks;var result=fn.apply(void 0,arguments);if(_global.default.STORYBOOK_HOOKS_CONTEXT=prevContext,"UPDATE"===hooks.currentPhase&&null!=hooks.getNextHook())throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return hooks.currentPhase=prevPhase,hooks.currentHooks=prevHooks,hooks.nextHookIndex=prevNextHookIndex,hooks.currentDecoratorName=prevDecoratorName,result}},numberOfRenders=0;exports.applyHooks=function applyHooks(applyDecorators){return function(getStory,decorators){var decorated=applyDecorators(hookify(getStory),decorators.map(hookify));return function(context){var hooks=context.hooks;hooks.prevMountedDecorators=hooks.mountedDecorators,hooks.mountedDecorators=new Set([getStory].concat(_toConsumableArray(decorators))),hooks.currentContext=context,hooks.hasUpdates=!1;var result=decorated(context);for(numberOfRenders=1;hooks.hasUpdates;)if(hooks.hasUpdates=!1,hooks.currentEffects=[],result=decorated(context),(numberOfRenders+=1)>25)throw new Error("Too many re-renders. Storybook limits the number of renders to prevent an infinite loop.");return hooks.addRenderListeners(),result}}};var areDepsEqual=function areDepsEqual(deps,nextDeps){return deps.length===nextDeps.length&&deps.every(function(dep,i){return dep===nextDeps[i]})},invalidHooksError=function invalidHooksError(){return new Error("Storybook preview hooks can only be called inside decorators and story functions.")};function getHooksContextOrNull(){return _global.default.STORYBOOK_HOOKS_CONTEXT||null}function getHooksContextOrThrow(){var hooks=getHooksContextOrNull();if(null==hooks)throw invalidHooksError();return hooks}function useMemoLike(name,nextCreate,deps){return function useHook(name,callback,deps){var hooks=getHooksContextOrThrow();if("MOUNT"===hooks.currentPhase){null==deps||Array.isArray(deps)||_clientLogger.logger.warn("".concat(name," received a final argument that is not an array (instead, received ").concat(deps,"). When specified, the final argument must be an array."));var _hook={name:name,deps:deps};return hooks.currentHooks.push(_hook),callback(_hook),_hook}if("UPDATE"===hooks.currentPhase){var _hook2=hooks.getNextHook();if(null==_hook2)throw new Error("Rendered more hooks than during the previous render.");return _hook2.name!==name&&_clientLogger.logger.warn("Storybook has detected a change in the order of Hooks".concat(hooks.currentDecoratorName?" called by ".concat(hooks.currentDecoratorName):"",". This will lead to bugs and errors if not fixed.")),null!=deps&&null==_hook2.deps&&_clientLogger.logger.warn("".concat(name," received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.")),null!=deps&&null!=_hook2.deps&&deps.length!==_hook2.deps.length&&_clientLogger.logger.warn("The final argument passed to ".concat(name," changed size between renders. The order and size of this array must remain constant.\nPrevious: ").concat(_hook2.deps,"\nIncoming: ").concat(deps)),null!=deps&&null!=_hook2.deps&&areDepsEqual(deps,_hook2.deps)||(callback(_hook2),_hook2.deps=deps),_hook2}throw invalidHooksError()}(name,function(hook){hook.memoizedState=nextCreate()},deps).memoizedState}function useRefLike(name,initialValue){return useMemoLike(name,function(){return{current:initialValue}},[])}function useStateLike(name,initialState){var stateRef=useRefLike(name,"function"==typeof initialState?initialState():initialState);return[stateRef.current,function setState(update){stateRef.current="function"==typeof update?update(stateRef.current):update,function triggerUpdate(){var hooks=getHooksContextOrNull();if(null!=hooks&&"NONE"!==hooks.currentPhase)hooks.hasUpdates=!0;else try{_public_api.default.getChannel().emit(_coreEvents.FORCE_RE_RENDER)}catch(e){_clientLogger.logger.warn("State updates of Storybook preview hooks work only in browser")}}()}]}function useEffect(create,deps){var hooks=getHooksContextOrThrow(),effect=useMemoLike("useEffect",function(){return{create:create}},deps);hooks.currentEffects.includes(effect)||hooks.currentEffects.push(effect)}function useStoryContext(){var currentContext=getHooksContextOrThrow().currentContext;if(null==currentContext)throw invalidHooksError();return currentContext}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),$every=__webpack_require__(57).every;$({target:"Array",proto:!0,forced:__webpack_require__(88)("every")},{every:function every(callbackfn){return $every(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(58),isObject=__webpack_require__(12),slice=[].slice,factories={},construct=function(C,argsLength,args){if(!(argsLength in factories)){for(var list=[],i=0;i<argsLength;i++)list[i]="a["+i+"]";factories[argsLength]=Function("C,a","return new C("+list.join(",")+")")}return factories[argsLength](C,args)};module.exports=Function.bind||function bind(that){var fn=aFunction(this),partArgs=slice.call(arguments,1),boundFunction=function bound(){var args=partArgs.concat(slice.call(arguments));return this instanceof boundFunction?construct(fn,args.length,args):fn.apply(that,args)};return isObject(fn.prototype)&&(boundFunction.prototype=fn.prototype),boundFunction}},function(module,exports,__webpack_require__){"use strict";var InternalWeakMap,global=__webpack_require__(6),redefineAll=__webpack_require__(119),InternalMetadataModule=__webpack_require__(95),collection=__webpack_require__(203),collectionWeak=__webpack_require__(629),isObject=__webpack_require__(12),enforceIternalState=__webpack_require__(52).enforce,NATIVE_WEAK_MAP=__webpack_require__(297),IS_IE11=!global.ActiveXObject&&"ActiveXObject"in global,isExtensible=Object.isExtensible,wrapper=function(init){return function WeakMap(){return init(this,arguments.length?arguments[0]:void 0)}},$WeakMap=module.exports=collection("WeakMap",wrapper,collectionWeak);if(NATIVE_WEAK_MAP&&IS_IE11){InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.REQUIRED=!0;var WeakMapPrototype=$WeakMap.prototype,nativeDelete=WeakMapPrototype.delete,nativeHas=WeakMapPrototype.has,nativeGet=WeakMapPrototype.get,nativeSet=WeakMapPrototype.set;redefineAll(WeakMapPrototype,{delete:function(key){if(isObject(key)&&!isExtensible(key)){var state=enforceIternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeDelete.call(this,key)||state.frozen.delete(key)}return nativeDelete.call(this,key)},has:function has(key){if(isObject(key)&&!isExtensible(key)){var state=enforceIternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key)||state.frozen.has(key)}return nativeHas.call(this,key)},get:function get(key){if(isObject(key)&&!isExtensible(key)){var state=enforceIternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key)?nativeGet.call(this,key):state.frozen.get(key)}return nativeGet.call(this,key)},set:function set(key,value){if(isObject(key)&&!isExtensible(key)){var state=enforceIternalState(this);state.frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key)?nativeSet.call(this,key,value):state.frozen.set(key,value)}else nativeSet.call(this,key,value);return this}})}},function(module,exports,__webpack_require__){"use strict";var redefineAll=__webpack_require__(119),getWeakData=__webpack_require__(95).getWeakData,anObject=__webpack_require__(17),isObject=__webpack_require__(12),anInstance=__webpack_require__(120),iterate=__webpack_require__(121),ArrayIterationModule=__webpack_require__(57),$has=__webpack_require__(20),InternalStateModule=__webpack_require__(52),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor,find=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,id=0,uncaughtFrozenStore=function(store){return store.frozen||(store.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(store,key){return find(store.entries,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.entries.push([key,value])},delete:function(key){var index=findIndex(this.entries,function(it){return it[0]===key});return~index&&this.entries.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,CONSTRUCTOR_NAME),setInternalState(that,{type:CONSTRUCTOR_NAME,id:id++,frozen:void 0}),null!=iterable&&iterate(iterable,that[ADDER],that,IS_MAP)}),getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME),define=function(that,key,value){var state=getInternalState(that),data=getWeakData(anObject(key),!0);return!0===data?uncaughtFrozenStore(state).set(key,value):data[state.id]=value,that};return redefineAll(C.prototype,{delete:function(key){var state=getInternalState(this);if(!isObject(key))return!1;var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).delete(key):data&&$has(data,state.id)&&delete data[state.id]},has:function has(key){var state=getInternalState(this);if(!isObject(key))return!1;var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).has(key):data&&$has(data,state.id)}}),redefineAll(C.prototype,IS_MAP?{get:function get(key){var state=getInternalState(this);if(isObject(key)){var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).get(key):data?data[state.id]:void 0}},set:function set(key,value){return define(this,key,value)}}:{add:function add(value){return define(this,value,!0)}}),C}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(34),__webpack_require__(41),__webpack_require__(42),__webpack_require__(23),__webpack_require__(123),__webpack_require__(59),__webpack_require__(29),__webpack_require__(53),__webpack_require__(70),__webpack_require__(24),__webpack_require__(74),__webpack_require__(60),__webpack_require__(46),__webpack_require__(129),__webpack_require__(350),__webpack_require__(205),__webpack_require__(632),__webpack_require__(633),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.storyNameFromExport=exports.parseKind=exports.getMatch=exports.stringifyQuery=exports.queryFromLocation=exports.queryFromString=exports.parsePath=exports.toId=exports.sanitize=void 0;var _qs=_interopRequireDefault(__webpack_require__(634)),_memoizerific=_interopRequireDefault(__webpack_require__(207)),_startCase=_interopRequireDefault(__webpack_require__(637));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var splitPathRegex=/\/([^/]+)\/([^/]+)?/,sanitize=function sanitize(string){return string.toLowerCase().replace(/[ '`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")};exports.sanitize=sanitize;var sanitizeSafe=function sanitizeSafe(string,part){var sanitized=sanitize(string);if(""===sanitized)throw new Error("Invalid ".concat(part," '").concat(string,"', must include alphanumeric characters"));return sanitized};exports.toId=function toId(kind,name){return"".concat(sanitizeSafe(kind,"kind"),"--").concat(sanitizeSafe(name,"name"))};var parsePath=(0,_memoizerific.default)(1e3)(function(path){var result={viewMode:void 0,storyId:void 0};if(path){var _ref2=_slicedToArray(path.match(splitPathRegex)||[void 0,void 0,void 0],3),viewMode=_ref2[1],storyId=_ref2[2];viewMode&&Object.assign(result,{viewMode:viewMode,storyId:storyId})}return result});exports.parsePath=parsePath;var queryFromString=(0,_memoizerific.default)(1e3)(function(s){return _qs.default.parse(s,{ignoreQueryPrefix:!0})});exports.queryFromString=queryFromString;exports.queryFromLocation=function queryFromLocation(location){return queryFromString(location.search)};exports.stringifyQuery=function stringifyQuery(query){return _qs.default.stringify(query,{addQueryPrefix:!0,encode:!1})};var getMatch=(0,_memoizerific.default)(1e3)(function(current,target){var startsWith=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],startsWithTarget=current&&startsWith&&current.startsWith(target),currentIsTarget="string"==typeof target&&current===target,matchTarget=current&&target&&current.match(target);return startsWithTarget||currentIsTarget||matchTarget?{path:current}:null});exports.getMatch=getMatch;exports.parseKind=function parseKind(kind,_ref3){var rootSeparator=_ref3.rootSeparator,groupSeparator=_ref3.groupSeparator,_kind$split2=_slicedToArray(kind.split(rootSeparator,2),2),root=_kind$split2[0],remainder=_kind$split2[1];return{root:remainder?root:null,groups:(remainder||kind).split(groupSeparator).filter(function(i){return!!i})}};exports.storyNameFromExport=function storyNameFromExport(key){return(0,_startCase.default)(key)}},function(module,exports){module.exports=Object.is||function is(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}},function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__(130),isRegExp=__webpack_require__(348),anObject=__webpack_require__(17),requireObjectCoercible=__webpack_require__(33),speciesConstructor=__webpack_require__(321),advanceStringIndex=__webpack_require__(204),toLength=__webpack_require__(27),callRegExpExec=__webpack_require__(131),regexpExec=__webpack_require__(128),fails=__webpack_require__(7),arrayPush=[].push,min=Math.min,SUPPORTS_Y=!fails(function(){return!RegExp(4294967295,"y")});fixRegExpWellKnownSymbolLogic("split",2,function(SPLIT,nativeSplit,maybeCallNative){var internalSplit;return internalSplit="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(separator,limit){var string=String(requireObjectCoercible(this)),lim=void 0===limit?4294967295:limit>>>0;if(0===lim)return[];if(void 0===separator)return[string];if(!isRegExp(separator))return nativeSplit.call(string,separator,lim);for(var match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,separatorCopy=new RegExp(separator.source,flags+"g");(match=regexpExec.call(separatorCopy,string))&&!((lastIndex=separatorCopy.lastIndex)>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),match.length>1&&match.index<string.length&&arrayPush.apply(output,match.slice(1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=lim));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++;return lastLastIndex===string.length?!lastLength&&separatorCopy.test("")||output.push(""):output.push(string.slice(lastLastIndex)),output.length>lim?output.slice(0,lim):output}:"0".split(void 0,0).length?function(separator,limit){return void 0===separator&&0===limit?[]:nativeSplit.call(this,separator,limit)}:nativeSplit,[function split(separator,limit){var O=requireObjectCoercible(this),splitter=null==separator?void 0:separator[SPLIT];return void 0!==splitter?splitter.call(separator,O,limit):internalSplit.call(String(O),separator,limit)},function(regexp,limit){var res=maybeCallNative(internalSplit,regexp,this,limit,internalSplit!==nativeSplit);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),C=speciesConstructor(rx,RegExp),unicodeMatching=rx.unicode,flags=(rx.ignoreCase?"i":"")+(rx.multiline?"m":"")+(rx.unicode?"u":"")+(SUPPORTS_Y?"y":"g"),splitter=new C(SUPPORTS_Y?rx:"^(?:"+rx.source+")",flags),lim=void 0===limit?4294967295:limit>>>0;if(0===lim)return[];if(0===S.length)return null===callRegExpExec(splitter,S)?[S]:[];for(var p=0,q=0,A=[];q<S.length;){splitter.lastIndex=SUPPORTS_Y?q:0;var e,z=callRegExpExec(splitter,SUPPORTS_Y?S:S.slice(q));if(null===z||(e=min(toLength(splitter.lastIndex+(SUPPORTS_Y?0:q)),S.length))===p)q=advanceStringIndex(S,q,unicodeMatching);else{if(A.push(S.slice(p,q)),A.length===lim)return A;for(var i=1;i<=z.length-1;i++)if(A.push(z[i]),A.length===lim)return A;q=p=e}}return A.push(S.slice(p)),A}]},!SUPPORTS_Y)},function(module,exports,__webpack_require__){"use strict";var descriptor,$=__webpack_require__(3),getOwnPropertyDescriptor=__webpack_require__(66).f,toLength=__webpack_require__(27),notARegExp=__webpack_require__(347),requireObjectCoercible=__webpack_require__(33),correctIsRegExpLogic=__webpack_require__(349),IS_PURE=__webpack_require__(67),nativeStartsWith="".startsWith,min=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("startsWith");$({target:"String",proto:!0,forced:!!(IS_PURE||CORRECT_IS_REGEXP_LOGIC||(descriptor=getOwnPropertyDescriptor(String.prototype,"startsWith"),!descriptor||descriptor.writable))&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function startsWith(searchString){var that=String(requireObjectCoercible(this));notARegExp(searchString);var index=toLength(min(arguments.length>1?arguments[1]:void 0,that.length)),search=String(searchString);return nativeStartsWith?nativeStartsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(635),parse=__webpack_require__(636),formats=__webpack_require__(351);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(206),formats=__webpack_require__(351),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},comma:"comma",indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}},isArray=Array.isArray,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset){var obj=object;if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=obj.join(",")),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset,"key"):prefix;obj=""}if(function isNonNullishPrimitive(v){return"string"==typeof v||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v}(obj)||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset,"key"))+"="+formatter(encoder(obj,defaults.encoder,charset,"value"))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(isArray(obj)?pushToArray(values,stringify(obj[key],"function"==typeof generateArrayPrefix?generateArrayPrefix(prefix,key):prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)):pushToArray(values,stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)))}return values};module.exports=function(object,opts){var objKeys,obj=object,options=function normalizeStringifyOptions(opts){if(!opts)return defaults;if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var formatter=formats.formatters[format],filter=defaults.filter;return("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,formatter:formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=opts&&opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:opts&&"indices"in opts?opts.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];options.skipNulls&&null===obj[key]||pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.formatter,options.encodeValuesOnly,options.charset))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(206),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))})},parseKeys=function parseQueryStringKeys(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=options.depth>0&&/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;options.depth>0&&null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options){for(var leaf=val,i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=[].concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);options.parseArrays||""!==cleanRoot?!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:obj[cleanRoot]=leaf:obj={0:leaf}}leaf=obj}return leaf}(keys,val,options)}};module.exports=function(str,opts){var options=function normalizeParseOptions(opts){if(!opts)return defaults;if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var charset=void 0===opts.charset?defaults.charset:opts.charset;return{allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth||!1===opts.depth?+opts.depth:defaults.depth,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);if(""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function parseQueryStringValues(str,options){var i,obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset,"key"),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset,"key"),val=options.decoder(part.slice(pos+1),defaults.decoder,charset,"value")),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(val)),val&&"string"==typeof val&&options.comma&&val.indexOf(",")>-1&&(val=val.split(",")),part.indexOf("[]=")>-1&&(val=isArray(val)?[val]:val),has.call(obj,key)?obj[key]=utils.combine(obj[key],val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},function(module,exports,__webpack_require__){var createCompounder=__webpack_require__(638),upperFirst=__webpack_require__(657),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});module.exports=startCase},function(module,exports,__webpack_require__){var arrayReduce=__webpack_require__(639),deburr=__webpack_require__(640),words=__webpack_require__(653),reApos=RegExp("[']","g");module.exports=function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}},function(module,exports){module.exports=function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__(641),toString=__webpack_require__(208),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reComboMark=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");module.exports=function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}},function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__(642)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});module.exports=deburrLetter},function(module,exports){module.exports=function basePropertyOf(object){return function(key){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(209),arrayMap=__webpack_require__(646),isArray=__webpack_require__(647),isSymbol=__webpack_require__(648),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(645),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(0))},function(module,exports){module.exports=function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(649),isObjectLike=__webpack_require__(652),symbolTag="[object Symbol]";module.exports=function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(209),getRawTag=__webpack_require__(650),objectToString=__webpack_require__(651),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(209),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function objectToString(value){return nativeObjectToString.call(value)}},function(module,exports){module.exports=function isObjectLike(value){return null!=value&&"object"==typeof value}},function(module,exports,__webpack_require__){var asciiWords=__webpack_require__(654),hasUnicodeWord=__webpack_require__(655),toString=__webpack_require__(208),unicodeWords=__webpack_require__(656);module.exports=function words(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}},function(module,exports){var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;module.exports=function asciiWords(string){return string.match(reAsciiWord)||[]}},function(module,exports){var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;module.exports=function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}},function(module,exports){var rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g");module.exports=function unicodeWords(string){return string.match(reUnicodeWord)||[]}},function(module,exports,__webpack_require__){var upperFirst=__webpack_require__(658)("toUpperCase");module.exports=upperFirst},function(module,exports,__webpack_require__){var castSlice=__webpack_require__(659),hasUnicode=__webpack_require__(352),stringToArray=__webpack_require__(661),toString=__webpack_require__(208);module.exports=function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},function(module,exports,__webpack_require__){var baseSlice=__webpack_require__(660);module.exports=function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},function(module,exports){module.exports=function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},function(module,exports,__webpack_require__){var asciiToArray=__webpack_require__(662),hasUnicode=__webpack_require__(352),unicodeToArray=__webpack_require__(663);module.exports=function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},function(module,exports){module.exports=function asciiToArray(string){return string.split("")}},function(module,exports){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function unicodeToArray(string){return string.match(reUnicode)||[]}},function(module,exports,__webpack_require__){var baseMerge=__webpack_require__(665),mergeWith=__webpack_require__(716)(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});module.exports=mergeWith},function(module,exports,__webpack_require__){var Stack=__webpack_require__(353),assignMergeValue=__webpack_require__(356),baseFor=__webpack_require__(694),baseMergeDeep=__webpack_require__(696),isObject=__webpack_require__(47),keysIn=__webpack_require__(364),safeGet=__webpack_require__(363);module.exports=function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}},function(module,exports){module.exports=function listCacheClear(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(133),splice=Array.prototype.splice;module.exports=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(133);module.exports=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(133);module.exports=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(133);module.exports=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(132);module.exports=function stackClear(){this.__data__=new ListCache,this.size=0}},function(module,exports){module.exports=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},function(module,exports){module.exports=function stackGet(key){return this.__data__.get(key)}},function(module,exports){module.exports=function stackHas(key){return this.__data__.has(key)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(132),Map=__webpack_require__(210),MapCache=__webpack_require__(212),LARGE_ARRAY_SIZE=200;module.exports=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(211),isMasked=__webpack_require__(679),isObject=__webpack_require__(47),toSource=__webpack_require__(355),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(134),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function objectToString(value){return nativeObjectToString.call(value)}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(680),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(31)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){module.exports=function getValue(object,key){return null==object?void 0:object[key]}},function(module,exports,__webpack_require__){var Hash=__webpack_require__(683),ListCache=__webpack_require__(132),Map=__webpack_require__(210);module.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(684),hashDelete=__webpack_require__(685),hashGet=__webpack_require__(686),hashHas=__webpack_require__(687),hashSet=__webpack_require__(688);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(135);module.exports=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports){module.exports=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(135),HASH_UNDEFINED="__lodash_hash_undefined__",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(135),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(135),HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(136);module.exports=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(136);module.exports=function mapCacheGet(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(136);module.exports=function mapCacheHas(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(136);module.exports=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(695)();module.exports=baseFor},function(module,exports){module.exports=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},function(module,exports,__webpack_require__){var assignMergeValue=__webpack_require__(356),cloneBuffer=__webpack_require__(697),cloneTypedArray=__webpack_require__(698),copyArray=__webpack_require__(700),initCloneObject=__webpack_require__(701),isArguments=__webpack_require__(361),isArray=__webpack_require__(63),isArrayLikeObject=__webpack_require__(704),isBuffer=__webpack_require__(215),isFunction=__webpack_require__(211),isObject=__webpack_require__(47),isPlainObject=__webpack_require__(706),isTypedArray=__webpack_require__(216),safeGet=__webpack_require__(363),toPlainObject=__webpack_require__(710);module.exports=function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(31),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}}).call(this,__webpack_require__(90)(module))},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(699);module.exports=function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(358);module.exports=function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}},function(module,exports){module.exports=function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(702),getPrototype=__webpack_require__(359),isPrototype=__webpack_require__(214);module.exports=function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(75),isObjectLike=__webpack_require__(62),argsTag="[object Arguments]";module.exports=function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(137),isObjectLike=__webpack_require__(62);module.exports=function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}},function(module,exports){module.exports=function stubFalse(){return!1}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(75),getPrototype=__webpack_require__(359),isObjectLike=__webpack_require__(62),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(75),isLength=__webpack_require__(362),isObjectLike=__webpack_require__(62),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},function(module,exports){module.exports=function baseUnary(func){return function(value){return func(value)}}},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(354),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(90)(module))},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(711),keysIn=__webpack_require__(364);module.exports=function toPlainObject(value){return copyObject(value,keysIn(value))}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(712),baseAssignValue=__webpack_require__(213);module.exports=function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(213),eq=__webpack_require__(97),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports){module.exports=function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47),isPrototype=__webpack_require__(214),nativeKeysIn=__webpack_require__(715),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},function(module,exports){module.exports=function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},function(module,exports,__webpack_require__){var baseRest=__webpack_require__(717),isIterateeCall=__webpack_require__(724);module.exports=function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}},function(module,exports,__webpack_require__){var identity=__webpack_require__(367),overRest=__webpack_require__(718),setToString=__webpack_require__(720);module.exports=function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}},function(module,exports,__webpack_require__){var apply=__webpack_require__(719),nativeMax=Math.max;module.exports=function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},function(module,exports){module.exports=function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(721),setToString=__webpack_require__(723)(baseSetToString);module.exports=setToString},function(module,exports,__webpack_require__){var constant=__webpack_require__(722),defineProperty=__webpack_require__(357),identity=__webpack_require__(367),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},function(module,exports){module.exports=function constant(value){return function(){return value}}},function(module,exports){var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;module.exports=function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},function(module,exports,__webpack_require__){var eq=__webpack_require__(97),isArrayLike=__webpack_require__(137),isIndex=__webpack_require__(366),isObject=__webpack_require__(47);module.exports=function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(726);module.exports=function isEqual(value,other){return baseIsEqual(value,other)}},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(727),isObjectLike=__webpack_require__(62);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(353),equalArrays=__webpack_require__(368),equalByTag=__webpack_require__(733),equalObjects=__webpack_require__(736),getTag=__webpack_require__(746),isArray=__webpack_require__(63),isBuffer=__webpack_require__(215),isTypedArray=__webpack_require__(216),COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(212),setCacheAdd=__webpack_require__(729),setCacheHas=__webpack_require__(730);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports){var HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}},function(module,exports){module.exports=function setCacheHas(value){return this.__data__.has(value)}},function(module,exports){module.exports=function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},function(module,exports){module.exports=function cacheHas(cache,key){return cache.has(key)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(134),Uint8Array=__webpack_require__(358),eq=__webpack_require__(97),equalArrays=__webpack_require__(368),mapToArray=__webpack_require__(734),setToArray=__webpack_require__(735),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},function(module,exports){module.exports=function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}},function(module,exports){module.exports=function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(737),COMPARE_PARTIAL_FLAG=1,hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(738),getSymbols=__webpack_require__(740),keys=__webpack_require__(743);module.exports=function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(739),isArray=__webpack_require__(63);module.exports=function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},function(module,exports){module.exports=function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(741),stubArray=__webpack_require__(742),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray;module.exports=getSymbols},function(module,exports){module.exports=function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},function(module,exports){module.exports=function stubArray(){return[]}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(365),baseKeys=__webpack_require__(744),isArrayLike=__webpack_require__(137);module.exports=function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(214),nativeKeys=__webpack_require__(745),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__(360)(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var DataView=__webpack_require__(747),Map=__webpack_require__(210),Promise=__webpack_require__(748),Set=__webpack_require__(749),WeakMap=__webpack_require__(750),baseGetTag=__webpack_require__(75),toSource=__webpack_require__(355),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){var DataView=__webpack_require__(61)(__webpack_require__(31),"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var Promise=__webpack_require__(61)(__webpack_require__(31),"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var Set=__webpack_require__(61)(__webpack_require__(31),"Set");module.exports=Set},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(61)(__webpack_require__(31),"WeakMap");module.exports=WeakMap},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(752);module.exports=function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(753),toKey=__webpack_require__(761);module.exports=function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(63),isKey=__webpack_require__(754),stringToPath=__webpack_require__(755),toString=__webpack_require__(758);module.exports=function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(63),isSymbol=__webpack_require__(138),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(756),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(757),MAX_MEMOIZE_SIZE=500;module.exports=function memoizeCapped(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(212),FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(759);module.exports=function toString(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(134),arrayMap=__webpack_require__(760),isArray=__webpack_require__(63),isSymbol=__webpack_require__(138),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports){module.exports=function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(138),INFINITY=1/0;module.exports=function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(34),__webpack_require__(41),__webpack_require__(42),__webpack_require__(123),__webpack_require__(116),__webpack_require__(44),__webpack_require__(59),__webpack_require__(29),__webpack_require__(92),__webpack_require__(316),__webpack_require__(327),__webpack_require__(763),__webpack_require__(53),__webpack_require__(122),__webpack_require__(70),__webpack_require__(371),__webpack_require__(764),__webpack_require__(73),__webpack_require__(196),__webpack_require__(765),__webpack_require__(197),__webpack_require__(71),__webpack_require__(372),__webpack_require__(24),__webpack_require__(199),__webpack_require__(74),__webpack_require__(60),__webpack_require__(46),__webpack_require__(350),__webpack_require__(45),__webpack_require__(35),__webpack_require__(373),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _eventemitter=_interopRequireDefault(__webpack_require__(791)),_memoizerific=_interopRequireDefault(__webpack_require__(207)),_debounce=_interopRequireDefault(__webpack_require__(792)),_commonTags=__webpack_require__(946),_stable=_interopRequireDefault(__webpack_require__(795)),_coreEvents=_interopRequireDefault(__webpack_require__(96)),_clientLogger=__webpack_require__(72),_hooks=__webpack_require__(217);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _templateObject(){var data=function _taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n        Story with id "," already exists in the store!\n\n        Perhaps you added the same story twice, or you have a name collision?\n        Story ids need to be unique -- ensure you aren't using the same names modulo url-sanitization.\n      "]);return _templateObject=function _templateObject(){return data},data}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var toKey=function toKey(input){return input.replace(/[^a-z0-9]+([a-z0-9])/gi,function(){for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];return params[1].toUpperCase()})},count=0,getId=function getId(){return count+=1},isStoryDocsOnly=function isStoryDocsOnly(parameters){return parameters&&parameters.docsOnly},includeStory=function includeStory(story){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeDocsOnly:!1};return!!options.includeDocsOnly||!isStoryDocsOnly(story.parameters)},StoryStore=function(_EventEmitter){function StoryStore(params){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StoryStore),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(StoryStore).call(this)))._error=void 0,_this._channel=void 0,_this._data=void 0,_this._legacyData=void 0,_this._legacydata=void 0,_this._revision=void 0,_this._selection=void 0,_this.setChannel=function(channel){_this._channel=channel},_this.fromId=function(id){try{var data=_this._data[id];return data&&data.getDecorated?data:null}catch(e){return _clientLogger.logger.warn("failed to get story:",_this._data),_clientLogger.logger.error(e),null}},_this.getSelection=function(){return _this._selection},_this.getError=function(){return _this._error},_this.remove=function(id){var _data=_assertThisInitialized(_this)._data,story=_data[id];if(delete _data[id],story){story.hooks.clean();var kind=story.kind,name=story.name,kindData=_this._legacydata[toKey(kind)];kindData&&delete kindData.stories[toKey(name)]}},_this.pushToManager=(0,_debounce.default)(function(){if(_this._channel){var stories=_this.extract({includeDocsOnly:!0});_this._channel.emit(_coreEvents.default.SET_STORIES,{stories:stories})}},0),_this._legacydata={},_this._data={},_this._revision=0,_this._selection={},_this._channel=params.channel,_this._error=void 0,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(StoryStore,_eventemitter["default"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(StoryStore,[{key:"raw",value:function raw(options){var _this2=this;return Object.values(this._data).filter(function(i){return!!i.getDecorated}).filter(function(i){return includeStory(i,options)}).map(function(_ref3){var id=_ref3.id;return _this2.fromId(id)})}},{key:"extract",value:function extract(options){var _this3=this,stories=Object.entries(this._data);if(Object.values(this._data).length>0){var index=Object.keys(this._data).find(function(key){return!!(_this3._data[key]&&_this3._data[key].parameters&&_this3._data[key].parameters.options)});if(index&&this._data[index].parameters.options.storySort){var sortFn=this._data[index].parameters.options.storySort;_stable.default.inplace(stories,sortFn)}}return stories.reduce(function(a,_ref4){var _ref5=_slicedToArray(_ref4,2),k=_ref5[0],v=_ref5[1];return includeStory(v,options)?Object.assign(a,_defineProperty({},k,function toExtracted(obj){return Object.entries(obj).reduce(function(acc,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return"function"==typeof value?acc:Array.isArray(value)?Object.assign(acc,_defineProperty({},key,value.slice().sort())):Object.assign(acc,_defineProperty({},key,value))},{})}(v))):a},{})}},{key:"setSelection",value:function setSelection(data,error){var _this4=this;this._selection=void 0===data?this._selection:{storyId:data.storyId,viewMode:data.viewMode},this._error=void 0===error?this._error:error,setTimeout(function(){_this4._channel&&_this4._channel.emit(_coreEvents.default.STORY_RENDER),_this4.emit(_coreEvents.default.STORY_RENDER)},1)}},{key:"addStory",value:function addStory(_ref6,_ref7){var id=_ref6.id,kind=_ref6.kind,name=_ref6.name,original=_ref6.storyFn,_ref6$parameters=_ref6.parameters,parameters=void 0===_ref6$parameters?{}:_ref6$parameters,getDecorators=_ref7.getDecorators,applyDecorators=_ref7.applyDecorators,_data=this._data;_data[id]&&_clientLogger.logger.warn((0,_commonTags.stripIndents)(_templateObject(),id));var identification={id:id,kind:kind,name:name,story:name},getOriginal=function getOriginal(){return original},getDecorated=(0,_memoizerific.default)(1)(function(){return applyDecorators(getOriginal(),getDecorators())}),hooks=new _hooks.HooksContext,storyFn=function storyFn(p){return getDecorated()(Object.assign({},identification,{},p,{hooks:hooks,parameters:Object.assign({},parameters,{},p&&p.parameters)}))};_data[id]=Object.assign({},identification,{hooks:hooks,getDecorated:getDecorated,getOriginal:getOriginal,storyFn:storyFn,parameters:parameters}),isStoryDocsOnly(parameters)||this.addLegacyStory({kind:kind,name:name,storyFn:storyFn,parameters:parameters}),this.pushToManager()}},{key:"getRevision",value:function getRevision(){return this._revision}},{key:"incrementRevision",value:function incrementRevision(){this._revision+=1}},{key:"addLegacyStory",value:function addLegacyStory(_ref8){var kind=_ref8.kind,name=_ref8.name,storyFn=_ref8.storyFn,parameters=_ref8.parameters,k=toKey(kind);this._legacydata[k]||(this._legacydata[k]={kind:kind,fileName:parameters.fileName,index:getId(),stories:{}}),this._legacydata[k].stories[toKey(name)]={name:name,index:getId(),story:storyFn,parameters:parameters}}},{key:"getStoryKinds",value:function getStoryKinds(){return Object.values(this._legacydata).filter(function(kind){return Object.keys(kind.stories).length>0}).sort(function(info1,info2){return info1.index-info2.index}).map(function(info){return info.kind})}},{key:"getStories",value:function getStories(kind){var _this5=this,key=toKey(kind);return this._legacydata[key]?Object.keys(this._legacydata[key].stories).map(function(name){return _this5._legacydata[key].stories[name]}).sort(function(info1,info2){return info1.index-info2.index}).map(function(info){return info.name}):[]}},{key:"getStoriesForKind",value:function getStoriesForKind(kind){return this.raw().filter(function(story){return story.kind===kind})}},{key:"getStoryFileName",value:function getStoryFileName(kind){var key=toKey(kind),storiesKind=this._legacydata[key];return storiesKind?storiesKind.fileName:null}},{key:"getStoryAndParameters",value:function getStoryAndParameters(kind,name){if(!kind||!name)return null;var storiesKind=this._legacydata[toKey(kind)];if(!storiesKind)return null;var storyInfo=storiesKind.stories[toKey(name)];return storyInfo?{story:storyInfo.story,parameters:storyInfo.parameters}:null}},{key:"getStory",value:function getStory(kind,name){var data=this.getStoryAndParameters(kind,name);return data&&data.story}},{key:"getStoryWithContext",value:function getStoryWithContext(kind,name){var data=this.getStoryAndParameters(kind,name);return data?data.story:null}},{key:"removeStoryKind",value:function removeStoryKind(kind){this.hasStoryKind(kind)&&(this._legacydata[toKey(kind)].stories={},this.cleanHooksForKind(kind),this._data=Object.entries(this._data).reduce(function(acc,_ref9){var _ref10=_slicedToArray(_ref9,2),id=_ref10[0],story=_ref10[1];return story.kind!==kind&&Object.assign(acc,_defineProperty({},id,story)),acc},{}),this.pushToManager())}},{key:"hasStoryKind",value:function hasStoryKind(kind){return Boolean(this._legacydata[toKey(kind)])}},{key:"hasStory",value:function hasStory(kind,name){return Boolean(this.getStory(kind,name))}},{key:"dumpStoryBook",value:function dumpStoryBook(){var _this6=this;return this.getStoryKinds().map(function(kind){return{kind:kind,stories:_this6.getStories(kind)}})}},{key:"size",value:function size(){return Object.keys(this._legacydata).length}},{key:"clean",value:function clean(){var _this7=this;this.getStoryKinds().forEach(function(kind){return delete _this7._legacydata[toKey(kind)]})}},{key:"cleanHooks",value:function cleanHooks(id){this._data[id]&&this._data[id].hooks.clean()}},{key:"cleanHooksForKind",value:function cleanHooksForKind(kind){var _this8=this;this.getStoriesForKind(kind).map(function(story){return _this8.cleanHooks(story.id)})}}]),StoryStore}();exports.default=StoryStore},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(3),aFunction=__webpack_require__(58),toObject=__webpack_require__(28),fails=__webpack_require__(7),sloppyArrayMethod=__webpack_require__(88),test=[],nativeSort=test.sort,FAILS_ON_UNDEFINED=fails(function(){test.sort(void 0)}),FAILS_ON_NULL=fails(function(){test.sort(null)}),SLOPPY_METHOD=sloppyArrayMethod("sort");$({target:"Array",proto:!0,forced:FAILS_ON_UNDEFINED||!FAILS_ON_NULL||SLOPPY_METHOD},{sort:function sort(comparefn){return void 0===comparefn?nativeSort.call(toObject(this)):nativeSort.call(toObject(this),aFunction(comparefn))}})},function(module,exports,__webpack_require__){var $=__webpack_require__(3),DESCRIPTORS=__webpack_require__(19);$({target:"Object",stat:!0,forced:!DESCRIPTORS,sham:!DESCRIPTORS},{defineProperties:__webpack_require__(305)})},function(module,exports,__webpack_require__){var $=__webpack_require__(3),FREEZING=__webpack_require__(343),fails=__webpack_require__(7),isObject=__webpack_require__(12),onFreeze=__webpack_require__(95).onFreeze,nativeFreeze=Object.freeze;$({target:"Object",stat:!0,forced:fails(function(){nativeFreeze(1)}),sham:!FREEZING},{freeze:function freeze(it){return nativeFreeze&&isObject(it)?nativeFreeze(onFreeze(it)):it}})},function(module,exports,__webpack_require__){var global=__webpack_require__(36),getOwnPropertyDescriptor=__webpack_require__(374).f,createNonEnumerableProperty=__webpack_require__(142),redefine=__webpack_require__(772),setGlobal=__webpack_require__(219),copyConstructorProperties=__webpack_require__(779),isForced=__webpack_require__(789);module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},function(module,exports,__webpack_require__){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},function(module,exports,__webpack_require__){var fails=__webpack_require__(140),classof=__webpack_require__(769),split="".split;module.exports=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it}},function(module,exports,__webpack_require__){var global=__webpack_require__(36),isObject=__webpack_require__(141),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},function(module,exports,__webpack_require__){var global=__webpack_require__(36),createNonEnumerableProperty=__webpack_require__(142),has=__webpack_require__(98),setGlobal=__webpack_require__(219),inspectSource=__webpack_require__(380),InternalStateModule=__webpack_require__(775),getInternalState=InternalStateModule.get,enforceInternalState=InternalStateModule.enforce,TEMPLATE=String(String).split("String");(module.exports=function(O,key,value,options){var unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet;"function"==typeof value&&("string"!=typeof key||has(value,"name")||createNonEnumerableProperty(value,"name",key),enforceInternalState(value).source=TEMPLATE.join("string"==typeof key?key:"")),O!==global?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:createNonEnumerableProperty(O,key,value)):simple?O[key]=value:setGlobal(key,value)})(Function.prototype,"toString",function toString(){return"function"==typeof this&&getInternalState(this).source||inspectSource(this)})},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){var global=__webpack_require__(36),setGlobal=__webpack_require__(219),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});module.exports=store},function(module,exports,__webpack_require__){var set,get,has,NATIVE_WEAK_MAP=__webpack_require__(776),global=__webpack_require__(36),isObject=__webpack_require__(141),createNonEnumerableProperty=__webpack_require__(142),objectHas=__webpack_require__(98),sharedKey=__webpack_require__(777),hiddenKeys=__webpack_require__(382),WeakMap=global.WeakMap;if(NATIVE_WEAK_MAP){var store=new WeakMap,wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){return createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},function(module,exports,__webpack_require__){var global=__webpack_require__(36),inspectSource=__webpack_require__(380),WeakMap=global.WeakMap;module.exports="function"==typeof WeakMap&&/native code/.test(inspectSource(WeakMap))},function(module,exports,__webpack_require__){var shared=__webpack_require__(381),uid=__webpack_require__(778),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},function(module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)}},function(module,exports,__webpack_require__){var has=__webpack_require__(98),ownKeys=__webpack_require__(780),getOwnPropertyDescriptorModule=__webpack_require__(374),definePropertyModule=__webpack_require__(378);module.exports=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(383),getOwnPropertyNamesModule=__webpack_require__(782),getOwnPropertySymbolsModule=__webpack_require__(788),anObject=__webpack_require__(379);module.exports=getBuiltIn("Reflect","ownKeys")||function ownKeys(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},function(module,exports,__webpack_require__){var global=__webpack_require__(36);module.exports=global},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(783),hiddenKeys=__webpack_require__(787).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return internalObjectKeys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(98),toIndexedObject=__webpack_require__(218),indexOf=__webpack_require__(784).indexOf,hiddenKeys=__webpack_require__(382);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~indexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__(218),toLength=__webpack_require__(785),toAbsoluteIndex=__webpack_require__(786),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(384),min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(384),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var fails=__webpack_require__(140),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(383);module.exports=getBuiltIn("navigator","userAgent")||""},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0==--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function eventNames(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function listeners(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function listenerCount(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,module.exports=EventEmitter},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47),now=__webpack_require__(793),toNumber=__webpack_require__(794),FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;module.exports=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}},function(module,exports,__webpack_require__){var root=__webpack_require__(31);module.exports=function(){return root.Date.now()}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(47),isSymbol=__webpack_require__(138),NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}},function(module,exports,__webpack_require__){
//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//!  2018 Angry Bytes and contributors. MIT licensed.
module.exports=function(){"use strict";var stable=function(arr,comp){return exec(arr.slice(),comp)};function exec(arr,comp){"function"!=typeof comp&&(comp=function(a,b){return String(a).localeCompare(b)});var len=arr.length;if(len<=1)return arr;for(var buffer=new Array(len),chk=1;chk<len;chk*=2){pass(arr,comp,chk,buffer);var tmp=arr;arr=buffer,buffer=tmp}return arr}stable.inplace=function(arr,comp){var result=exec(arr,comp);return result!==arr&&pass(result,null,arr.length,arr),arr};var pass=function(arr,comp,chk,result){var l,r,e,li,ri,len=arr.length,i=0,dbl=2*chk;for(l=0;l<len;l+=dbl)for(e=(r=l+chk)+chk,r>len&&(r=len),e>len&&(e=len),li=l,ri=r;;)if(li<r&&ri<e)comp(arr[li],arr[ri])<=0?result[i++]=arr[li++]:result[i++]=arr[ri++];else if(li<r)result[i++]=arr[li++];else{if(!(ri<e))break;result[i++]=arr[ri++]}};return stable}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(73),__webpack_require__(373),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _coreEvents=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(96));function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ConfigApi=function(){function ConfigApi(_ref){var _this=this,channel=_ref.channel,storyStore=_ref.storyStore,clientApi=_ref.clientApi,clearDecorators=_ref.clearDecorators;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConfigApi),this._channel=void 0,this._storyStore=void 0,this._clearDecorators=void 0,this.clientApi=void 0,this.configure=function(loaders,module){module.hot&&(module.hot.accept(),module.hot.dispose(function(){_this._clearDecorators()})),_this._channel?(!function render(){var errors=[];try{loaders&&loaders()}catch(e){errors.push(e)}if(!errors.length)try{_this._renderMain()}catch(e){errors.push(e)}if(errors.length)throw _this._storyStore.setSelection(void 0,errors[0]),errors[0];_this._storyStore.setSelection(void 0,null)}(),setTimeout(function(){return _this._channel.emit(_coreEvents.default.STORIES_CONFIGURED)},0)):loaders()},this._channel=channel,this._storyStore=storyStore,this._clearDecorators=clearDecorators,this.clientApi=clientApi}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ConfigApi,[{key:"_renderMain",value:function _renderMain(){this._storyStore.emit(_coreEvents.default.STORY_INIT)}},{key:"_renderError",value:function _renderError(err){var error={stack:err.stack,message:err.message};this._storyStore.setSelection(void 0,error)}}]),ConfigApi}();exports.default=ConfigApi},function(module,exports,__webpack_require__){"use strict";__webpack_require__(74),__webpack_require__(129),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function pathToId(path){var match=(path||"").match(/^\/story\/(.+)/);if(!match)throw new Error("Invalid path '".concat(path,"',  must start with '/story/'"));return match[1]}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(74),__webpack_require__(205),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getQueryParam=exports.getQueryParams=void 0;var _global=__webpack_require__(43),_qs=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(799));var getQueryParams=function getQueryParams(){return _global.document&&_global.document.location&&_global.document.location.search?_qs.default.parse(_global.document.location.search,{ignoreQueryPrefix:!0}):{}};exports.getQueryParams=getQueryParams;exports.getQueryParam=function getQueryParam(key){return getQueryParams()[key]}},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(800),parse=__webpack_require__(801),formats=__webpack_require__(385);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(220),formats=__webpack_require__(385),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},comma:"comma",indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}},isArray=Array.isArray,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset){var obj=object;if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=obj.join(",")),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset,"key"):prefix;obj=""}if(function isNonNullishPrimitive(v){return"string"==typeof v||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v}(obj)||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset,"key"))+"="+formatter(encoder(obj,defaults.encoder,charset,"value"))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(isArray(obj)?pushToArray(values,stringify(obj[key],"function"==typeof generateArrayPrefix?generateArrayPrefix(prefix,key):prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)):pushToArray(values,stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)))}return values};module.exports=function(object,opts){var objKeys,obj=object,options=function normalizeStringifyOptions(opts){if(!opts)return defaults;if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var formatter=formats.formatters[format],filter=defaults.filter;return("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,formatter:formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=opts&&opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:opts&&"indices"in opts?opts.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];options.skipNulls&&null===obj[key]||pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.formatter,options.encodeValuesOnly,options.charset))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(220),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))})},parseKeys=function parseQueryStringKeys(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=options.depth>0&&/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;options.depth>0&&null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options){for(var leaf=val,i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=[].concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);options.parseArrays||""!==cleanRoot?!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:obj[cleanRoot]=leaf:obj={0:leaf}}leaf=obj}return leaf}(keys,val,options)}};module.exports=function(str,opts){var options=function normalizeParseOptions(opts){if(!opts)return defaults;if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var charset=void 0===opts.charset?defaults.charset:opts.charset;return{allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth||!1===opts.depth?+opts.depth:defaults.depth,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);if(""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function parseQueryStringValues(str,options){var i,obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset,"key"),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset,"key"),val=options.decoder(part.slice(pos+1),defaults.decoder,charset,"value")),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(val)),val&&"string"==typeof val&&options.comma&&val.indexOf(",")>-1&&(val=val.split(",")),part.indexOf("[]=")>-1&&(val=isArray(val)?[val]:val),has.call(obj,key)?obj[key]=utils.combine(obj[key],val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(34),__webpack_require__(41),__webpack_require__(42),__webpack_require__(23),__webpack_require__(123),__webpack_require__(116),__webpack_require__(44),__webpack_require__(91),__webpack_require__(340),__webpack_require__(386),__webpack_require__(59),__webpack_require__(29),__webpack_require__(92),__webpack_require__(53),__webpack_require__(122),__webpack_require__(370),__webpack_require__(70),__webpack_require__(71),__webpack_require__(24),__webpack_require__(118),__webpack_require__(74),__webpack_require__(60),__webpack_require__(342),__webpack_require__(346),__webpack_require__(46),__webpack_require__(129),__webpack_require__(45),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.isExportStory=isExportStory,exports.default=function start(render){var decorateStory=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).decorateStory,context=getContext(decorateStory),clientApi=context.clientApi,channel=context.channel,configApi=context.configApi,storyStore=context.storyStore,previousKind="",previousStory="",previousRevision=-1,previousViewMode="",previousId=null,renderMain=function renderMain(forceRender){var revision=storyStore.getRevision(),loadError=storyStore.getError(),_storyStore$getSelect=storyStore.getSelection(),storyId=_storyStore$getSelect.storyId,urlViewMode=_storyStore$getSelect.viewMode,data=storyStore.fromId(storyId),_ref5=data||{},kind=_ref5.kind,name=_ref5.name,getDecorated=_ref5.getDecorated,id=_ref5.id,parameters=_ref5.parameters,error=_ref5.error,viewMode=parameters&&parameters.docsOnly?"docs":urlViewMode,renderContext=Object.assign({},context,{},data,{selectedKind:kind,selectedStory:name,parameters:parameters,forceRender:forceRender});if(loadError||error)showErrorDisplay(loadError||error);else if(forceRender||revision!==previousRevision||viewMode!==previousViewMode||kind!==previousKind||name!==previousStory){switch(!forceRender&&previousKind&&previousStory&&_addons.default.getChannel().emit(_coreEvents.default.STORY_CHANGED,id),previousViewMode){case"docs":null==previousKind||kind===previousKind&&viewMode===previousViewMode||(storyStore.cleanHooksForKind(previousKind),_reactDom.default.unmountComponentAtNode(_global.document.getElementById("docs-root")));break;case"story":default:null==previousId||id===previousId&&viewMode===previousViewMode||(storyStore.cleanHooks(previousId),_reactDom.default.unmountComponentAtNode(_global.document.getElementById("root")))}if(viewMode!==previousViewMode)switch(viewMode){case"docs":showMain(),_global.document.getElementById("root").setAttribute("hidden",!0),_global.document.getElementById("docs-root").removeAttribute("hidden");break;case"story":default:"docs"===previousViewMode&&(_global.document.getElementById("docs-root").setAttribute("hidden",!0),_global.document.getElementById("root").removeAttribute("hidden"))}switch(viewMode){case"docs":var docs=parameters&&parameters.docs||{},DocsContainer=docs.container||function(_ref6){var children=_ref6.children;return _react.default.createElement(_react.default.Fragment,null,children)},Page=docs.page||_NoDocs.NoDocs;_reactDom.default.render(_react.default.createElement(DocsContainer,{context:renderContext},_react.default.createElement(Page,null)),_global.document.getElementById("docs-root"),function(){return _addons.default.getChannel().emit(_coreEvents.default.DOCS_RENDERED,kind)});break;case"story":default:getDecorated?function _callee(){regeneratorRuntime.async(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,regeneratorRuntime.awrap(render(renderContext));case 3:_addons.default.getChannel().emit(_coreEvents.default.STORY_RENDERED,id),_context.next=9;break;case 6:_context.prev=6,_context.t0=_context.catch(0),showException(_context.t0);case 9:case"end":return _context.stop()}},null,null,[[0,6]])}():(!function showNopreview(){_global.document.body.classList.remove(classes.MAIN),_global.document.body.classList.remove(classes.ERROR),_global.document.body.classList.add(classes.NOPREVIEW)}(),_addons.default.getChannel().emit(_coreEvents.default.STORY_MISSING,id))}previousRevision=revision,previousKind=kind,previousStory=name,previousViewMode=viewMode,previousId=id,forceRender||"docs"===viewMode||(_global.document.documentElement.scrollTop=0,_global.document.documentElement.scrollLeft=0)}else _addons.default.getChannel().emit(_coreEvents.default.STORY_UNCHANGED,{id:id,revision:revision,kind:kind,name:name,viewMode:viewMode})},renderUI=function renderUI(forceRender){if(isBrowser)try{renderMain(forceRender)}catch(ex){showException(ex)}},forceReRender=function forceReRender(){return renderUI(!0)};if(isBrowser){var deprecatedToId=(0,_utilDeprecate.default)(_utils.toId,"Passing name+kind to the SET_CURRENT_STORY event is deprecated, use a storyId instead");channel.on(_coreEvents.default.FORCE_RE_RENDER,forceReRender),channel.on(_coreEvents.default.SET_CURRENT_STORY,function(_ref7){var inputStoryId=_ref7.storyId,name=_ref7.name,kind=_ref7.kind,viewMode=_ref7.viewMode,storyId=inputStoryId;if(!storyId){if(!name||!kind)throw new Error("You should pass `storyId` into SET_CURRENT_STORY");storyId=deprecatedToId(kind,name)}storyStore.setSelection({storyId:storyId,viewMode:viewMode}),(0,_url.setPath)({storyId:storyId,viewMode:viewMode})}),_global.window.onkeydown=function(event){if(!function focusInInput(event){return/input|textarea/i.test(event.target.tagName)||null!==event.target.getAttribute("contenteditable")}(event)){var altKey=event.altKey,ctrlKey=event.ctrlKey,metaKey=event.metaKey,shiftKey=event.shiftKey,key=event.key,code=event.code,keyCode=event.keyCode;channel.emit(_coreEvents.default.PREVIEW_KEYDOWN,{event:{altKey:altKey,ctrlKey:ctrlKey,metaKey:metaKey,shiftKey:shiftKey,key:key,code:code,keyCode:keyCode}})}}}storyStore.on(_coreEvents.default.STORY_INIT,function(){var _initializePath=(0,_url.initializePath)(),storyId=_initializePath.storyId,viewMode=_initializePath.viewMode;storyStore.setSelection({storyId:storyId,viewMode:viewMode})}),storyStore.on(_coreEvents.default.STORY_RENDER,renderUI),void 0!==_global.window&&(_global.window.__STORYBOOK_CLIENT_API__=clientApi,_global.window.__STORYBOOK_STORY_STORE__=storyStore,_global.window.__STORYBOOK_ADDONS_CHANNEL__=channel);var previousExports=new Map,loadStories=function loadStories(loadable,framework){return function(){var loadedKinds=new Set,reqs=null;Array.isArray(loadable)?reqs=loadable:loadable.keys&&(reqs=[loadable]);var currentExports=new Map;if(reqs)reqs.forEach(function(req){req.keys().forEach(function(filename){var fileExports=req(filename);currentExports.set(fileExports,"function"==typeof req.resolve?req.resolve(filename):null)})});else{var exported=loadable();Array.isArray(exported)&&!exported.find(function(obj){return!obj.default})?currentExports=new Map(exported.map(function(fileExports){return[fileExports,null]})):exported&&_clientLogger.logger.warn("Loader function passed to 'configure' should return void or an array of module exports that all contain a 'default' export. Received: ".concat(JSON.stringify(exported)))}var removed=_toConsumableArray(previousExports.keys()).filter(function(exp){return!currentExports.has(exp)});removed.forEach(function(exp){exp.default&&storyStore.removeStoryKind(exp.default.title)}),removed.length>0&&storyStore.incrementRevision(),_toConsumableArray(currentExports.keys()).filter(function(exp){return!previousExports.has(exp)}).forEach(function(fileExports){if(fileExports.default){if(!fileExports.default.title)throw new Error("Unexpected default export without title: ".concat(JSON.stringify(fileExports.default)));var meta=fileExports.default,exports=function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}(fileExports,["default"]),kindName=meta.title,params=meta.parameters,decos=meta.decorators,component=meta.component;if(loadedKinds.has(kindName))throw new Error("Duplicate title '".concat(kindName,"' used in multiple files; use unique titles or combine '").concat(kindName,"' stories into a single file."));loadedKinds.add(kindName);var kind=clientApi.storiesOf(kindName,!0);kind.addParameters(Object.assign({framework:framework,component:component,fileName:currentExports.get(fileExports)},params)),(decos||[]).forEach(function(decorator){kind.addDecorator(decorator)}),Object.keys(exports).forEach(function(key){if(isExportStory(key,meta)){var storyFn=exports[key],_ref8=storyFn.story||{},name=_ref8.name,parameters=_ref8.parameters,decorators=_ref8.decorators;parameters&&parameters.decorators&&(0,_utilDeprecate.default)(function(){},"".concat(kindName," => ").concat(name||key,": story.parameters.decorators is deprecated; use story.decorators instead."))();var decoratorParams=decorators?{decorators:decorators}:null,displayNameParams=name?{displayName:name}:{};kind.add((0,_utils.storyNameFromExport)(key),storyFn,Object.assign({},parameters,{},decoratorParams,{},displayNameParams))}})}}),previousExports=currentExports}},loaded=!1;return{configure:function configure(loadable,m,framework){if(m&&m.hot&&m.hot.dispose){var _ref9$previousExports=(m.hot.data||{}).previousExports;previousExports=void 0===_ref9$previousExports?new Map:_ref9$previousExports,m.hot.dispose(function(data){loaded=!1,data.previousExports=previousExports})}loaded&&_clientLogger.logger.warn("Unexpected loaded state. Did you call `load` twice?"),loaded=!0,configApi.configure(loadStories(loadable,framework),m)},context:context,clientApi:clientApi,configApi:configApi,forceReRender:forceReRender}},exports.getContext=void 0,__webpack_require__(239);var _global=__webpack_require__(43),_react=_interopRequireDefault(__webpack_require__(1)),_reactDom=_interopRequireDefault(__webpack_require__(151)),_utilDeprecate=_interopRequireDefault(__webpack_require__(198)),_ansiToHtml=_interopRequireDefault(__webpack_require__(807)),_addons=_interopRequireDefault(__webpack_require__(117)),_channelPostmessage=_interopRequireDefault(__webpack_require__(814)),_clientApi2=__webpack_require__(312),_utils=__webpack_require__(127),_clientLogger=__webpack_require__(72),_coreEvents=_interopRequireDefault(__webpack_require__(96)),_url=__webpack_require__(868),_NoDocs=__webpack_require__(872);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ansiConverter=new _ansiToHtml.default,classes={MAIN:"sb-show-main",NOPREVIEW:"sb-show-nopreview",ERROR:"sb-show-errordisplay"};function matches(storyKey,arrayOrRegex){return Array.isArray(arrayOrRegex)?arrayOrRegex.includes(storyKey):storyKey.match(arrayOrRegex)}function isExportStory(key,_ref){var includeStories=_ref.includeStories,excludeStories=_ref.excludeStories;return"__esModule"!==key&&(!includeStories||matches(key,includeStories))&&(!excludeStories||!matches(key,excludeStories))}function showMain(){_global.document.body.classList.remove(classes.NOPREVIEW),_global.document.body.classList.remove(classes.ERROR),_global.document.body.classList.add(classes.MAIN)}function showErrorDisplay(_ref2){var _ref2$message=_ref2.message,message=void 0===_ref2$message?"":_ref2$message,_ref2$stack=_ref2.stack,stack=void 0===_ref2$stack?"":_ref2$stack;_global.document.getElementById("error-message").innerHTML=ansiConverter.toHtml(message),_global.document.getElementById("error-stack").innerHTML=ansiConverter.toHtml(stack),_global.document.body.classList.remove(classes.MAIN),_global.document.body.classList.remove(classes.NOPREVIEW),_global.document.body.classList.add(classes.ERROR)}function showError(_ref3){var title=_ref3.title,description=_ref3.description;_addons.default.getChannel().emit(_coreEvents.default.STORY_ERRORED,{title:title,description:description}),showErrorDisplay({message:title,stack:description})}function showException(exception){_addons.default.getChannel().emit(_coreEvents.default.STORY_THREW_EXCEPTION,exception),showErrorDisplay(exception),_clientLogger.logger.error(exception)}var isBrowser=_global.navigator&&_global.navigator.userAgent&&"storyshots"!==_global.navigator.userAgent&&!(_global.navigator.userAgent.indexOf("Node.js")>-1)&&!(_global.navigator.userAgent.indexOf("jsdom")>-1),getContext=function(decorateStory){var storyStore,clientApi,channel=null;if(isBrowser)try{channel=_addons.default.getChannel()}catch(e){channel=(0,_channelPostmessage.default)({page:"preview"}),_addons.default.setChannel(channel)}void 0!==_global.window&&_global.window.__STORYBOOK_CLIENT_API__?storyStore=(clientApi=_global.window.__STORYBOOK_CLIENT_API__)._storyStore:(storyStore=new _clientApi2.StoryStore({channel:channel}),clientApi=new _clientApi2.ClientApi({storyStore:storyStore,decorateStory:decorateStory}));var clearDecorators=clientApi.clearDecorators;return{configApi:new _clientApi2.ConfigApi({clearDecorators:clearDecorators,storyStore:storyStore,channel:channel,clientApi:clientApi}),storyStore:storyStore,channel:channel,clientApi:clientApi,showMain:showMain,showError:showError,showException:showException}};exports.getContext=getContext},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k=__webpack_require__(387),n="function"==typeof Symbol&&Symbol.for,p=n?Symbol.for("react.element"):60103,q=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,t=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,v=n?Symbol.for("react.provider"):60109,w=n?Symbol.for("react.context"):60110,x=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,z=n?Symbol.for("react.suspense"):60113,aa=n?Symbol.for("react.memo"):60115,ba=n?Symbol.for("react.lazy"):60116,A="function"==typeof Symbol&&Symbol.iterator;function B(a){for(var b=arguments.length-1,d="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=0;c<b;c++)d+="&args[]="+encodeURIComponent(arguments[c+1]);!function ca(a,b,d,c,e,g,h,f){if(!a){if(a=void 0,void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[d,c,e,g,h,f],m=0;(a=Error(b.replace(/%s/g,function(){return l[m++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}}(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",d)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};function E(a,b,d){this.props=a,this.context=b,this.refs=D,this.updater=d||C}function F(){}function G(a,b,d){this.props=a,this.context=b,this.refs=D,this.updater=d||C}E.prototype.isReactComponent={},E.prototype.setState=function(a,b){"object"!=typeof a&&"function"!=typeof a&&null!=a&&B("85"),this.updater.enqueueSetState(this,a,b,"setState")},E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},F.prototype=E.prototype;var H=G.prototype=new F;H.constructor=G,k(H,E.prototype),H.isPureReactComponent=!0;var I={current:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};function M(a,b,d){var c=void 0,e={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=""+b.key),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(1<f){for(var l=Array(f),m=0;m<f;m++)l[m]=arguments[m+2];e.children=l}if(a&&a.defaultProps)for(c in f=a.defaultProps)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:h,props:e,_owner:J.current}}function N(a){return"object"==typeof a&&null!==a&&a.$$typeof===p}var O=/\/+/g,P=[];function Q(a,b,d,c){if(P.length){var e=P.pop();return e.result=a,e.keyPrefix=b,e.func=d,e.context=c,e.count=0,e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}function R(a){a.result=null,a.keyPrefix=null,a.func=null,a.context=null,a.count=0,10>P.length&&P.push(a)}function U(a,b,d){return null==a?0:function S(a,b,d,c){var e=typeof a;"undefined"!==e&&"boolean"!==e||(a=null);var g=!1;if(null===a)g=!0;else switch(e){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,""===b?"."+T(a,0):b),1;if(g=0,b=""===b?".":b+":",Array.isArray(a))for(var h=0;h<a.length;h++){var f=b+T(e=a[h],h);g+=S(e,f,d,c)}else if(f=null===a||"object"!=typeof a?null:"function"==typeof(f=A&&a[A]||a["@@iterator"])?f:null,"function"==typeof f)for(a=f.call(a),h=0;!(e=a.next()).done;)g+=S(e=e.value,f=b+T(e,h++),d,c);else"object"===e&&B("31","[object Object]"==(d=""+a)?"object with keys {"+Object.keys(a).join(", ")+"}":d,"");return g}(a,"",b,d)}function T(a,b){return"object"==typeof a&&null!==a&&null!=a.key?function escape(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}(a.key):b.toString(36)}function ea(a,b){a.func.call(a.context,b,a.count++)}function fa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++),Array.isArray(a)?V(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=function da(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+d)),c.push(a))}function V(a,b,d,c,e){var g="";null!=d&&(g=(""+d).replace(O,"$&/")+"/"),U(a,fa,b=Q(b,g,c,e)),R(b)}function W(){var a=I.current;return null===a&&B("321"),a}var X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];return V(a,c,null,b,d),c},forEach:function(a,b,d){if(null==a)return a;U(a,ea,b=Q(null,null,b,d)),R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];return V(a,b,null,function(a){return a}),b},only:function(a){return N(a)||B("143"),a}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(a,b){return void 0===b&&(b=null),(a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:a},a.Consumer=a},forwardRef:function(a){return{$$typeof:y,render:a}},lazy:function(a){return{$$typeof:ba,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:aa,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,b,d){return W().useImperativeHandle(a,b,d)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,d){return W().useReducer(a,b,d)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,StrictMode:t,Suspense:z,createElement:M,cloneElement:function(a,b,d){null==a&&B("267",a);var c=void 0,e=k({},a.props),g=a.key,h=a.ref,f=a._owner;if(null!=b){void 0!==b.ref&&(h=b.ref,f=J.current),void 0!==b.key&&(g=""+b.key);var l=void 0;for(c in a.type&&a.type.defaultProps&&(l=a.type.defaultProps),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}if(1===(c=arguments.length-2))e.children=d;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];e.children=l}return{$$typeof:p,type:a.type,key:g,ref:h,props:e,_owner:f}},createFactory:function(a){var b=M.bind(null,a);return b.type=a,b},isValidElement:N,version:"16.8.6",unstable_ConcurrentMode:x,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentOwner:J,assign:k}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=__webpack_require__(1),n=__webpack_require__(387),r=__webpack_require__(805);function x(a){for(var b=arguments.length-1,c="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);!function ba(a,b,c,d,e,f,g,h){if(!a){if(a=void 0,void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[c,d,e,f,g,h],k=0;(a=Error(b.replace(/%s/g,function(){return l[k++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}}(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",c)}aa||x("227");var da=!1,ea=null,fa=!1,ha=null,ia={onError:function(a){da=!0,ea=a}};function ja(a,b,c,d,e,f,g,h,l){da=!1,ea=null,function ca(a,b,c,d,e,f,g,h,l){var k=Array.prototype.slice.call(arguments,3);try{b.apply(c,k)}catch(m){this.onError(m)}}.apply(ia,arguments)}var la=null,ma={};function na(){if(la)for(var a in ma){var b=ma[a],c=la.indexOf(a);if(-1<c||x("96",a),!oa[c])for(var d in b.extractEvents||x("97",a),oa[c]=b,c=b.eventTypes){var e=void 0,f=c[d],g=b,h=d;pa.hasOwnProperty(h)&&x("99",h),pa[h]=f;var l=f.phasedRegistrationNames;if(l){for(e in l)l.hasOwnProperty(e)&&qa(l[e],g,h);e=!0}else f.registrationName?(qa(f.registrationName,g,h),e=!0):e=!1;e||x("98",d,a)}}}function qa(a,b,c){ra[a]&&x("100",a),ra[a]=b,sa[a]=b.eventTypes[c].dependencies}var oa=[],pa={},ra={},sa={},ta=null,ua=null,va=null;function wa(a,b,c){var d=a.type||"unknown-event";a.currentTarget=va(c),function ka(a,b,c,d,e,f,g,h,l){if(ja.apply(this,arguments),da){if(da){var k=ea;da=!1,ea=null}else x("198"),k=void 0;fa||(fa=!0,ha=k)}}(d,b,void 0,a),a.currentTarget=null}function xa(a,b){return null==b&&x("30"),null==a?b:Array.isArray(a)?Array.isArray(b)?(a.push.apply(a,b),a):(a.push(b),a):Array.isArray(b)?[a].concat(b):[a,b]}function ya(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var za=null;function Aa(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)wa(a,b[d],c[d]);else b&&wa(a,b,c);a._dispatchListeners=null,a._dispatchInstances=null,a.isPersistent()||a.constructor.release(a)}}var Ba={injectEventPluginOrder:function(a){la&&x("101"),la=Array.prototype.slice.call(a),na()},injectEventPluginsByName:function(a){var c,b=!1;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];ma.hasOwnProperty(c)&&ma[c]===d||(ma[c]&&x("102",c),ma[c]=d,b=!0)}b&&na()}};function Ca(a,b){var c=a.stateNode;if(!c)return null;var d=ta(c);if(!d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(d=!d.disabled)||(d=!("button"===(a=a.type)||"input"===a||"select"===a||"textarea"===a)),a=!d;break a;default:a=!1}return a?null:(c&&"function"!=typeof c&&x("231",b,typeof c),c)}function Da(a){if(null!==a&&(za=xa(za,a)),a=za,za=null,a&&(ya(a,Aa),za&&x("95"),fa))throw a=ha,fa=!1,ha=null,a}var Ea=Math.random().toString(36).slice(2),Fa="__reactInternalInstance$"+Ea,Ga="__reactEventHandlers$"+Ea;function Ha(a){if(a[Fa])return a[Fa];for(;!a[Fa];){if(!a.parentNode)return null;a=a.parentNode}return 5===(a=a[Fa]).tag||6===a.tag?a:null}function Ia(a){return!(a=a[Fa])||5!==a.tag&&6!==a.tag?null:a}function Ja(a){if(5===a.tag||6===a.tag)return a.stateNode;x("33")}function Ka(a){return a[Ga]||null}function La(a){do{a=a.return}while(a&&5!==a.tag);return a||null}function Ma(a,b,c){(b=Ca(a,c.dispatchConfig.phasedRegistrationNames[b]))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function Na(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=La(b);for(b=c.length;0<b--;)Ma(c[b],"captured",a);for(b=0;b<c.length;b++)Ma(c[b],"bubbled",a)}}function Oa(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Ca(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function Pa(a){a&&a.dispatchConfig.registrationName&&Oa(a._targetInst,null,a)}function Qa(a){ya(a,Na)}var Ra=!("undefined"==typeof window||!window.document||!window.document.createElement);function Sa(a,b){var c={};return c[a.toLowerCase()]=b.toLowerCase(),c["Webkit"+a]="webkit"+b,c["Moz"+a]="moz"+b,c}var Ta={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Ua={},Va={};function Wa(a){if(Ua[a])return Ua[a];if(!Ta[a])return a;var c,b=Ta[a];for(c in b)if(b.hasOwnProperty(c)&&c in Va)return Ua[a]=b[c];return a}Ra&&(Va=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);var Xa=Wa("animationend"),Ya=Wa("animationiteration"),Za=Wa("animationstart"),$a=Wa("transitionend"),ab="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=null,cb=null,db=null;function eb(){if(db)return db;var a,d,b=cb,c=b.length,e="value"in bb?bb.value:bb.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return db=e.slice(a,1<d?1-d:void 0)}function fb(){return!0}function gb(){return!1}function y(a,b,c,d){for(var e in this.dispatchConfig=a,this._targetInst=b,this.nativeEvent=c,a=this.constructor.Interface)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);return this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?fb:gb,this.isPropagationStopped=gb,this}function ib(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();return this.call(e,a,b,c,d),e}return new this(a,b,c,d)}function jb(a){a instanceof this||x("279"),a.destructor(),10>this.eventPool.length&&this.eventPool.push(a)}function hb(a){a.eventPool=[],a.getPooled=ib,a.release=jb}n(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!=typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=fb)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!=typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=fb)},persist:function(){this.isPersistent=fb},isPersistent:gb,destructor:function(){var b,a=this.constructor.Interface;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=gb,this._dispatchInstances=this._dispatchListeners=null}}),y.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},y.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;return n(e,c.prototype),c.prototype=e,c.prototype.constructor=c,c.Interface=n({},d.Interface,a),c.extend=d.extend,hb(c),c},hb(y);var kb=y.extend({data:null}),lb=y.extend({data:null}),mb=[9,13,27,32],nb=Ra&&"CompositionEvent"in window,ob=null;Ra&&"documentMode"in document&&(ob=document.documentMode);var pb=Ra&&"TextEvent"in window&&!ob,qb=Ra&&(!nb||ob&&8<ob&&11>=ob),rb=String.fromCharCode(32),sb={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},tb=!1;function ub(a,b){switch(a){case"keyup":return-1!==mb.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function vb(a){return"object"==typeof(a=a.detail)&&"data"in a?a.data:null}var wb=!1;var zb={eventTypes:sb,extractEvents:function(a,b,c,d){var e=void 0,f=void 0;if(nb)b:{switch(a){case"compositionstart":e=sb.compositionStart;break b;case"compositionend":e=sb.compositionEnd;break b;case"compositionupdate":e=sb.compositionUpdate;break b}e=void 0}else wb?ub(a,c)&&(e=sb.compositionEnd):"keydown"===a&&229===c.keyCode&&(e=sb.compositionStart);return e?(qb&&"ko"!==c.locale&&(wb||e!==sb.compositionStart?e===sb.compositionEnd&&wb&&(f=eb()):(cb="value"in(bb=d)?bb.value:bb.textContent,wb=!0)),e=kb.getPooled(e,b,c,d),f?e.data=f:null!==(f=vb(c))&&(e.data=f),Qa(e),f=e):f=null,(a=pb?function xb(a,b){switch(a){case"compositionend":return vb(b);case"keypress":return 32!==b.which?null:(tb=!0,rb);case"textInput":return(a=b.data)===rb&&tb?null:a;default:return null}}(a,c):function yb(a,b){if(wb)return"compositionend"===a||!nb&&ub(a,b)?(a=eb(),db=cb=bb=null,wb=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return qb&&"ko"!==b.locale?null:b.data;default:return null}}(a,c))?((b=lb.getPooled(sb.beforeInput,b,c,d)).data=a,Qa(b)):b=null,null===f?b:null===b?f:[f,b]}},Ab=null,Bb=null,Cb=null;function Db(a){if(a=ua(a)){"function"!=typeof Ab&&x("280");var b=ta(a.stateNode);Ab(a.stateNode,a.type,b)}}function Eb(a){Bb?Cb?Cb.push(a):Cb=[a]:Bb=a}function Fb(){if(Bb){var a=Bb,b=Cb;if(Cb=Bb=null,Db(a),b)for(a=0;a<b.length;a++)Db(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c){return a(b,c)}function Ib(){}var Jb=!1;function Kb(a,b){if(Jb)return a(b);Jb=!0;try{return Gb(a,b)}finally{Jb=!1,(null!==Bb||null!==Cb)&&(Ib(),Fb())}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Lb[a.type]:"textarea"===b}function Nb(a){return(a=a.target||a.srcElement||window).correspondingUseElement&&(a=a.correspondingUseElement),3===a.nodeType?a.parentNode:a}function Ob(a){if(!Ra)return!1;var b=(a="on"+a)in document;return b||((b=document.createElement("div")).setAttribute(a,"return;"),b="function"==typeof b[a]),b}function Pb(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function Rb(a){a._valueTracker||(a._valueTracker=function Qb(a){var b=Pb(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&void 0!==c&&"function"==typeof c.get&&"function"==typeof c.set){var e=c.get,f=c.set;return Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a,f.call(this,a)}}),Object.defineProperty(a,b,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null,delete a[b]}}}}(a))}function Sb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue(),d="";return a&&(d=Pb(a)?a.checked?"true":"false":a.value),(a=d)!==c&&(b.setValue(a),!0)}var Tb=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Tb.hasOwnProperty("ReactCurrentDispatcher")||(Tb.ReactCurrentDispatcher={current:null});var Ub=/^(.*)[\\\/]/,z="function"==typeof Symbol&&Symbol.for,Vb=z?Symbol.for("react.element"):60103,Wb=z?Symbol.for("react.portal"):60106,Xb=z?Symbol.for("react.fragment"):60107,Yb=z?Symbol.for("react.strict_mode"):60108,Zb=z?Symbol.for("react.profiler"):60114,$b=z?Symbol.for("react.provider"):60109,ac=z?Symbol.for("react.context"):60110,bc=z?Symbol.for("react.concurrent_mode"):60111,cc=z?Symbol.for("react.forward_ref"):60112,dc=z?Symbol.for("react.suspense"):60113,ec=z?Symbol.for("react.memo"):60115,fc=z?Symbol.for("react.lazy"):60116,gc="function"==typeof Symbol&&Symbol.iterator;function hc(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=gc&&a[gc]||a["@@iterator"])?a:null}function ic(a){if(null==a)return null;if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a;switch(a){case bc:return"ConcurrentMode";case Xb:return"Fragment";case Wb:return"Portal";case Zb:return"Profiler";case Yb:return"StrictMode";case dc:return"Suspense"}if("object"==typeof a)switch(a.$$typeof){case ac:return"Context.Consumer";case $b:return"Context.Provider";case cc:var b=a.render;return b=b.displayName||b.name||"",a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case ec:return ic(a.type);case fc:if(a=1===a._status?a._result:null)return ic(a)}return null}function jc(a){var b="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var d=a._debugOwner,e=a._debugSource,f=ic(a.type);c=null,d&&(c=ic(d.type)),d=f,f="",e?f=" (at "+e.fileName.replace(Ub,"")+":"+e.lineNumber+")":c&&(f=" (created by "+c+")"),c="\n    in "+(d||"Unknown")+f}b+=c,a=a.return}while(a);return b}var kc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lc=Object.prototype.hasOwnProperty,mc={},nc={};function C(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b,this.attributeName=d,this.attributeNamespace=e,this.mustUseProperty=c,this.propertyName=a,this.type=b}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){D[a]=new C(a,0,!1,a,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];D[b]=new C(b,1,!1,a[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){D[a]=new C(a,2,!1,a.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){D[a]=new C(a,2,!1,a,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){D[a]=new C(a,3,!1,a.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(a){D[a]=new C(a,3,!0,a,null)}),["capture","download"].forEach(function(a){D[a]=new C(a,4,!1,a,null)}),["cols","rows","size","span"].forEach(function(a){D[a]=new C(a,6,!1,a,null)}),["rowSpan","start"].forEach(function(a){D[a]=new C(a,5,!1,a.toLowerCase(),null)});var rc=/[\-:]([a-z])/g;function sc(a){return a[1].toUpperCase()}function tc(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;(null!==e?0===e.type:!d&&(2<b.length&&("o"===b[0]||"O"===b[0])&&("n"===b[1]||"N"===b[1])))||(function qc(a,b,c,d){if(null==b||function pc(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return!d&&(null!==c?!c.acceptsBooleans:"data-"!==(a=a.toLowerCase().slice(0,5))&&"aria-"!==a);default:return!1}}(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}(b,c,e,d)&&(c=null),d||null===e?function oc(a){return!!lc.call(nc,a)||!lc.call(mc,a)&&(kc.test(a)?nc[a]=!0:(mc[a]=!0,!1))}(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3!==e.type&&"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(c=3===(e=e.type)||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function uc(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function vc(a,b){var c=b.checked;return n({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function wc(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=uc(null!=b.value?b.value:c),a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function xc(a,b){null!=(b=b.checked)&&tc(a,"checked",b,!1)}function yc(a,b){xc(a,b);var c=uc(b.value),d=b.type;if(null!=c)"number"===d?(0===c&&""===a.value||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d)return void a.removeAttribute("value");b.hasOwnProperty("value")?zc(a,b.type,c):b.hasOwnProperty("defaultValue")&&zc(a,b.type,uc(b.defaultValue)),null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function Ac(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue,c||b===a.value||(a.value=b),a.defaultValue=b}""!==(c=a.name)&&(a.name=""),a.defaultChecked=!a.defaultChecked,a.defaultChecked=!!a._wrapperState.initialChecked,""!==c&&(a.name=c)}function zc(a,b,c){"number"===b&&a.ownerDocument.activeElement===a||(null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(rc,sc);D[b]=new C(b,1,!1,a,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(rc,sc);D[b]=new C(b,1,!1,a,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(rc,sc);D[b]=new C(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(a){D[a]=new C(a,1,!1,a.toLowerCase(),null)});var Bc={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Cc(a,b,c){return(a=y.getPooled(Bc.change,a,b,c)).type="change",Eb(c),Qa(a),a}var Dc=null,Ec=null;function Fc(a){Da(a)}function Gc(a){if(Sb(Ja(a)))return a}function Hc(a,b){if("change"===a)return b}var Ic=!1;function Jc(){Dc&&(Dc.detachEvent("onpropertychange",Kc),Ec=Dc=null)}function Kc(a){"value"===a.propertyName&&Gc(Ec)&&Kb(Fc,a=Cc(Ec,a,Nb(a)))}function Lc(a,b,c){"focus"===a?(Jc(),Ec=c,(Dc=b).attachEvent("onpropertychange",Kc)):"blur"===a&&Jc()}function Mc(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return Gc(Ec)}function Nc(a,b){if("click"===a)return Gc(b)}function Oc(a,b){if("input"===a||"change"===a)return Gc(b)}Ra&&(Ic=Ob("input")&&(!document.documentMode||9<document.documentMode));var Pc={eventTypes:Bc,_isInputEventSupported:Ic,extractEvents:function(a,b,c,d){var e=b?Ja(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();if("select"===h||"input"===h&&"file"===e.type?f=Hc:Mb(e)?Ic?f=Oc:(f=Mc,g=Lc):(h=e.nodeName)&&"input"===h.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)&&(f=Nc),f&&(f=f(a,b)))return Cc(f,c,d);g&&g(a,e,b),"blur"===a&&(a=e._wrapperState)&&a.controlled&&"number"===e.type&&zc(e,"number",e.value)}},Qc=y.extend({view:null,detail:null}),Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sc(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):!!(a=Rc[a])&&!!b[a]}function Tc(){return Sc}var Uc=0,Vc=0,Wc=!1,Xc=!1,Yc=Qc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Tc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var b=Uc;return Uc=a.screenX,Wc?"mousemove"===a.type?a.screenX-b:0:(Wc=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var b=Vc;return Vc=a.screenY,Xc?"mousemove"===a.type?a.screenY-b:0:(Xc=!0,0)}}),Zc=Yc.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$c={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ad={eventTypes:$c,extractEvents:function(a,b,c,d){var e="mouseover"===a||"pointerover"===a,f="mouseout"===a||"pointerout"===a;if(e&&(c.relatedTarget||c.fromElement)||!f&&!e)return null;if(e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window,f?(f=b,b=(b=c.relatedTarget||c.toElement)?Ha(b):null):f=null,f===b)return null;var g=void 0,h=void 0,l=void 0,k=void 0;"mouseout"===a||"mouseover"===a?(g=Yc,h=$c.mouseLeave,l=$c.mouseEnter,k="mouse"):"pointerout"!==a&&"pointerover"!==a||(g=Zc,h=$c.pointerLeave,l=$c.pointerEnter,k="pointer");var m=null==f?e:Ja(f);if(e=null==b?e:Ja(b),(a=g.getPooled(h,f,c,d)).type=k+"leave",a.target=m,a.relatedTarget=e,(c=g.getPooled(l,b,c,d)).type=k+"enter",c.target=e,c.relatedTarget=m,d=b,f&&d)a:{for(e=d,k=0,g=b=f;g;g=La(g))k++;for(g=0,l=e;l;l=La(l))g++;for(;0<k-g;)b=La(b),k--;for(;0<g-k;)e=La(e),g--;for(;k--;){if(b===e||b===e.alternate)break a;b=La(b),e=La(e)}b=null}else b=null;for(e=b,b=[];f&&f!==e&&(null===(k=f.alternate)||k!==e);)b.push(f),f=La(f);for(f=[];d&&d!==e&&(null===(k=d.alternate)||k!==e);)f.push(d),d=La(d);for(d=0;d<b.length;d++)Oa(b[d],"bubbled",a);for(d=f.length;0<d--;)Oa(f[d],"captured",c);return[a,c]}};function bd(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b}var cd=Object.prototype.hasOwnProperty;function dd(a,b){if(bd(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!cd.call(b,c[d])||!bd(a[c[d]],b[c[d]]))return!1;return!0}function ed(a){var b=a;if(a.alternate)for(;b.return;)b=b.return;else{if(0!=(2&b.effectTag))return 1;for(;b.return;)if(0!=(2&(b=b.return).effectTag))return 1}return 3===b.tag?2:3}function fd(a){2!==ed(a)&&x("188")}function hd(a){if(!(a=function gd(a){var b=a.alternate;if(!b)return 3===(b=ed(a))&&x("188"),1===b?null:a;for(var c=a,d=b;;){var e=c.return,f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return fd(e),a;if(g===d)return fd(e),b;g=g.sibling}x("188")}if(c.return!==d.return)c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0,c=e,d=f;break}if(h===d){g=!0,d=e,c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0,c=f,d=e;break}if(h===d){g=!0,d=f,c=e;break}h=h.sibling}g||x("189")}}c.alternate!==d&&x("190")}return 3!==c.tag&&x("188"),c.stateNode.current===c?a:b}(a)))return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}var id=y.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jd=y.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),kd=Qc.extend({relatedTarget:null});function ld(a){var b=a.keyCode;return"charCode"in a?0===(a=a.charCode)&&13===b&&(a=13):a=b,10===a&&(a=13),32<=a||13===a?a:0}var md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},od=Qc.extend({key:function(a){if(a.key){var b=md[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?13===(a=ld(a))?"Enter":String.fromCharCode(a):"keydown"===a.type||"keyup"===a.type?nd[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Tc,charCode:function(a){return"keypress"===a.type?ld(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?ld(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),pd=Yc.extend({dataTransfer:null}),qd=Qc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Tc}),rd=y.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sd=Yc.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),td=[["abort","abort"],[Xa,"animationEnd"],[Ya,"animationIteration"],[Za,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[$a,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],ud={},vd={};function wd(a,b){var c=a[0],d="on"+((a=a[1])[0].toUpperCase()+a.slice(1));b={phasedRegistrationNames:{bubbled:d,captured:d+"Capture"},dependencies:[c],isInteractive:b},ud[a]=b,vd[c]=b}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(a){wd(a,!0)}),td.forEach(function(a){wd(a,!1)});var xd={eventTypes:ud,isInteractiveTopLevelEventType:function(a){return void 0!==(a=vd[a])&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=vd[a];if(!e)return null;switch(a){case"keypress":if(0===ld(c))return null;case"keydown":case"keyup":a=od;break;case"blur":case"focus":a=kd;break;case"click":if(2===c.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=qd;break;case Xa:case Ya:case Za:a=id;break;case $a:a=rd;break;case"scroll":a=Qc;break;case"wheel":a=sd;break;case"copy":case"cut":case"paste":a=jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=Zc;break;default:a=y}return Qa(b=a.getPooled(e,b,c,d)),b}},yd=xd.isInteractiveTopLevelEventType,zd=[];function Ad(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d;for(d=c;d.return;)d=d.return;if(!(d=3!==d.tag?null:d.stateNode.containerInfo))break;a.ancestors.push(c),c=Ha(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Nb(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,g=null,h=0;h<oa.length;h++){var l=oa[h];l&&(l=l.extractEvents(d,b,f,e))&&(g=xa(g,l))}Da(g)}}var Bd=!0;function E(a,b){if(!b)return null;var c=(yd(a)?Cd:Dd).bind(null,a);b.addEventListener(a,c,!1)}function Ed(a,b){if(!b)return null;var c=(yd(a)?Cd:Dd).bind(null,a);b.addEventListener(a,c,!0)}function Cd(a,b){Hb(Dd,a,b)}function Dd(a,b){if(Bd){var c=Nb(b);if(null===(c=Ha(c))||"number"!=typeof c.tag||2===ed(c)||(c=null),zd.length){var d=zd.pop();d.topLevelType=a,d.nativeEvent=b,d.targetInst=c,a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{Kb(Ad,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>zd.length&&zd.push(a)}}}var Fd={},Gd=0,Hd="_reactListenersID"+(""+Math.random()).slice(2);function Id(a){return Object.prototype.hasOwnProperty.call(a,Hd)||(a[Hd]=Gd++,Fd[a[Hd]]={}),Fd[a[Hd]]}function Jd(a){if(void 0===(a=a||("undefined"!=typeof document?document:void 0)))return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Kd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ld(a,b){var d,c=Kd(a);for(a=0;c;){if(3===c.nodeType){if(d=a+c.textContent.length,a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Kd(c)}}function Nd(){for(var a=window,b=Jd();b instanceof a.HTMLIFrameElement;){try{var c="string"==typeof b.contentWindow.location.href}catch(d){c=!1}if(!c)break;b=Jd((a=b.contentWindow).document)}return b}function Od(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function Qd(a){var b=Nd(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&function Md(a,b){return!(!a||!b)&&(a===b||(!a||3!==a.nodeType)&&(b&&3===b.nodeType?Md(a,b.parentNode):"contains"in a?a.contains(b):!!a.compareDocumentPosition&&!!(16&a.compareDocumentPosition(b))))}(c.ownerDocument.documentElement,c)){if(null!==d&&Od(c))if(b=d.start,void 0===(a=d.end)&&(a=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if((a=(b=c.ownerDocument||document)&&b.defaultView||window).getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e),!a.extend&&f>d&&(e=d,d=f,f=e),e=Ld(c,f);var g=Ld(c,d);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&((b=b.createRange()).setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}for(b=[],a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});for("function"==typeof c.focus&&c.focus(),c=0;c<b.length;c++)(a=b[c]).element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Rd=Ra&&"documentMode"in document&&11>=document.documentMode,Sd={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Td=null,Ud=null,Vd=null,Wd=!1;function Xd(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;return Wd||null==Td||Td!==Jd(c)?null:("selectionStart"in(c=Td)&&Od(c)?c={start:c.selectionStart,end:c.selectionEnd}:c={anchorNode:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset},Vd&&dd(Vd,c)?null:(Vd=c,(a=y.getPooled(Sd.select,Ud,a,b)).type="select",a.target=Td,Qa(a),a))}var Yd={eventTypes:Sd,extractEvents:function(a,b,c,d){var f,e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument;if(!(f=!e)){a:{e=Id(e),f=sa.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;switch(e=b?Ja(b):window,a){case"focus":(Mb(e)||"true"===e.contentEditable)&&(Td=e,Ud=b,Vd=null);break;case"blur":Vd=Ud=Td=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wd=!1,Xd(c,d);case"selectionchange":if(Rd)break;case"keydown":case"keyup":return Xd(c,d)}return null}};function $d(a,b){return a=n({children:void 0},b),(b=function Zd(a){var b="";return aa.Children.forEach(a,function(a){null!=a&&(b+=a)}),b}(b.children))&&(a.children=b),a}function ae(a,b,c,d){if(a=a.options,b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{for(c=""+uc(c),b=null,e=0;e<a.length;e++){if(a[e].value===c)return a[e].selected=!0,void(d&&(a[e].defaultSelected=!0));null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function be(a,b){return null!=b.dangerouslySetInnerHTML&&x("91"),n({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ce(a,b){var c=b.value;null==c&&(c=b.defaultValue,null!=(b=b.children)&&(null!=c&&x("92"),Array.isArray(b)&&(1>=b.length||x("93"),b=b[0]),c=b),null==c&&(c="")),a._wrapperState={initialValue:uc(c)}}function de(a,b){var c=uc(b.value),d=uc(b.defaultValue);null!=c&&((c=""+c)!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c)),null!=d&&(a.defaultValue=""+d)}function ee(a){var b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b)}Ba.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),ta=Ka,ua=Ia,va=Ja,Ba.injectEventPluginsByName({SimpleEventPlugin:xd,EnterLeaveEventPlugin:ad,ChangeEventPlugin:Pc,SelectEventPlugin:Yd,BeforeInputEventPlugin:zb});var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ge(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?ge(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}var ie=void 0,je=function(a){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c)})}:a}(function(a,b){if(a.namespaceURI!==fe.svg||"innerHTML"in a)a.innerHTML=b;else{for((ie=ie||document.createElement("div")).innerHTML="<svg>"+b+"</svg>",b=ie.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});function ke(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType)return void(c.nodeValue=b)}a.textContent=b}var le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ne(a,b,c){return null==b||"boolean"==typeof b||""===b?"":c||"number"!=typeof b||0===b||le.hasOwnProperty(a)&&le[a]?(""+b).trim():b+"px"}function oe(a,b){for(var c in a=a.style,b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=ne(c,b[c],d);"float"===c&&(c="cssFloat"),d?a.setProperty(c,e):a[c]=e}}Object.keys(le).forEach(function(a){me.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1),le[b]=le[a]})});var pe=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(a,b){b&&(pe[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML)&&x("137",a,""),null!=b.dangerouslySetInnerHTML&&(null!=b.children&&x("60"),"object"==typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML||x("61")),null!=b.style&&"object"!=typeof b.style&&x("62",""))}function re(a,b){if(-1===a.indexOf("-"))return"string"==typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function se(a,b){var c=Id(a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument);b=sa[b];for(var d=0;d<b.length;d++){var e=b[d];if(!c.hasOwnProperty(e)||!c[e]){switch(e){case"scroll":Ed("scroll",a);break;case"focus":case"blur":Ed("focus",a),Ed("blur",a),c.blur=!0,c.focus=!0;break;case"cancel":case"close":Ob(e)&&Ed(e,a);break;case"invalid":case"submit":case"reset":break;default:-1===ab.indexOf(e)&&E(e,a)}c[e]=!0}}}function te(){}var ue=null,ve=null;function we(a,b){switch(a){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function xe(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"==typeof b.children||"number"==typeof b.children||"object"==typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var ye="function"==typeof setTimeout?setTimeout:void 0,ze="function"==typeof clearTimeout?clearTimeout:void 0,Ae=r.unstable_scheduleCallback,Be=r.unstable_cancelCallback;function De(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function Ee(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}new Set;var Fe=[],Ge=-1;function F(a){0>Ge||(a.current=Fe[Ge],Fe[Ge]=null,Ge--)}function G(a,b){Fe[++Ge]=a.current,a.current=b}var He={},H={current:He},I={current:!1},Ie=He;function Je(a,b){var c=a.type.contextTypes;if(!c)return He;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var f,e={};for(f in c)e[f]=b[f];return d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e),e}function J(a){return null!=(a=a.childContextTypes)}function Ke(a){F(I),F(H)}function Le(a){F(I),F(H)}function Me(a,b,c){H.current!==He&&x("168"),G(H,b),G(I,c)}function Ne(a,b,c){var d=a.stateNode;if(a=b.childContextTypes,"function"!=typeof d.getChildContext)return c;for(var e in d=d.getChildContext())e in a||x("108",ic(b)||"Unknown",e);return n({},c,d)}function Oe(a){var b=a.stateNode;return b=b&&b.__reactInternalMemoizedMergedChildContext||He,Ie=H.current,G(H,b),G(I,I.current),!0}function Pe(a,b,c){var d=a.stateNode;d||x("169"),c?(b=Ne(a,b,Ie),d.__reactInternalMemoizedMergedChildContext=b,F(I),F(H),G(H,b)):F(I),G(I,c)}var Qe=null,Re=null;function Se(a){return function(b){try{return a(b)}catch(c){}}}function Ue(a,b,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function K(a,b,c,d){return new Ue(a,b,c,d)}function Ve(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Xe(a,b){var c=a.alternate;return null===c?((c=K(a.tag,b,a.key,a.mode)).elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childExpirationTime=a.childExpirationTime,c.expirationTime=a.expirationTime,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,c.contextDependencies=a.contextDependencies,c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Ye(a,b,c,d,e,f){var g=2;if(d=a,"function"==typeof a)Ve(a)&&(g=1);else if("string"==typeof a)g=5;else a:switch(a){case Xb:return Ze(c.children,e,f,b);case bc:return $e(c,3|e,f,b);case Yb:return $e(c,2|e,f,b);case Zb:return(a=K(12,c,b,4|e)).elementType=Zb,a.type=Zb,a.expirationTime=f,a;case dc:return(a=K(13,c,b,e)).elementType=dc,a.type=dc,a.expirationTime=f,a;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case $b:g=10;break a;case ac:g=9;break a;case cc:g=11;break a;case ec:g=14;break a;case fc:g=16,d=null;break a}x("130",null==a?a:typeof a,"")}return(b=K(g,c,b,e)).elementType=a,b.type=d,b.expirationTime=f,b}function Ze(a,b,c,d){return(a=K(7,a,d,b)).expirationTime=c,a}function $e(a,b,c,d){return a=K(8,a,d,b),b=0==(1&b)?Yb:bc,a.elementType=b,a.type=b,a.expirationTime=c,a}function af(a,b,c){return(a=K(6,a,null,b)).expirationTime=c,a}function bf(a,b,c){return(b=K(4,null!==a.children?a.children:[],a.key,b)).expirationTime=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}function cf(a,b){a.didError=!1;var c=a.earliestPendingTime;0===c?a.earliestPendingTime=a.latestPendingTime=b:c<b?a.earliestPendingTime=b:a.latestPendingTime>b&&(a.latestPendingTime=b),df(b,a)}function ff(a,b){a.didError=!1,a.latestPingedTime>=b&&(a.latestPingedTime=0);var c=a.earliestPendingTime,d=a.latestPendingTime;c===b?a.earliestPendingTime=d===b?a.latestPendingTime=0:d:d===b&&(a.latestPendingTime=c),c=a.earliestSuspendedTime,d=a.latestSuspendedTime,0===c?a.earliestSuspendedTime=a.latestSuspendedTime=b:c<b?a.earliestSuspendedTime=b:d>b&&(a.latestSuspendedTime=b),df(b,a)}function gf(a,b){var c=a.earliestPendingTime;return c>b&&(b=c),(a=a.earliestSuspendedTime)>b&&(b=a),b}function df(a,b){var c=b.earliestSuspendedTime,d=b.latestSuspendedTime,e=b.earliestPendingTime,f=b.latestPingedTime;0===(e=0!==e?e:f)&&(0===a||d<a)&&(e=d),0!==(a=e)&&c>a&&(a=c),b.nextExpirationTimeToWorkOn=e,b.expirationTime=a}function L(a,b){if(a&&a.defaultProps)for(var c in b=n({},b),a=a.defaultProps)void 0===b[c]&&(b[c]=a[c]);return b}var jf=(new aa.Component).refs;function kf(a,b,c,d){c=null==(c=c(d,b=a.memoizedState))?b:n({},b,c),a.memoizedState=c,null!==(d=a.updateQueue)&&0===a.expirationTime&&(d.baseState=c)}var tf={isMounted:function(a){return!!(a=a._reactInternalFiber)&&2===ed(a)},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=lf(),e=nf(d=mf(d,a));e.payload=b,null!=c&&(e.callback=c),of(),pf(a,e),qf(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=lf(),e=nf(d=mf(d,a));e.tag=rf,e.payload=b,null!=c&&(e.callback=c),of(),pf(a,e),qf(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=lf(),d=nf(c=mf(c,a));d.tag=sf,null!=b&&(d.callback=b),of(),pf(a,d),qf(a,c)}};function uf(a,b,c,d,e,f,g){return"function"==typeof(a=a.stateNode).shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):!b.prototype||!b.prototype.isPureReactComponent||(!dd(c,d)||!dd(e,f))}function vf(a,b,c){var d=!1,e=He,f=b.contextType;return"object"==typeof f&&null!==f?f=M(f):(e=J(b)?Ie:H.current,f=(d=null!=(d=b.contextTypes))?Je(a,e):He),b=new b(c,f),a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null,b.updater=tf,a.stateNode=b,b._reactInternalFiber=a,d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f),b}function wf(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&tf.enqueueReplaceState(b,b.state,null)}function xf(a,b,c,d){var e=a.stateNode;e.props=c,e.state=a.memoizedState,e.refs=jf;var f=b.contextType;"object"==typeof f&&null!==f?e.context=M(f):(f=J(b)?Ie:H.current,e.context=Je(a,f)),null!==(f=a.updateQueue)&&(yf(a,f,c,e,d),e.state=a.memoizedState),"function"==typeof(f=b.getDerivedStateFromProps)&&(kf(a,b,f,c),e.state=a.memoizedState),"function"==typeof b.getDerivedStateFromProps||"function"==typeof e.getSnapshotBeforeUpdate||"function"!=typeof e.UNSAFE_componentWillMount&&"function"!=typeof e.componentWillMount||(b=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&tf.enqueueReplaceState(e,e.state,null),null!==(f=a.updateQueue)&&(yf(a,f,c,e,d),e.state=a.memoizedState)),"function"==typeof e.componentDidMount&&(a.effectTag|=4)}var zf=Array.isArray;function Af(a,b,c){if(null!==(a=c.ref)&&"function"!=typeof a&&"object"!=typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(1!==c.tag&&x("309"),d=c.stateNode),d||x("147",a);var e=""+a;return null!==b&&null!==b.ref&&"function"==typeof b.ref&&b.ref._stringRef===e?b.ref:((b=function(a){var b=d.refs;b===jf&&(b=d.refs={}),null===a?delete b[e]:b[e]=a})._stringRef=e,b)}"string"!=typeof a&&x("284"),c._owner||x("290",a)}return a}function Bf(a,b){"textarea"!==a.type&&x("31","[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,"")}function Cf(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c,c.nextEffect=null,c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){return(a=Xe(a,b)).index=0,a.sibling=null,a}function f(b,c,d){return b.index=d,a?null!==(d=b.alternate)?(d=d.index)<c?(b.effectTag=2,c):d:(b.effectTag=2,c):c}function g(b){return a&&null===b.alternate&&(b.effectTag=2),b}function h(a,b,c,d){return null===b||6!==b.tag?((b=af(c,a.mode,d)).return=a,b):((b=e(b,c)).return=a,b)}function l(a,b,c,d){return null!==b&&b.elementType===c.type?((d=e(b,c.props)).ref=Af(a,b,c),d.return=a,d):((d=Ye(c.type,c.key,c.props,null,a.mode,d)).ref=Af(a,b,c),d.return=a,d)}function k(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?((b=bf(c,a.mode,d)).return=a,b):((b=e(b,c.children||[])).return=a,b)}function m(a,b,c,d,f){return null===b||7!==b.tag?((b=Ze(c,a.mode,d,f)).return=a,b):((b=e(b,c)).return=a,b)}function p(a,b,c){if("string"==typeof b||"number"==typeof b)return(b=af(""+b,a.mode,c)).return=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case Vb:return(c=Ye(b.type,b.key,b.props,null,a.mode,c)).ref=Af(a,null,b),c.return=a,c;case Wb:return(b=bf(b,a.mode,c)).return=a,b}if(zf(b)||hc(b))return(b=Ze(b,a.mode,c,null)).return=a,b;Bf(a,b)}return null}function t(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c||"number"==typeof c)return null!==e?null:h(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case Vb:return c.key===e?c.type===Xb?m(a,b,c.props.children,d,e):l(a,b,c,d):null;case Wb:return c.key===e?k(a,b,c,d):null}if(zf(c)||hc(c))return null!==e?null:m(a,b,c,d,null);Bf(a,c)}return null}function A(a,b,c,d,e){if("string"==typeof d||"number"==typeof d)return h(b,a=a.get(c)||null,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case Vb:return a=a.get(null===d.key?c:d.key)||null,d.type===Xb?m(b,a,d.props.children,e,d.key):l(b,a,d,e);case Wb:return k(b,a=a.get(null===d.key?c:d.key)||null,d,e)}if(zf(d)||hc(d))return m(b,a=a.get(c)||null,d,e,null);Bf(b,d)}return null}function v(e,g,h,k){for(var l=null,m=null,q=g,u=g=0,B=null;null!==q&&u<h.length;u++){q.index>u?(B=q,q=null):B=q.sibling;var w=t(e,q,h[u],k);if(null===w){null===q&&(q=B);break}a&&q&&null===w.alternate&&b(e,q),g=f(w,g,u),null===m?l=w:m.sibling=w,m=w,q=B}if(u===h.length)return c(e,q),l;if(null===q){for(;u<h.length;u++)(q=p(e,h[u],k))&&(g=f(q,g,u),null===m?l=q:m.sibling=q,m=q);return l}for(q=d(e,q);u<h.length;u++)(B=A(q,e,u,h[u],k))&&(a&&null!==B.alternate&&q.delete(null===B.key?u:B.key),g=f(B,g,u),null===m?l=B:m.sibling=B,m=B);return a&&q.forEach(function(a){return b(e,a)}),l}function R(e,g,h,k){var l=hc(h);"function"!=typeof l&&x("150"),null==(h=l.call(h))&&x("151");for(var m=l=null,q=g,u=g=0,B=null,w=h.next();null!==q&&!w.done;u++,w=h.next()){q.index>u?(B=q,q=null):B=q.sibling;var v=t(e,q,w.value,k);if(null===v){q||(q=B);break}a&&q&&null===v.alternate&&b(e,q),g=f(v,g,u),null===m?l=v:m.sibling=v,m=v,q=B}if(w.done)return c(e,q),l;if(null===q){for(;!w.done;u++,w=h.next())null!==(w=p(e,w.value,k))&&(g=f(w,g,u),null===m?l=w:m.sibling=w,m=w);return l}for(q=d(e,q);!w.done;u++,w=h.next())null!==(w=A(q,e,u,w.value,k))&&(a&&null!==w.alternate&&q.delete(null===w.key?u:w.key),g=f(w,g,u),null===m?l=w:m.sibling=w,m=w);return a&&q.forEach(function(a){return b(e,a)}),l}return function(a,d,f,h){var k="object"==typeof f&&null!==f&&f.type===Xb&&null===f.key;k&&(f=f.props.children);var l="object"==typeof f&&null!==f;if(l)switch(f.$$typeof){case Vb:a:{for(l=f.key,k=d;null!==k;){if(k.key===l){if(7===k.tag?f.type===Xb:k.elementType===f.type){c(a,k.sibling),(d=e(k,f.type===Xb?f.props.children:f.props)).ref=Af(a,k,f),d.return=a,a=d;break a}c(a,k);break}b(a,k),k=k.sibling}f.type===Xb?((d=Ze(f.props.children,a.mode,h,f.key)).return=a,a=d):((h=Ye(f.type,f.key,f.props,null,a.mode,h)).ref=Af(a,d,f),h.return=a,a=h)}return g(a);case Wb:a:{for(k=f.key;null!==d;){if(d.key===k){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling),(d=e(d,f.children||[])).return=a,a=d;break a}c(a,d);break}b(a,d),d=d.sibling}(d=bf(f,a.mode,h)).return=a,a=d}return g(a)}if("string"==typeof f||"number"==typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),(d=e(d,f)).return=a,a=d):(c(a,d),(d=af(f,a.mode,h)).return=a,a=d),g(a);if(zf(f))return v(a,d,f,h);if(hc(f))return R(a,d,f,h);if(l&&Bf(a,f),void 0===f&&!k)switch(a.tag){case 1:case 0:x("152",(h=a.type).displayName||h.name||"Component")}return c(a,d)}}var Df=Cf(!0),Ef=Cf(!1),Ff={},N={current:Ff},Gf={current:Ff},Hf={current:Ff};function If(a){return a===Ff&&x("174"),a}function Jf(a,b){G(Hf,b),G(Gf,a),G(N,Ff);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:he(null,"");break;default:b=he(b=(c=8===c?b.parentNode:b).namespaceURI||null,c=c.tagName)}F(N),G(N,b)}function Kf(a){F(N),F(Gf),F(Hf)}function Lf(a){If(Hf.current);var b=If(N.current),c=he(b,a.type);b!==c&&(G(Gf,a),G(N,c))}function Mf(a){Gf.current===a&&(F(N),F(Gf))}var Nf=0,Of=2,Pf=4,Qf=8,Rf=16,Sf=32,Tf=64,Uf=128,Vf=Tb.ReactCurrentDispatcher,Wf=0,Xf=null,O=null,P=null,Yf=null,Q=null,Zf=null,$f=0,ag=null,bg=0,cg=!1,dg=null,eg=0;function fg(){x("321")}function gg(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!bd(a[c],b[c]))return!1;return!0}function hg(a,b,c,d,e,f){if(Wf=f,Xf=b,P=null!==a?a.memoizedState:null,Vf.current=null===P?ig:jg,b=c(d,e),cg){do{cg=!1,eg+=1,P=null!==a?a.memoizedState:null,Zf=Yf,ag=Q=O=null,Vf.current=jg,b=c(d,e)}while(cg);dg=null,eg=0}return Vf.current=kg,(a=Xf).memoizedState=Yf,a.expirationTime=$f,a.updateQueue=ag,a.effectTag|=bg,a=null!==O&&null!==O.next,Wf=0,Zf=Q=Yf=P=O=Xf=null,$f=0,ag=null,bg=0,a&&x("300"),b}function lg(){Vf.current=kg,Wf=0,Zf=Q=Yf=P=O=Xf=null,$f=0,ag=null,bg=0,cg=!1,dg=null,eg=0}function mg(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Q?Yf=Q=a:Q=Q.next=a,Q}function ng(){if(null!==Zf)Zf=(Q=Zf).next,P=null!==(O=P)?O.next:null;else{null===P&&x("310");var a={memoizedState:(O=P).memoizedState,baseState:O.baseState,queue:O.queue,baseUpdate:O.baseUpdate,next:null};Q=null===Q?Yf=a:Q.next=a,P=O.next}return Q}function og(a,b){return"function"==typeof b?b(a):b}function pg(a){var b=ng(),c=b.queue;if(null===c&&x("311"),c.lastRenderedReducer=a,0<eg){var d=c.dispatch;if(null!==dg){var e=dg.get(c);if(void 0!==e){dg.delete(c);var f=b.memoizedState;do{f=a(f,e.action),e=e.next}while(null!==e);return bd(f,b.memoizedState)||(qg=!0),b.memoizedState=f,b.baseUpdate===c.last&&(b.baseState=f),c.lastRenderedState=f,[f,d]}}return[b.memoizedState,d]}d=c.last;var g=b.baseUpdate;if(f=b.baseState,null!==g?(null!==d&&(d.next=null),d=g.next):d=null!==d?d.next:null,null!==d){var h=e=null,l=d,k=!1;do{var m=l.expirationTime;m<Wf?(k||(k=!0,h=g,e=f),m>$f&&($f=m)):f=l.eagerReducer===a?l.eagerState:a(f,l.action),g=l,l=l.next}while(null!==l&&l!==d);k||(h=g,e=f),bd(f,b.memoizedState)||(qg=!0),b.memoizedState=f,b.baseUpdate=h,b.baseState=e,c.lastRenderedState=f}return[b.memoizedState,c.dispatch]}function rg(a,b,c,d){return a={tag:a,create:b,destroy:c,deps:d,next:null},null===ag?(ag={lastEffect:null}).lastEffect=a.next=a:null===(b=ag.lastEffect)?ag.lastEffect=a.next=a:(c=b.next,b.next=a,a.next=c,ag.lastEffect=a),a}function sg(a,b,c,d){var e=mg();bg|=a,e.memoizedState=rg(b,c,void 0,void 0===d?null:d)}function tg(a,b,c,d){var e=ng();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;if(f=g.destroy,null!==d&&gg(d,g.deps))return void rg(Nf,c,f,d)}bg|=a,e.memoizedState=rg(b,c,f,d)}function ug(a,b){return"function"==typeof b?(a=a(),b(a),function(){b(null)}):null!=b?(a=a(),b.current=a,function(){b.current=null}):void 0}function vg(){}function wg(a,b,c){25>eg||x("301");var d=a.alternate;if(a===Xf||null!==d&&d===Xf)if(cg=!0,a={expirationTime:Wf,action:c,eagerReducer:null,eagerState:null,next:null},null===dg&&(dg=new Map),void 0===(c=dg.get(b)))dg.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}else{of();var e=lf(),f={expirationTime:e=mf(e,a),action:c,eagerReducer:null,eagerState:null,next:null},g=b.last;if(null===g)f.next=f;else{var h=g.next;null!==h&&(f.next=h),g.next=f}if(b.last=f,0===a.expirationTime&&(null===d||0===d.expirationTime)&&null!==(d=b.lastRenderedReducer))try{var l=b.lastRenderedState,k=d(l,c);if(f.eagerReducer=d,f.eagerState=k,bd(k,l))return}catch(m){}qf(a,e)}}var kg={readContext:M,useCallback:fg,useContext:fg,useEffect:fg,useImperativeHandle:fg,useLayoutEffect:fg,useMemo:fg,useReducer:fg,useRef:fg,useState:fg,useDebugValue:fg},ig={readContext:M,useCallback:function(a,b){return mg().memoizedState=[a,void 0===b?null:b],a},useContext:M,useEffect:function(a,b){return sg(516,Uf|Tf,a,b)},useImperativeHandle:function(a,b,c){return c=null!=c?c.concat([a]):null,sg(4,Pf|Sf,ug.bind(null,b,a),c)},useLayoutEffect:function(a,b){return sg(4,Pf|Sf,a,b)},useMemo:function(a,b){var c=mg();return b=void 0===b?null:b,a=a(),c.memoizedState=[a,b],a},useReducer:function(a,b,c){var d=mg();return b=void 0!==c?c(b):b,d.memoizedState=d.baseState=b,a=(a=d.queue={last:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b}).dispatch=wg.bind(null,Xf,a),[d.memoizedState,a]},useRef:function(a){return a={current:a},mg().memoizedState=a},useState:function(a){var b=mg();return"function"==typeof a&&(a=a()),b.memoizedState=b.baseState=a,a=(a=b.queue={last:null,dispatch:null,lastRenderedReducer:og,lastRenderedState:a}).dispatch=wg.bind(null,Xf,a),[b.memoizedState,a]},useDebugValue:vg},jg={readContext:M,useCallback:function(a,b){var c=ng();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&gg(b,d[1])?d[0]:(c.memoizedState=[a,b],a)},useContext:M,useEffect:function(a,b){return tg(516,Uf|Tf,a,b)},useImperativeHandle:function(a,b,c){return c=null!=c?c.concat([a]):null,tg(4,Pf|Sf,ug.bind(null,b,a),c)},useLayoutEffect:function(a,b){return tg(4,Pf|Sf,a,b)},useMemo:function(a,b){var c=ng();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&gg(b,d[1])?d[0]:(a=a(),c.memoizedState=[a,b],a)},useReducer:pg,useRef:function(){return ng().memoizedState},useState:function(a){return pg(og)},useDebugValue:vg},xg=null,yg=null,zg=!1;function Ag(a,b){var c=K(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=b,c.return=a,c.effectTag=8,null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function Bg(a,b){switch(a.tag){case 5:var c=a.type;return null!==(b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b)&&(a.stateNode=b,!0);case 6:return null!==(b=""===a.pendingProps||3!==b.nodeType?null:b)&&(a.stateNode=b,!0);case 13:default:return!1}}function Cg(a){if(zg){var b=yg;if(b){var c=b;if(!Bg(a,b)){if(!(b=De(c))||!Bg(a,b))return a.effectTag|=2,zg=!1,void(xg=a);Ag(xg,c)}xg=a,yg=Ee(b)}else a.effectTag|=2,zg=!1,xg=a}}function Dg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&18!==a.tag;)a=a.return;xg=a}function Eg(a){if(a!==xg)return!1;if(!zg)return Dg(a),zg=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!xe(b,a.memoizedProps))for(b=yg;b;)Ag(a,b),b=De(b);return Dg(a),yg=xg?De(a.stateNode):null,!0}function Fg(){yg=xg=null,zg=!1}var Gg=Tb.ReactCurrentOwner,qg=!1;function S(a,b,c,d){b.child=null===a?Ef(b,null,c,d):Df(b,a.child,c,d)}function Hg(a,b,c,d,e){c=c.render;var f=b.ref;return Ig(b,e),d=hg(a,b,c,d,f,e),null===a||qg?(b.effectTag|=1,S(a,b,d,e),b.child):(b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Jg(a,b,e))}function Kg(a,b,c,d,e,f){if(null===a){var g=c.type;return"function"!=typeof g||Ve(g)||void 0!==g.defaultProps||null!==c.compare||void 0!==c.defaultProps?((a=Ye(c.type,null,d,null,b.mode,f)).ref=b.ref,a.return=b,b.child=a):(b.tag=15,b.type=g,Lg(a,b,g,d,e,f))}return g=a.child,e<f&&(e=g.memoizedProps,(c=null!==(c=c.compare)?c:dd)(e,d)&&a.ref===b.ref)?Jg(a,b,f):(b.effectTag|=1,(a=Xe(g,d)).ref=b.ref,a.return=b,b.child=a)}function Lg(a,b,c,d,e,f){return null!==a&&dd(a.memoizedProps,d)&&a.ref===b.ref&&(qg=!1,e<f)?Jg(a,b,f):Mg(a,b,c,d,f)}function Ng(a,b){var c=b.ref;(null===a&&null!==c||null!==a&&a.ref!==c)&&(b.effectTag|=128)}function Mg(a,b,c,d,e){var f=J(c)?Ie:H.current;return f=Je(b,f),Ig(b,e),c=hg(a,b,c,d,f,e),null===a||qg?(b.effectTag|=1,S(a,b,c,e),b.child):(b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Jg(a,b,e))}function Og(a,b,c,d,e){if(J(c)){var f=!0;Oe(b)}else f=!1;if(Ig(b,e),null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),vf(b,c,d),xf(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var l=g.context,k=c.contextType;"object"==typeof k&&null!==k?k=M(k):k=Je(b,k=J(c)?Ie:H.current);var m=c.getDerivedStateFromProps,p="function"==typeof m||"function"==typeof g.getSnapshotBeforeUpdate;p||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||l!==k)&&wf(b,g,d,k),Pg=!1;var t=b.memoizedState;l=g.state=t;var A=b.updateQueue;null!==A&&(yf(b,A,d,g,e),l=b.memoizedState),h!==d||t!==l||I.current||Pg?("function"==typeof m&&(kf(b,c,m,d),l=b.memoizedState),(h=Pg||uf(b,c,h,d,t,l,k))?(p||"function"!=typeof g.UNSAFE_componentWillMount&&"function"!=typeof g.componentWillMount||("function"==typeof g.componentWillMount&&g.componentWillMount(),"function"==typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"==typeof g.componentDidMount&&(b.effectTag|=4)):("function"==typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=l),g.props=d,g.state=l,g.context=k,d=h):("function"==typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,h=b.memoizedProps,g.props=b.type===b.elementType?h:L(b.type,h),l=g.context,"object"==typeof(k=c.contextType)&&null!==k?k=M(k):k=Je(b,k=J(c)?Ie:H.current),(p="function"==typeof(m=c.getDerivedStateFromProps)||"function"==typeof g.getSnapshotBeforeUpdate)||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||l!==k)&&wf(b,g,d,k),Pg=!1,l=b.memoizedState,t=g.state=l,null!==(A=b.updateQueue)&&(yf(b,A,d,g,e),t=b.memoizedState),h!==d||l!==t||I.current||Pg?("function"==typeof m&&(kf(b,c,m,d),t=b.memoizedState),(m=Pg||uf(b,c,h,d,l,t,k))?(p||"function"!=typeof g.UNSAFE_componentWillUpdate&&"function"!=typeof g.componentWillUpdate||("function"==typeof g.componentWillUpdate&&g.componentWillUpdate(d,t,k),"function"==typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,t,k)),"function"==typeof g.componentDidUpdate&&(b.effectTag|=4),"function"==typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=t),g.props=d,g.state=t,g.context=k,d=m):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),d=!1);return Qg(a,b,c,d,f,e)}function Qg(a,b,c,d,e,f){Ng(a,b);var g=0!=(64&b.effectTag);if(!d&&!g)return e&&Pe(b,c,!1),Jg(a,b,f);d=b.stateNode,Gg.current=b;var h=g&&"function"!=typeof c.getDerivedStateFromError?null:d.render();return b.effectTag|=1,null!==a&&g?(b.child=Df(b,a.child,null,f),b.child=Df(b,null,h,f)):S(a,b,h,f),b.memoizedState=d.state,e&&Pe(b,c,!0),b.child}function Rg(a){var b=a.stateNode;b.pendingContext?Me(0,b.pendingContext,b.pendingContext!==b.context):b.context&&Me(0,b.context,!1),Jf(a,b.containerInfo)}function Sg(a,b,c){var d=b.mode,e=b.pendingProps,f=b.memoizedState;if(0==(64&b.effectTag)){f=null;var g=!1}else f={timedOutAt:null!==f?f.timedOutAt:0},g=!0,b.effectTag&=-65;if(null===a)if(g){var h=e.fallback;a=Ze(null,d,0,null),0==(1&b.mode)&&(a.child=null!==b.memoizedState?b.child.child:b.child),d=Ze(h,d,c,null),a.sibling=d,(c=a).return=d.return=b}else c=d=Ef(b,null,e.children,c);else null!==a.memoizedState?(h=(d=a.child).sibling,g?(c=e.fallback,e=Xe(d,d.pendingProps),0==(1&b.mode)&&((g=null!==b.memoizedState?b.child.child:b.child)!==d.child&&(e.child=g)),d=e.sibling=Xe(h,c,h.expirationTime),c=e,e.childExpirationTime=0,c.return=d.return=b):c=d=Df(b,d.child,e.children,c)):(h=a.child,g?(g=e.fallback,(e=Ze(null,d,0,null)).child=h,0==(1&b.mode)&&(e.child=null!==b.memoizedState?b.child.child:b.child),(d=e.sibling=Ze(g,d,c,null)).effectTag|=2,c=e,e.childExpirationTime=0,c.return=d.return=b):d=c=Df(b,h,e.children,c)),b.stateNode=a.stateNode;return b.memoizedState=f,b.child=c,d}function Jg(a,b,c){if(null!==a&&(b.contextDependencies=a.contextDependencies),b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child&&x("153"),null!==b.child){for(c=Xe(a=b.child,a.pendingProps,a.expirationTime),b.child=c,c.return=b;null!==a.sibling;)a=a.sibling,(c=c.sibling=Xe(a,a.pendingProps,a.expirationTime)).return=b;c.sibling=null}return b.child}function Tg(a,b,c){var d=b.expirationTime;if(null!==a){if(a.memoizedProps!==b.pendingProps||I.current)qg=!0;else if(d<c){switch(qg=!1,b.tag){case 3:Rg(b),Fg();break;case 5:Lf(b);break;case 1:J(b.type)&&Oe(b);break;case 4:Jf(b,b.stateNode.containerInfo);break;case 10:Ug(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState)return 0!==(d=b.child.childExpirationTime)&&d>=c?Sg(a,b,c):null!==(b=Jg(a,b,c))?b.sibling:null}return Jg(a,b,c)}}else qg=!1;switch(b.expirationTime=0,b.tag){case 2:d=b.elementType,null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),a=b.pendingProps;var e=Je(b,H.current);if(Ig(b,c),e=hg(null,b,d,a,e,c),b.effectTag|=1,"object"==typeof e&&null!==e&&"function"==typeof e.render&&void 0===e.$$typeof){if(b.tag=1,lg(),J(d)){var f=!0;Oe(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var g=d.getDerivedStateFromProps;"function"==typeof g&&kf(b,d,g,a),e.updater=tf,b.stateNode=e,e._reactInternalFiber=b,xf(b,d,a,c),b=Qg(null,b,d,!0,f,c)}else b.tag=0,S(null,b,e,c),b=b.child;return b;case 16:switch(e=b.elementType,null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),f=b.pendingProps,a=function hf(a){var b=a._result;switch(a._status){case 1:return b;case 2:case 0:throw b;default:switch(a._status=0,(b=(b=a._ctor)()).then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)}),a._status){case 1:return a._result;case 2:throw a._result}throw a._result=b,b}}(e),b.type=a,e=b.tag=function We(a){if("function"==typeof a)return Ve(a)?1:0;if(null!=a){if((a=a.$$typeof)===cc)return 11;if(a===ec)return 14}return 2}(a),f=L(a,f),g=void 0,e){case 0:g=Mg(null,b,a,f,c);break;case 1:g=Og(null,b,a,f,c);break;case 11:g=Hg(null,b,a,f,c);break;case 14:g=Kg(null,b,a,L(a.type,f),d,c);break;default:x("306",a,"")}return g;case 0:return d=b.type,e=b.pendingProps,Mg(a,b,d,e=b.elementType===d?e:L(d,e),c);case 1:return d=b.type,e=b.pendingProps,Og(a,b,d,e=b.elementType===d?e:L(d,e),c);case 3:return Rg(b),null===(d=b.updateQueue)&&x("282"),e=null!==(e=b.memoizedState)?e.element:null,yf(b,d,b.pendingProps,null,c),(d=b.memoizedState.element)===e?(Fg(),b=Jg(a,b,c)):(e=b.stateNode,(e=(null===a||null===a.child)&&e.hydrate)&&(yg=Ee(b.stateNode.containerInfo),xg=b,e=zg=!0),e?(b.effectTag|=2,b.child=Ef(b,null,d,c)):(S(a,b,d,c),Fg()),b=b.child),b;case 5:return Lf(b),null===a&&Cg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,xe(d,e)?g=null:null!==f&&xe(d,f)&&(b.effectTag|=16),Ng(a,b),1!==c&&1&b.mode&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(S(a,b,g,c),b=b.child),b;case 6:return null===a&&Cg(b),null;case 13:return Sg(a,b,c);case 4:return Jf(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Df(b,null,d,c):S(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,Hg(a,b,d,e=b.elementType===d?e:L(d,e),c);case 7:return S(a,b,b.pendingProps,c),b.child;case 8:case 12:return S(a,b,b.pendingProps.children,c),b.child;case 10:a:{if(d=b.type._context,e=b.pendingProps,g=b.memoizedProps,Ug(b,f=e.value),null!==g){var h=g.value;if(0===(f=bd(h,f)?0:0|("function"==typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823))){if(g.children===e.children&&!I.current){b=Jg(a,b,c);break a}}else for(null!==(h=b.child)&&(h.return=b);null!==h;){var l=h.contextDependencies;if(null!==l){g=h.child;for(var k=l.first;null!==k;){if(k.context===d&&0!=(k.observedBits&f)){1===h.tag&&((k=nf(c)).tag=sf,pf(h,k)),h.expirationTime<c&&(h.expirationTime=c),null!==(k=h.alternate)&&k.expirationTime<c&&(k.expirationTime=c),k=c;for(var m=h.return;null!==m;){var p=m.alternate;if(m.childExpirationTime<k)m.childExpirationTime=k,null!==p&&p.childExpirationTime<k&&(p.childExpirationTime=k);else{if(!(null!==p&&p.childExpirationTime<k))break;p.childExpirationTime=k}m=m.return}l.expirationTime<c&&(l.expirationTime=c);break}k=k.next}}else g=10===h.tag&&h.type===b.type?null:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}if(null!==(h=g.sibling)){h.return=g.return,g=h;break}g=g.return}h=g}}S(a,b,e.children,c),b=b.child}return b;case 9:return e=b.type,d=(f=b.pendingProps).children,Ig(b,c),d=d(e=M(e,f.unstable_observedBits)),b.effectTag|=1,S(a,b,d,c),b.child;case 14:return f=L(e=b.type,b.pendingProps),Kg(a,b,e,f=L(e.type,f),d,c);case 15:return Lg(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:L(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,J(d)?(a=!0,Oe(b)):a=!1,Ig(b,c),vf(b,d,e),xf(b,d,e,c),Qg(null,b,d,!0,a,c)}x("156")}var Vg={current:null},Wg=null,Xg=null,Yg=null;function Ug(a,b){var c=a.type._context;G(Vg,c._currentValue),c._currentValue=b}function Zg(a){var b=Vg.current;F(Vg),a.type._context._currentValue=b}function Ig(a,b){Wg=a,Yg=Xg=null;var c=a.contextDependencies;null!==c&&c.expirationTime>=b&&(qg=!0),a.contextDependencies=null}function M(a,b){return Yg!==a&&!1!==b&&0!==b&&("number"==typeof b&&1073741823!==b||(Yg=a,b=1073741823),b={context:a,observedBits:b,next:null},null===Xg?(null===Wg&&x("308"),Xg=b,Wg.contextDependencies={first:b,expirationTime:0}):Xg=Xg.next=b),a._currentValue}var $g=0,rf=1,sf=2,ah=3,Pg=!1;function bh(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ch(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function nf(a){return{expirationTime:a,tag:$g,payload:null,callback:null,next:null,nextEffect:null}}function dh(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}function pf(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue,e=null;null===d&&(d=a.updateQueue=bh(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=bh(a.memoizedState),e=c.updateQueue=bh(c.memoizedState)):d=a.updateQueue=ch(e):null===e&&(e=c.updateQueue=ch(d));null===e||d===e?dh(d,b):null===d.lastUpdate||null===e.lastUpdate?(dh(d,b),dh(e,b)):(dh(d,b),e.lastUpdate=b)}function eh(a,b){var c=a.updateQueue;null===(c=null===c?a.updateQueue=bh(a.memoizedState):fh(a,c)).lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function fh(a,b){var c=a.alternate;return null!==c&&b===c.updateQueue&&(b=a.updateQueue=ch(b)),b}function gh(a,b,c,d,e,f){switch(c.tag){case rf:return"function"==typeof(a=c.payload)?a.call(f,d,e):a;case ah:a.effectTag=-2049&a.effectTag|64;case $g:if(null==(e="function"==typeof(a=c.payload)?a.call(f,d,e):a))break;return n({},d,e);case sf:Pg=!0}return d}function yf(a,b,c,d,e){Pg=!1;for(var f=(b=fh(a,b)).baseState,g=null,h=0,l=b.firstUpdate,k=f;null!==l;){var m=l.expirationTime;m<e?(null===g&&(g=l,f=k),h<m&&(h=m)):(k=gh(a,0,l,k,c,d),null!==l.callback&&(a.effectTag|=32,l.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=l:(b.lastEffect.nextEffect=l,b.lastEffect=l))),l=l.next}for(m=null,l=b.firstCapturedUpdate;null!==l;){var p=l.expirationTime;p<e?(null===m&&(m=l,null===g&&(f=k)),h<p&&(h=p)):(k=gh(a,0,l,k,c,d),null!==l.callback&&(a.effectTag|=32,l.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=l:(b.lastCapturedEffect.nextEffect=l,b.lastCapturedEffect=l))),l=l.next}null===g&&(b.lastUpdate=null),null===m?b.lastCapturedUpdate=null:a.effectTag|=32,null===g&&null===m&&(f=k),b.baseState=f,b.firstUpdate=g,b.firstCapturedUpdate=m,a.expirationTime=h,a.memoizedState=k}function hh(a,b,c){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null),ih(b.firstEffect,c),b.firstEffect=b.lastEffect=null,ih(b.firstCapturedEffect,c),b.firstCapturedEffect=b.lastCapturedEffect=null}function ih(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;"function"!=typeof c&&x("191",c),c.call(d)}a=a.nextEffect}}function jh(a,b){return{value:a,source:b,stack:jc(b)}}function kh(a){a.effectTag|=4}var lh=void 0,mh=void 0,nh=void 0,oh=void 0;lh=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},mh=function(){},nh=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;switch(If(N.current),a=null,c){case"input":f=vc(g,f),d=vc(g,d),a=[];break;case"option":f=$d(g,f),d=$d(g,d),a=[];break;case"select":f=n({},f,{value:void 0}),d=n({},d,{value:void 0}),a=[];break;case"textarea":f=be(g,f),d=be(g,d),a=[];break;default:"function"!=typeof f.onClick&&"function"==typeof d.onClick&&(g.onclick=te)}qe(c,d),g=c=void 0;var h=null;for(c in f)if(!d.hasOwnProperty(c)&&f.hasOwnProperty(c)&&null!=f[c])if("style"===c){var l=f[c];for(g in l)l.hasOwnProperty(g)&&(h||(h={}),h[g]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ra.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in d){var k=d[c];if(l=null!=f?f[c]:void 0,d.hasOwnProperty(c)&&k!==l&&(null!=k||null!=l))if("style"===c)if(l){for(g in l)!l.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(h||(h={}),h[g]="");for(g in k)k.hasOwnProperty(g)&&l[g]!==k[g]&&(h||(h={}),h[g]=k[g])}else h||(a||(a=[]),a.push(c,h)),h=k;else"dangerouslySetInnerHTML"===c?(k=k?k.__html:void 0,l=l?l.__html:void 0,null!=k&&l!==k&&(a=a||[]).push(c,""+k)):"children"===c?l===k||"string"!=typeof k&&"number"!=typeof k||(a=a||[]).push(c,""+k):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ra.hasOwnProperty(c)?(null!=k&&se(e,c),a||l===k||(a=[])):(a=a||[]).push(c,k))}h&&(a=a||[]).push("style",h),e=a,(b.updateQueue=e)&&kh(b)}},oh=function(a,b,c,d){c!==d&&kh(b)};var ph="function"==typeof WeakSet?WeakSet:Set;function qh(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=jc(c)),null!==c&&ic(c.type),b=b.value,null!==a&&1===a.tag&&ic(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e})}}function rh(a){var b=a.ref;if(null!==b)if("function"==typeof b)try{b(null)}catch(c){sh(a,c)}else b.current=null}function th(a,b,c){if(null!==(c=null!==(c=c.updateQueue)?c.lastEffect:null)){var d=c=c.next;do{if((d.tag&a)!==Nf){var e=d.destroy;d.destroy=void 0,void 0!==e&&e()}(d.tag&b)!==Nf&&(e=d.create,d.destroy=e()),d=d.next}while(d!==c)}}function vh(a){switch("function"==typeof Re&&Re(a),a.tag){case 0:case 11:case 14:case 15:var b=a.updateQueue;if(null!==b&&null!==(b=b.lastEffect)){var c=b=b.next;do{var d=c.destroy;if(void 0!==d){var e=a;try{d()}catch(f){sh(e,f)}}c=c.next}while(c!==b)}break;case 1:if(rh(a),"function"==typeof(b=a.stateNode).componentWillUnmount)try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(f){sh(a,f)}break;case 5:rh(a);break;case 4:wh(a)}}function xh(a){return 5===a.tag||3===a.tag||4===a.tag}function yh(a){a:{for(var b=a.return;null!==b;){if(xh(b)){var c=b;break a}b=b.return}x("160"),c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode,d=!1;break;case 3:case 4:b=c.stateNode.containerInfo,d=!0;break;default:x("161")}16&c.effectTag&&(ke(b,""),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||xh(c.return)){c=null;break a}c=c.return}for(c.sibling.return=c.return,c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(2&c.effectTag)continue b;if(null===c.child||4===c.tag)continue b;c.child.return=c,c=c.child}if(!(2&c.effectTag)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)if(c)if(d){var f=b,g=e.stateNode,h=c;8===f.nodeType?f.parentNode.insertBefore(g,h):f.insertBefore(g,h)}else b.insertBefore(e.stateNode,c);else d?(g=b,h=e.stateNode,8===g.nodeType?(f=g.parentNode).insertBefore(h,g):(f=g).appendChild(h),null!=(g=g._reactRootContainer)||null!==f.onclick||(f.onclick=te)):b.appendChild(e.stateNode);else if(4!==e.tag&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return,e=e.sibling}}function wh(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b.return;a:for(;;){switch(null===c&&x("160"),c.tag){case 5:d=c.stateNode,e=!1;break a;case 3:case 4:d=c.stateNode.containerInfo,e=!0;break a}c=c.return}c=!0}if(5===b.tag||6===b.tag){a:for(var f=b,g=f;;)if(vh(g),null!==g.child&&4!==g.tag)g.child.return=g,g=g.child;else{if(g===f)break;for(;null===g.sibling;){if(null===g.return||g.return===f)break a;g=g.return}g.sibling.return=g.return,g=g.sibling}e?(f=d,g=b.stateNode,8===f.nodeType?f.parentNode.removeChild(g):f.removeChild(g)):d.removeChild(b.stateNode)}else if(4===b.tag){if(null!==b.child){d=b.stateNode.containerInfo,e=!0,b.child.return=b,b=b.child;continue}}else if(vh(b),null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;4===(b=b.return).tag&&(c=!1)}b.sibling.return=b.return,b=b.sibling}}function zh(a,b){switch(b.tag){case 0:case 11:case 14:case 15:th(Pf,Qf,b);break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null,null!==f&&function Ce(a,b,c,d,e){a[Ga]=e,"input"===c&&"radio"===e.type&&null!=e.name&&xc(a,e),re(c,d),d=re(c,e);for(var f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];"style"===g?oe(a,h):"dangerouslySetInnerHTML"===g?je(a,h):"children"===g?ke(a,h):tc(a,g,h,d)}switch(c){case"input":yc(a,e);break;case"textarea":de(a,e);break;case"select":b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,null!=(c=e.value)?ae(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?ae(a,!!e.multiple,e.defaultValue,!0):ae(a,!!e.multiple,e.multiple?[]:"",!1))}}(c,f,e,a,d)}break;case 6:null===b.stateNode&&x("162"),b.stateNode.nodeValue=b.memoizedProps;break;case 3:case 12:break;case 13:if(c=b.memoizedState,d=void 0,a=b,null===c?d=!1:(d=!0,a=b.child,0===c.timedOutAt&&(c.timedOutAt=lf())),null!==a&&function uh(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d.style.display="none";else{d=c.stateNode;var e=c.memoizedProps.style;e=null!=e&&e.hasOwnProperty("display")?e.display:null,d.style.display=ne("display",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?"":c.memoizedProps;else{if(13===c.tag&&null!==c.memoizedState){(d=c.child.sibling).return=c,c=d;continue}if(null!==c.child){c.child.return=c,c=c.child;continue}}if(c===a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}(a,d),null!==(c=b.updateQueue)){b.updateQueue=null;var g=b.stateNode;null===g&&(g=b.stateNode=new ph),c.forEach(function(a){var c=function Ah(a,b){var c=a.stateNode;null!==c&&c.delete(b),b=mf(b=lf(),a),null!==(a=hi(a,b))&&(cf(a,b),0!==(b=a.expirationTime)&&Xh(a,b))}.bind(null,b,a);g.has(a)||(g.add(a),a.then(c,c))})}break;case 17:break;default:x("163")}}var Bh="function"==typeof WeakMap?WeakMap:Map;function Ch(a,b,c){(c=nf(c)).tag=ah,c.payload={element:null};var d=b.value;return c.callback=function(){Dh(d),qh(a,b)},c}function Eh(a,b,c){(c=nf(c)).tag=ah;var d=a.type.getDerivedStateFromError;if("function"==typeof d){var e=b.value;c.payload=function(){return d(e)}}var f=a.stateNode;return null!==f&&"function"==typeof f.componentDidCatch&&(c.callback=function(){"function"!=typeof d&&(null===Fh?Fh=new Set([this]):Fh.add(this));var c=b.value,e=b.stack;qh(a,b),this.componentDidCatch(c,{componentStack:null!==e?e:""})}),c}function Gh(a){switch(a.tag){case 1:J(a.type)&&Ke();var b=a.effectTag;return 2048&b?(a.effectTag=-2049&b|64,a):null;case 3:return Kf(),Le(),0!=(64&(b=a.effectTag))&&x("285"),a.effectTag=-2049&b|64,a;case 5:return Mf(a),null;case 13:return 2048&(b=a.effectTag)?(a.effectTag=-2049&b|64,a):null;case 18:return null;case 4:return Kf(),null;case 10:return Zg(a),null;default:return null}}var Hh=Tb.ReactCurrentDispatcher,Ih=Tb.ReactCurrentOwner,Jh=1073741822,Kh=!1,T=null,Lh=null,U=0,Mh=-1,Nh=!1,V=null,Oh=!1,Ph=null,Qh=null,Rh=null,Fh=null;function Sh(){if(null!==T)for(var a=T.return;null!==a;){var b=a;switch(b.tag){case 1:var c=b.type.childContextTypes;null!=c&&Ke();break;case 3:Kf(),Le();break;case 5:Mf(b);break;case 4:Kf();break;case 10:Zg(b)}a=a.return}Lh=null,U=0,Mh=-1,Nh=!1,T=null}function Th(){for(;null!==V;){var a=V.effectTag;if(16&a&&ke(V.stateNode,""),128&a){var b=V.alternate;null!==b&&(null!==(b=b.ref)&&("function"==typeof b?b(null):b.current=null))}switch(14&a){case 2:yh(V),V.effectTag&=-3;break;case 6:yh(V),V.effectTag&=-3,zh(V.alternate,V);break;case 4:zh(V.alternate,V);break;case 8:wh(a=V),a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null,null!==(a=a.alternate)&&(a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null)}V=V.nextEffect}}function Uh(){for(;null!==V;){if(256&V.effectTag)a:{var a=V.alternate,b=V;switch(b.tag){case 0:case 11:case 15:th(Of,Nf,b);break a;case 1:if(256&b.effectTag&&null!==a){var c=a.memoizedProps,d=a.memoizedState;b=(a=b.stateNode).getSnapshotBeforeUpdate(b.elementType===b.type?c:L(b.type,c),d),a.__reactInternalSnapshotBeforeUpdate=b}break a;case 3:case 5:case 6:case 4:case 17:break a;default:x("163")}}V=V.nextEffect}}function Vh(a,b){for(;null!==V;){var c=V.effectTag;if(36&c){var d=V.alternate,e=V,f=b;switch(e.tag){case 0:case 11:case 15:th(Rf,Sf,e);break;case 1:var g=e.stateNode;if(4&e.effectTag)if(null===d)g.componentDidMount();else{var h=e.elementType===e.type?d.memoizedProps:L(e.type,d.memoizedProps);g.componentDidUpdate(h,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}null!==(d=e.updateQueue)&&hh(0,d,g);break;case 3:if(null!==(d=e.updateQueue)){if(g=null,null!==e.child)switch(e.child.tag){case 5:g=e.child.stateNode;break;case 1:g=e.child.stateNode}hh(0,d,g)}break;case 5:f=e.stateNode,null===d&&4&e.effectTag&&we(e.type,e.memoizedProps)&&f.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:x("163")}}128&c&&(null!==(e=V.ref)&&(f=V.stateNode,"function"==typeof e?e(f):e.current=f)),512&c&&(Ph=a),V=V.nextEffect}}function of(){null!==Qh&&Be(Qh),null!==Rh&&Rh()}function Zh(a,b){Oh=Kh=!0,a.current===b&&x("177");var c=a.pendingCommitExpirationTime;0===c&&x("261"),a.pendingCommitExpirationTime=0;var d=b.expirationTime,e=b.childExpirationTime;for(function ef(a,b){if(a.didError=!1,0===b)a.earliestPendingTime=0,a.latestPendingTime=0,a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0;else{b<a.latestPingedTime&&(a.latestPingedTime=0);var c=a.latestPendingTime;0!==c&&(c>b?a.earliestPendingTime=a.latestPendingTime=0:a.earliestPendingTime>b&&(a.earliestPendingTime=a.latestPendingTime)),0===(c=a.earliestSuspendedTime)?cf(a,b):b<a.latestSuspendedTime?(a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0,cf(a,b)):b>c&&cf(a,b)}df(0,a)}(a,e>d?e:d),Ih.current=null,d=void 0,1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,d=b.firstEffect):d=b:d=b.firstEffect,ue=Bd,ve=function Pd(){var a=Nd();if(Od(a)){if("selectionStart"in a)var b={start:a.selectionStart,end:a.selectionEnd};else a:{var c=(b=(b=a.ownerDocument)&&b.defaultView||window).getSelection&&b.getSelection();if(c&&0!==c.rangeCount){b=c.anchorNode;var d=c.anchorOffset,e=c.focusNode;c=c.focusOffset;try{b.nodeType,e.nodeType}catch(A){b=null;break a}var f=0,g=-1,h=-1,l=0,k=0,m=a,p=null;b:for(;;){for(var t;m!==b||0!==d&&3!==m.nodeType||(g=f+d),m!==e||0!==c&&3!==m.nodeType||(h=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(t=m.firstChild);)p=m,m=t;for(;;){if(m===a)break b;if(p===b&&++l===d&&(g=f),p===e&&++k===c&&(h=f),null!==(t=m.nextSibling))break;p=(m=p).parentNode}m=t}b=-1===g||-1===h?null:{start:g,end:h}}else b=null}b=b||{start:0,end:0}}else b=null;return{focusedElem:a,selectionRange:b}}(),Bd=!1,V=d;null!==V;){e=!1;var f=void 0;try{Uh()}catch(h){e=!0,f=h}e&&(null===V&&x("178"),sh(V,f),null!==V&&(V=V.nextEffect))}for(V=d;null!==V;){e=!1,f=void 0;try{Th()}catch(h){e=!0,f=h}e&&(null===V&&x("178"),sh(V,f),null!==V&&(V=V.nextEffect))}for(Qd(ve),ve=null,Bd=!!ue,ue=null,a.current=b,V=d;null!==V;){e=!1,f=void 0;try{Vh(a,c)}catch(h){e=!0,f=h}e&&(null===V&&x("178"),sh(V,f),null!==V&&(V=V.nextEffect))}if(null!==d&&null!==Ph){var g=function Wh(a,b){Rh=Qh=Ph=null;var c=W;W=!0;do{if(512&b.effectTag){var d=!1,e=void 0;try{var f=b;th(Uf,Nf,f),th(Nf,Tf,f)}catch(g){d=!0,e=g}d&&sh(b,e)}b=b.nextEffect}while(null!==b);W=c,0!==(c=a.expirationTime)&&Xh(a,c),X||W||Yh(1073741823,!1)}.bind(null,a,d);Qh=r.unstable_runWithPriority(r.unstable_NormalPriority,function(){return Ae(g)}),Rh=g}Kh=Oh=!1,"function"==typeof Qe&&Qe(b.stateNode),c=b.expirationTime,0===(b=(b=b.childExpirationTime)>c?b:c)&&(Fh=null),function $h(a,b){a.expirationTime=b,a.finishedWork=null}(a,b)}function ai(a){for(;;){var b=a.alternate,c=a.return,d=a.sibling;if(0==(1024&a.effectTag)){T=a;a:{var e=b,f=U,g=(b=a).pendingProps;switch(b.tag){case 2:case 16:break;case 15:case 0:break;case 1:J(b.type)&&Ke();break;case 3:Kf(),Le(),(g=b.stateNode).pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),null!==e&&null!==e.child||(Eg(b),b.effectTag&=-3),mh(b);break;case 5:Mf(b);var h=If(Hf.current);if(f=b.type,null!==e&&null!=b.stateNode)nh(e,b,f,g,h),e.ref!==b.ref&&(b.effectTag|=128);else if(g){var l=If(N.current);if(Eg(b)){e=(g=b).stateNode;var k=g.type,m=g.memoizedProps,p=h;switch(e[Fa]=g,e[Ga]=m,f=void 0,h=k){case"iframe":case"object":E("load",e);break;case"video":case"audio":for(k=0;k<ab.length;k++)E(ab[k],e);break;case"source":E("error",e);break;case"img":case"image":case"link":E("error",e),E("load",e);break;case"form":E("reset",e),E("submit",e);break;case"details":E("toggle",e);break;case"input":wc(e,m),E("invalid",e),se(p,"onChange");break;case"select":e._wrapperState={wasMultiple:!!m.multiple},E("invalid",e),se(p,"onChange");break;case"textarea":ce(e,m),E("invalid",e),se(p,"onChange")}for(f in qe(h,m),k=null,m)m.hasOwnProperty(f)&&(l=m[f],"children"===f?"string"==typeof l?e.textContent!==l&&(k=["children",l]):"number"==typeof l&&e.textContent!==""+l&&(k=["children",""+l]):ra.hasOwnProperty(f)&&null!=l&&se(p,f));switch(h){case"input":Rb(e),Ac(e,m,!0);break;case"textarea":Rb(e),ee(e);break;case"select":case"option":break;default:"function"==typeof m.onClick&&(e.onclick=te)}f=k,g.updateQueue=f,(g=null!==f)&&kh(b)}else{m=b,p=f,e=g,k=9===h.nodeType?h:h.ownerDocument,l===fe.html&&(l=ge(p)),l===fe.html?"script"===p?((e=k.createElement("div")).innerHTML="<script><\/script>",k=e.removeChild(e.firstChild)):"string"==typeof e.is?k=k.createElement(p,{is:e.is}):(k=k.createElement(p),"select"===p&&(p=k,e.multiple?p.multiple=!0:e.size&&(p.size=e.size))):k=k.createElementNS(l,p),(e=k)[Fa]=m,e[Ga]=g,lh(e,b,!1,!1),p=e;var t=h,A=re(k=f,m=g);switch(k){case"iframe":case"object":E("load",p),h=m;break;case"video":case"audio":for(h=0;h<ab.length;h++)E(ab[h],p);h=m;break;case"source":E("error",p),h=m;break;case"img":case"image":case"link":E("error",p),E("load",p),h=m;break;case"form":E("reset",p),E("submit",p),h=m;break;case"details":E("toggle",p),h=m;break;case"input":wc(p,m),h=vc(p,m),E("invalid",p),se(t,"onChange");break;case"option":h=$d(p,m);break;case"select":p._wrapperState={wasMultiple:!!m.multiple},h=n({},m,{value:void 0}),E("invalid",p),se(t,"onChange");break;case"textarea":ce(p,m),h=be(p,m),E("invalid",p),se(t,"onChange");break;default:h=m}qe(k,h),l=void 0;var v=k,R=p,u=h;for(l in u)if(u.hasOwnProperty(l)){var q=u[l];"style"===l?oe(R,q):"dangerouslySetInnerHTML"===l?null!=(q=q?q.__html:void 0)&&je(R,q):"children"===l?"string"==typeof q?("textarea"!==v||""!==q)&&ke(R,q):"number"==typeof q&&ke(R,""+q):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(ra.hasOwnProperty(l)?null!=q&&se(t,l):null!=q&&tc(R,l,q,A))}switch(k){case"input":Rb(p),Ac(p,m,!1);break;case"textarea":Rb(p),ee(p);break;case"option":null!=m.value&&p.setAttribute("value",""+uc(m.value));break;case"select":(h=p).multiple=!!m.multiple,null!=(p=m.value)?ae(h,!!m.multiple,p,!1):null!=m.defaultValue&&ae(h,!!m.multiple,m.defaultValue,!0);break;default:"function"==typeof h.onClick&&(p.onclick=te)}(g=we(f,g))&&kh(b),b.stateNode=e}null!==b.ref&&(b.effectTag|=128)}else null===b.stateNode&&x("166");break;case 6:e&&null!=b.stateNode?oh(e,b,e.memoizedProps,g):("string"!=typeof g&&(null===b.stateNode&&x("166")),e=If(Hf.current),If(N.current),Eg(b)?(f=(g=b).stateNode,e=g.memoizedProps,f[Fa]=g,(g=f.nodeValue!==e)&&kh(b)):(f=b,(g=(9===e.nodeType?e:e.ownerDocument).createTextNode(g))[Fa]=b,f.stateNode=g));break;case 11:break;case 13:if(g=b.memoizedState,0!=(64&b.effectTag)){b.expirationTime=f,T=b;break a}g=null!==g,f=null!==e&&null!==e.memoizedState,null!==e&&!g&&f&&(null!==(e=e.child.sibling)&&(null!==(h=b.firstEffect)?(b.firstEffect=e,e.nextEffect=h):(b.firstEffect=b.lastEffect=e,e.nextEffect=null),e.effectTag=8)),(g||f)&&(b.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Kf(),mh(b);break;case 10:Zg(b);break;case 9:case 14:break;case 17:J(b.type)&&Ke();break;case 18:break;default:x("156")}T=null}if(b=a,1===U||1!==b.childExpirationTime){for(g=0,f=b.child;null!==f;)(e=f.expirationTime)>g&&(g=e),(h=f.childExpirationTime)>g&&(g=h),f=f.sibling;b.childExpirationTime=g}if(null!==T)return T;null!==c&&0==(1024&c.effectTag)&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a))}else{if(null!==(a=Gh(a)))return a.effectTag&=1023,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=1024)}if(null!==d)return d;if(null===c)break;a=c}return null}function bi(a){var b=Tg(a.alternate,a,U);return a.memoizedProps=a.pendingProps,null===b&&(b=ai(a)),Ih.current=null,b}function ci(a,b){Kh&&x("243"),of(),Kh=!0;var c=Hh.current;Hh.current=kg;var d=a.nextExpirationTimeToWorkOn;d===U&&a===Lh&&null!==T||(Sh(),U=d,T=Xe((Lh=a).current,null),a.pendingCommitExpirationTime=0);for(var e=!1;;){try{if(b)for(;null!==T&&!di();)T=bi(T);else for(;null!==T;)T=bi(T)}catch(u){if(Yg=Xg=Wg=null,lg(),null===T)e=!0,Dh(u);else{null===T&&x("271");var f=T,g=f.return;if(null!==g){a:{var h=a,l=g,k=f,m=u;if(g=U,k.effectTag|=1024,k.firstEffect=k.lastEffect=null,null!==m&&"object"==typeof m&&"function"==typeof m.then){var p=m;m=l;var t=-1,A=-1;do{if(13===m.tag){var v=m.alternate;if(null!==v&&null!==(v=v.memoizedState)){A=10*(1073741822-v.timedOutAt);break}"number"==typeof(v=m.pendingProps.maxDuration)&&(0>=v?t=0:(-1===t||v<t)&&(t=v))}m=m.return}while(null!==m);m=l;do{if((v=13===m.tag)&&(v=void 0!==m.memoizedProps.fallback&&null===m.memoizedState),v){if(null===(l=m.updateQueue)?((l=new Set).add(p),m.updateQueue=l):l.add(p),0==(1&m.mode)){m.effectTag|=64,k.effectTag&=-1957,1===k.tag&&(null===k.alternate?k.tag=17:((g=nf(1073741823)).tag=sf,pf(k,g))),k.expirationTime=1073741823;break a}l=g;var R=(k=h).pingCache;null===R?(R=k.pingCache=new Bh,v=new Set,R.set(p,v)):void 0===(v=R.get(p))&&(v=new Set,R.set(p,v)),v.has(l)||(v.add(l),k=ei.bind(null,k,p,l),p.then(k,k)),-1===t?h=1073741823:(-1===A&&(A=10*(1073741822-gf(h,g))-5e3),h=A+t),0<=h&&Mh<h&&(Mh=h),m.effectTag|=2048,m.expirationTime=g;break a}m=m.return}while(null!==m);m=Error((ic(k.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+jc(k))}Nh=!0,m=jh(m,k),h=l;do{switch(h.tag){case 3:h.effectTag|=2048,h.expirationTime=g,eh(h,g=Ch(h,m,g));break a;case 1:if(t=m,A=h.type,k=h.stateNode,0==(64&h.effectTag)&&("function"==typeof A.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Fh||!Fh.has(k)))){h.effectTag|=2048,h.expirationTime=g,eh(h,g=Eh(h,t,g));break a}}h=h.return}while(null!==h)}T=ai(f);continue}e=!0,Dh(u)}}break}if(Kh=!1,Hh.current=c,Yg=Xg=Wg=null,lg(),e)Lh=null,a.finishedWork=null;else if(null!==T)a.finishedWork=null;else{if(null===(c=a.current.alternate)&&x("281"),Lh=null,Nh){if(e=a.latestPendingTime,f=a.latestSuspendedTime,g=a.latestPingedTime,0!==e&&e<d||0!==f&&f<d||0!==g&&g<d)return ff(a,d),void fi(a,c,d,a.expirationTime,-1);if(!a.didError&&b)return a.didError=!0,d=a.nextExpirationTimeToWorkOn=d,b=a.expirationTime=1073741823,void fi(a,c,d,b,-1)}b&&-1!==Mh?(ff(a,d),(b=10*(1073741822-gf(a,d)))<Mh&&(Mh=b),b=10*(1073741822-lf()),b=Mh-b,fi(a,c,d,a.expirationTime,0>b?0:b)):(a.pendingCommitExpirationTime=d,a.finishedWork=c)}}function sh(a,b){for(var c=a.return;null!==c;){switch(c.tag){case 1:var d=c.stateNode;if("function"==typeof c.type.getDerivedStateFromError||"function"==typeof d.componentDidCatch&&(null===Fh||!Fh.has(d)))return pf(c,a=Eh(c,a=jh(b,a),1073741823)),void qf(c,1073741823);break;case 3:return pf(c,a=Ch(c,a=jh(b,a),1073741823)),void qf(c,1073741823)}c=c.return}3===a.tag&&(pf(a,c=Ch(a,c=jh(b,a),1073741823)),qf(a,1073741823))}function mf(a,b){var c=r.unstable_getCurrentPriorityLevel(),d=void 0;if(0==(1&b.mode))d=1073741823;else if(Kh&&!Oh)d=U;else{switch(c){case r.unstable_ImmediatePriority:d=1073741823;break;case r.unstable_UserBlockingPriority:d=1073741822-10*(1+((1073741822-a+15)/10|0));break;case r.unstable_NormalPriority:d=1073741822-25*(1+((1073741822-a+500)/25|0));break;case r.unstable_LowPriority:case r.unstable_IdlePriority:d=1;break;default:x("313")}null!==Lh&&d===U&&--d}return c===r.unstable_UserBlockingPriority&&(0===gi||d<gi)&&(gi=d),d}function ei(a,b,c){var d=a.pingCache;null!==d&&d.delete(b),null!==Lh&&U===c?Lh=null:(b=a.earliestSuspendedTime,d=a.latestSuspendedTime,0!==b&&c<=b&&c>=d&&(a.didError=!1,(0===(b=a.latestPingedTime)||b>c)&&(a.latestPingedTime=c),df(c,a),0!==(c=a.expirationTime)&&Xh(a,c)))}function hi(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){if(c=d.alternate,d.childExpirationTime<b&&(d.childExpirationTime=b),null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b),null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}return e}function qf(a,b){null!==(a=hi(a,b))&&(!Kh&&0!==U&&b>U&&Sh(),cf(a,b),Kh&&!Oh&&Lh===a||Xh(a,a.expirationTime),ii>ji&&(ii=0,x("185")))}function ki(a,b,c,d,e){return r.unstable_runWithPriority(r.unstable_ImmediatePriority,function(){return a(b,c,d,e)})}var li=null,Y=null,mi=0,ni=void 0,W=!1,oi=null,Z=0,gi=0,pi=!1,qi=null,X=!1,ri=!1,si=null,ti=r.unstable_now(),ui=1073741822-(ti/10|0),vi=ui,ji=50,ii=0,wi=null;function xi(){ui=1073741822-((r.unstable_now()-ti)/10|0)}function yi(a,b){if(0!==mi){if(b<mi)return;null!==ni&&r.unstable_cancelCallback(ni)}mi=b,a=r.unstable_now()-ti,ni=r.unstable_scheduleCallback(zi,{timeout:10*(1073741822-b)-a})}function fi(a,b,c,d,e){a.expirationTime=d,0!==e||di()?0<e&&(a.timeoutHandle=ye(function Ai(a,b,c){a.pendingCommitExpirationTime=c,a.finishedWork=b,xi(),vi=ui,Bi(a,c)}.bind(null,a,b,c),e)):(a.pendingCommitExpirationTime=c,a.finishedWork=b)}function lf(){return W?vi:(Ci(),0!==Z&&1!==Z||(xi(),vi=ui),vi)}function Xh(a,b){null===a.nextScheduledRoot?(a.expirationTime=b,null===Y?(li=Y=a,a.nextScheduledRoot=a):(Y=Y.nextScheduledRoot=a).nextScheduledRoot=li):b>a.expirationTime&&(a.expirationTime=b),W||(X?ri&&(oi=a,Z=1073741823,Di(a,1073741823,!1)):1073741823===b?Yh(1073741823,!1):yi(a,b))}function Ci(){var a=0,b=null;if(null!==Y)for(var c=Y,d=li;null!==d;){var e=d.expirationTime;if(0===e){if((null===c||null===Y)&&x("244"),d===d.nextScheduledRoot){li=Y=d.nextScheduledRoot=null;break}if(d===li)li=e=d.nextScheduledRoot,Y.nextScheduledRoot=e,d.nextScheduledRoot=null;else{if(d===Y){(Y=c).nextScheduledRoot=li,d.nextScheduledRoot=null;break}c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null}d=c.nextScheduledRoot}else{if(e>a&&(a=e,b=d),d===Y)break;if(1073741823===a)break;c=d,d=d.nextScheduledRoot}}oi=b,Z=a}var Ei=!1;function di(){return!!Ei||!!r.unstable_shouldYield()&&(Ei=!0)}function zi(){try{if(!di()&&null!==li){xi();var a=li;do{var b=a.expirationTime;0!==b&&ui<=b&&(a.nextExpirationTimeToWorkOn=ui),a=a.nextScheduledRoot}while(a!==li)}Yh(0,!0)}finally{Ei=!1}}function Yh(a,b){if(Ci(),b)for(xi(),vi=ui;null!==oi&&0!==Z&&a<=Z&&!(Ei&&ui>Z);)Di(oi,Z,ui>Z),Ci(),xi(),vi=ui;else for(;null!==oi&&0!==Z&&a<=Z;)Di(oi,Z,!1),Ci();if(b&&(mi=0,ni=null),0!==Z&&yi(oi,Z),ii=0,wi=null,null!==si)for(a=si,si=null,b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(d){pi||(pi=!0,qi=d)}}if(pi)throw a=qi,qi=null,pi=!1,a}function Bi(a,b){W&&x("253"),oi=a,Z=b,Di(a,b,!1),Yh(1073741823,!1)}function Di(a,b,c){if(W&&x("245"),W=!0,c){var d=a.finishedWork;null!==d?Fi(a,d,b):(a.finishedWork=null,-1!==(d=a.timeoutHandle)&&(a.timeoutHandle=-1,ze(d)),ci(a,c),null!==(d=a.finishedWork)&&(di()?a.finishedWork=d:Fi(a,d,b)))}else null!==(d=a.finishedWork)?Fi(a,d,b):(a.finishedWork=null,-1!==(d=a.timeoutHandle)&&(a.timeoutHandle=-1,ze(d)),ci(a,c),null!==(d=a.finishedWork)&&Fi(a,d,b));W=!1}function Fi(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime>=c&&(null===si?si=[d]:si.push(d),d._defer))return a.finishedWork=b,void(a.expirationTime=0);a.finishedWork=null,a===wi?ii++:(wi=a,ii=0),r.unstable_runWithPriority(r.unstable_ImmediatePriority,function(){Zh(a,b)})}function Dh(a){null===oi&&x("246"),oi.expirationTime=0,pi||(pi=!0,qi=a)}function Gi(a,b){var c=X;X=!0;try{return a(b)}finally{(X=c)||W||Yh(1073741823,!1)}}function Hi(a,b){if(X&&!ri){ri=!0;try{return a(b)}finally{ri=!1}}return a(b)}function Ii(a,b,c){X||W||0===gi||(Yh(gi,!1),gi=0);var d=X;X=!0;try{return r.unstable_runWithPriority(r.unstable_UserBlockingPriority,function(){return a(b,c)})}finally{(X=d)||W||Yh(1073741823,!1)}}function Ji(a,b,c,d,e){var f=b.current;a:if(c){b:{2===ed(c=c._reactInternalFiber)&&1===c.tag||x("170");var g=c;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(J(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g.return}while(null!==g);x("171"),g=void 0}if(1===c.tag){var h=c.type;if(J(h)){c=Ne(c,h,g);break a}}c=g}else c=He;return null===b.context?b.context=c:b.pendingContext=c,b=e,(e=nf(d)).payload={element:a},null!==(b=void 0===b?null:b)&&(e.callback=b),of(),pf(f,e),qf(f,d),d}function Ki(a,b,c,d){var e=b.current;return Ji(a,b,c,e=mf(lf(),e),d)}function Li(a){if(!(a=a.current).child)return null;switch(a.child.tag){case 5:default:return a.child.stateNode}}function Ni(a){var b=1073741822-25*(1+((1073741822-lf()+500)/25|0));b>=Jh&&(b=Jh-1),this._expirationTime=Jh=b,this._root=a,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Oi(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Pi(a,b,c){a={current:b=K(3,null,null,b?3:0),containerInfo:a,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:c,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=b.stateNode=a}function Qi(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Si(a,b,c,d,e){var f=c._reactRootContainer;if(f){if("function"==typeof e){var g=e;e=function(){var a=Li(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{if(f=c._reactRootContainer=function Ri(a,b){if(b||(b=!(!(b=a?9===a.nodeType?a.documentElement:a.firstChild:null)||1!==b.nodeType||!b.hasAttribute("data-reactroot"))),!b)for(var c;c=a.lastChild;)a.removeChild(c);return new Pi(a,!1,b)}(c,d),"function"==typeof e){var h=e;e=function(){var a=Li(f._internalRoot);h.call(a)}}Hi(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return Li(f._internalRoot)}function Ti(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Qi(b)||x("200"),function Mi(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Wb,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}(a,b,null,c)}Ab=function(a,b,c){switch(b){case"input":if(yc(a,c),b=c.name,"radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Ka(d);e||x("90"),Sb(d),yc(d,e)}}}break;case"textarea":de(a,c);break;case"select":null!=(b=c.value)&&ae(a,!!c.multiple,b,!1)}},Ni.prototype.render=function(a){this._defer||x("250"),this._hasChildren=!0,this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new Oi;return Ji(a,b,null,c,d._onCommit),d},Ni.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]),b.push(a)}},Ni.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;if(this._defer&&null!==b||x("251"),this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d&&x("251"),d._next=e._next,this._next=b,a.firstBatch=this}this._defer=!1,Bi(a,c),b=this._next,this._next=null,null!==(b=a.firstBatch=b)&&b._hasChildren&&b.render(b._children)}else this._next=null,this._defer=!1},Ni.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}},Oi.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]),b.push(a)}},Oi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];"function"!=typeof c&&x("191",c),c()}}},Pi.prototype.render=function(a,b){var c=this._internalRoot,d=new Oi;return null!==(b=void 0===b?null:b)&&d.then(b),Ki(a,c,null,d._onCommit),d},Pi.prototype.unmount=function(a){var b=this._internalRoot,c=new Oi;return null!==(a=void 0===a?null:a)&&c.then(a),Ki(null,b,null,c._onCommit),c},Pi.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new Oi;return null!==(c=void 0===c?null:c)&&e.then(c),Ki(b,d,a,e._onCommit),e},Pi.prototype.createBatch=function(){var a=new Ni(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime>=b;)c=d,d=d._next;a._next=d,null!==c&&(c._next=a)}return a},Gb=Gi,Hb=Ii,Ib=function(){W||0===gi||(Yh(gi,!1),gi=0)};var a,b,Vi={createPortal:Ti,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;return void 0===b&&("function"==typeof a.render?x("188"):x("268",Object.keys(a))),a=null===(a=hd(b))?null:a.stateNode},hydrate:function(a,b,c){return Qi(b)||x("200"),Si(null,a,b,!0,c)},render:function(a,b,c){return Qi(b)||x("200"),Si(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){return Qi(c)||x("200"),(null==a||void 0===a._reactInternalFiber)&&x("38"),Si(a,b,c,!1,d)},unmountComponentAtNode:function(a){return Qi(a)||x("40"),!!a._reactRootContainer&&(Hi(function(){Si(null,null,a,!1,function(){a._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ti.apply(void 0,arguments)},unstable_batchedUpdates:Gi,unstable_interactiveUpdates:Ii,flushSync:function(a,b){W&&x("187");var c=X;X=!0;try{return ki(a,b)}finally{X=c,Yh(1073741823,!1)}},unstable_createRoot:function Ui(a,b){return Qi(a)||x("299","unstable_createRoot"),new Pi(a,!0,null!=b&&!0===b.hydrate)},unstable_flushControlled:function(a){var b=X;X=!0;try{ki(a)}finally{(X=b)||W||Yh(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Ia,Ja,Ka,Ba.injectEventPluginsByName,pa,Qa,function(a){ya(a,Pa)},Eb,Fb,Dd,Da]}};b=(a={findFiberByHostInstance:Ha,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"}).findFiberByHostInstance,function Te(a){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);Qe=Se(function(a){return b.onCommitFiberRoot(c,a)}),Re=Se(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}(n({},a,{overrideProps:null,currentDispatcherRef:Tb.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return null===(a=hd(a))?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}));var Wi={default:Vi},Xi=Wi&&Vi||Wi;module.exports=Xi.default||Xi},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(806)},function(module,exports,__webpack_require__){"use strict";(function(global){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(exports,"__esModule",{value:!0});var d=null,e=!1,g=3,k=-1,l=-1,m=!1,n=!1;function p(){if(!m){var a=d.expirationTime;n?q():n=!0,r(t,a)}}function u(){var a=d,b=d.next;if(d===b)d=null;else{var c=d.previous;d=c.next=b,b.previous=c}a.next=a.previous=null,c=a.callback,b=a.expirationTime,a=a.priorityLevel;var f=g,Q=l;g=a,l=b;try{var h=c()}finally{g=f,l=Q}if("function"==typeof h)if(h={callback:h,priorityLevel:a,expirationTime:b,next:null,previous:null},null===d)d=h.next=h.previous=h;else{c=null,a=d;do{if(a.expirationTime>=b){c=a;break}a=a.next}while(a!==d);null===c?c=d:c===d&&(d=h,p()),(b=c.previous).next=c.previous=h,h.next=c,h.previous=b}}function v(){if(-1===k&&null!==d&&1===d.priorityLevel){m=!0;try{do{u()}while(null!==d&&1===d.priorityLevel)}finally{m=!1,null!==d?p():n=!1}}}function t(a){m=!0;var b=e;e=a;try{if(a)for(;null!==d;){var c=exports.unstable_now();if(!(d.expirationTime<=c))break;do{u()}while(null!==d&&d.expirationTime<=c)}else if(null!==d)do{u()}while(null!==d&&!w())}finally{m=!1,e=b,null!==d?p():n=!1,v()}}var C,D,x=Date,y="function"==typeof setTimeout?setTimeout:void 0,z="function"==typeof clearTimeout?clearTimeout:void 0,A="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,B="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function E(a){C=A(function(b){z(D),a(b)}),D=y(function(){B(C),a(exports.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var F=performance;exports.unstable_now=function(){return F.now()}}else exports.unstable_now=function(){return x.now()};var r,q,w,G=null;if("undefined"!=typeof window?G=window:void 0!==global&&(G=global),G&&G._schedMock){var H=G._schedMock;r=H[0],q=H[1],w=H[2],exports.unstable_now=H[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var I=null,J=function(a){if(null!==I)try{I(a)}finally{I=null}};r=function(a){null!==I?setTimeout(r,0,a):(I=a,setTimeout(J,0,!1))},q=function(){I=null},w=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof A&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof B&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var K=null,L=!1,M=-1,N=!1,O=!1,P=0,R=33,S=33;w=function(){return P<=exports.unstable_now()};var T=new MessageChannel,U=T.port2;T.port1.onmessage=function(){L=!1;var a=K,b=M;K=null,M=-1;var c=exports.unstable_now(),f=!1;if(0>=P-c){if(!(-1!==b&&b<=c))return N||(N=!0,E(V)),K=a,void(M=b);f=!0}if(null!==a){O=!0;try{a(f)}finally{O=!1}}};var V=function(a){if(null!==K){E(V);var b=a-P+S;b<S&&R<S?(8>b&&(b=8),S=b<R?R:b):R=b,P=a+S,L||(L=!0,U.postMessage(void 0))}else N=!1};r=function(a,b){K=a,M=b,O||0>b?U.postMessage(void 0):N||(N=!0,E(V))},q=function(){K=null,L=!1,M=-1}}exports.unstable_ImmediatePriority=1,exports.unstable_UserBlockingPriority=2,exports.unstable_NormalPriority=3,exports.unstable_IdlePriority=5,exports.unstable_LowPriority=4,exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=g,f=k;g=a,k=exports.unstable_now();try{return b()}finally{g=c,k=f,v()}},exports.unstable_next=function(a){switch(g){case 1:case 2:case 3:var b=3;break;default:b=g}var c=g,f=k;g=b,k=exports.unstable_now();try{return a()}finally{g=c,k=f,v()}},exports.unstable_scheduleCallback=function(a,b){var c=-1!==k?k:exports.unstable_now();if("object"==typeof b&&null!==b&&"number"==typeof b.timeout)b=c+b.timeout;else switch(g){case 1:b=c+-1;break;case 2:b=c+250;break;case 5:b=c+1073741823;break;case 4:b=c+1e4;break;default:b=c+5e3}if(a={callback:a,priorityLevel:g,expirationTime:b,next:null,previous:null},null===d)d=a.next=a.previous=a,p();else{c=null;var f=d;do{if(f.expirationTime>b){c=f;break}f=f.next}while(f!==d);null===c?c=d:c===d&&(d=a,p()),(b=c.previous).next=c.previous=a,a.next=c,a.previous=b}return a},exports.unstable_cancelCallback=function(a){var b=a.next;if(null!==b){if(b===a)d=null;else{a===d&&(d=b);var c=a.previous;c.next=b,b.previous=c}a.next=a.previous=null}},exports.unstable_wrapCallback=function(a){var b=g;return function(){var c=g,f=k;g=b,k=exports.unstable_now();try{return a.apply(this,arguments)}finally{g=c,k=f,v()}}},exports.unstable_getCurrentPriorityLevel=function(){return g},exports.unstable_shouldYield=function(){return!e&&(null!==d&&d.expirationTime<l||w())},exports.unstable_continueExecution=function(){null!==d&&p()},exports.unstable_pauseExecution=function(){},exports.unstable_getFirstCallbackNode=function(){return d}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var entities=__webpack_require__(808),defaults={fg:"#FFF",bg:"#000",newline:!1,escapeXML:!1,stream:!1,colors:function getDefaultColors(){var colors={0:"#000",1:"#A00",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"};return range(0,5).forEach(function(red){range(0,5).forEach(function(green){range(0,5).forEach(function(blue){return function setStyleColor(red,green,blue,colors){var r=red>0?40*red+55:0,g=green>0?40*green+55:0,b=blue>0?40*blue+55:0;colors[16+36*red+6*green+blue]=function toColorHexString(ref){var results=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=ref[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var r=_step.value;results.push(toHexString(r))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return"#"+results.join("")}([r,g,b])}(red,green,blue,colors)})})}),range(0,23).forEach(function(gray){var c=gray+232,l=toHexString(10*gray+8);colors[c]="#"+l+l+l}),colors}()};function toHexString(num){for(var str=num.toString(16);str.length<2;)str="0"+str;return str}function generateOutput(stack,token,data,options){var result;return"text"===token?result=function pushText(text,options){if(options.escapeXML)return entities.encodeXML(text);return text}(data,options):"display"===token?result=function handleDisplay(stack,code,options){code=parseInt(code,10);var result,codeMap={"-1":function _(){return"<br/>"},0:function _(){return stack.length&&resetStyles(stack)},1:function _(){return pushTag(stack,"b")},3:function _(){return pushTag(stack,"i")},4:function _(){return pushTag(stack,"u")},8:function _(){return pushStyle(stack,"display:none")},9:function _(){return pushTag(stack,"strike")},22:function _(){return pushStyle(stack,"font-weight:normal;text-decoration:none;font-style:normal")},23:function _(){return closeTag(stack,"i")},24:function _(){return closeTag(stack,"u")},39:function _(){return pushForegroundColor(stack,options.fg)},49:function _(){return pushBackgroundColor(stack,options.bg)},53:function _(){return pushStyle(stack,"text-decoration:overline")}};codeMap[code]?result=codeMap[code]():4<code&&code<7?result=pushTag(stack,"blink"):29<code&&code<38?result=pushForegroundColor(stack,options.colors[code-30]):39<code&&code<48?result=pushBackgroundColor(stack,options.colors[code-40]):89<code&&code<98?result=pushForegroundColor(stack,options.colors[code-90+8]):99<code&&code<108&&(result=pushBackgroundColor(stack,options.colors[code-100+8]));return result}(stack,data,options):"xterm256"===token?result=pushForegroundColor(stack,options.colors[data]):"rgb"===token&&(result=function handleRgb(stack,data){var operation=+(data=data.substring(2).slice(0,-1)).substr(0,2),rgb=data.substring(5).split(";").map(function(value){return("0"+Number(value).toString(16)).substr(-2)}).join("");return pushStyle(stack,(38===operation?"color:#":"background-color:#")+rgb)}(stack,data)),result}function resetStyles(stack){var stackClone=stack.slice(0);return stack.length=0,stackClone.reverse().map(function(tag){return"</"+tag+">"}).join("")}function range(low,high){for(var results=[],j=low;j<=high;j++)results.push(j);return results}function categoryForCode(code){var result=null;return 0===(code=parseInt(code,10))?result="all":1===code?result="bold":2<code&&code<5?result="underline":4<code&&code<7?result="blink":8===code?result="hide":9===code?result="strike":29<code&&code<38||39===code||89<code&&code<98?result="foreground-color":(39<code&&code<48||49===code||99<code&&code<108)&&(result="background-color"),result}function pushTag(stack,tag,style){return style||(style=""),stack.push(tag),["<"+tag,style?' style="'+style+'"':void 0,">"].join("")}function pushStyle(stack,style){return pushTag(stack,"span",style)}function pushForegroundColor(stack,color){return pushTag(stack,"span","color:"+color)}function pushBackgroundColor(stack,color){return pushTag(stack,"span","background-color:"+color)}function closeTag(stack,style){var last;if(stack.slice(-1)[0]===style&&(last=stack.pop()),last)return"</"+style+">"}var Filter=function(){function Filter(options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Filter),(options=options||{}).colors&&(options.colors=Object.assign({},defaults.colors,options.colors)),this.options=Object.assign({},defaults,options),this.stack=[],this.stickyStack=[]}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Filter,[{key:"toHtml",value:function toHtml(input){var _this=this;input="string"==typeof input?[input]:input;var stack=this.stack,options=this.options,buf=[];return this.stickyStack.forEach(function(element){var output=generateOutput(stack,element.token,element.data,options);output&&buf.push(output)}),function tokenize(text,options,callback){var ansiMatch=!1,ansiHandler=3;function remove(){return""}function newline(m){return options.newline?callback("display",-1):callback("text",m),""}var tokens=[{pattern:/^\x08+/,sub:remove},{pattern:/^\x1b\[[012]?K/,sub:remove},{pattern:/^\x1b\[\(B/,sub:remove},{pattern:/^\x1b\[[34]8;2;\d+;\d+;\d+m/,sub:function rgb(m){return callback("rgb",m),""}},{pattern:/^\x1b\[38;5;(\d+)m/,sub:function removeXterm256(m,g1){return callback("xterm256",g1),""}},{pattern:/^\n/,sub:newline},{pattern:/^\r\n/,sub:newline},{pattern:/^\x1b\[((?:\d{1,3};?)+|)m/,sub:function ansiMess(m,g1){ansiMatch=!0,0===g1.trim().length&&(g1="0"),g1=g1.trimRight(";").split(";");var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=g1[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var g=_step2.value;callback("display",g)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return""}},{pattern:/^\x1b\[\d?J/,sub:remove},{pattern:/^\x1b\[\d{0,3};\d{0,3}f/,sub:remove},{pattern:/^\x1b\[?[\d;]{0,3}/,sub:remove},{pattern:/^(([^\x1b\x08\r\n])+)/,sub:function realText(m){return callback("text",m),""}}];function process(handler,i){i>ansiHandler&&ansiMatch||(ansiMatch=!1,text=text.replace(handler.pattern,handler.sub))}var results1=[],length=text.length;outer:for(;length>0;){for(var i=0,o=0,len=tokens.length;o<len;i=++o){if(process(tokens[i],i),text.length!==length){length=text.length;continue outer}}if(text.length===length)break;results1.push(0),length=text.length}return results1}(input.join(""),options,function(token,data){var output=generateOutput(stack,token,data,options);output&&buf.push(output),options.stream&&(_this.stickyStack=function updateStickyStack(stickyStack,token,data){return"text"!==token&&(stickyStack=stickyStack.filter(function notCategory(category){return function(e){return(null===category||e.category!==category)&&"all"!==category}}(categoryForCode(data)))).push({token:token,data:data,category:categoryForCode(data)}),stickyStack}(_this.stickyStack,token,data))}),stack.length&&buf.push(resetStyles(stack)),buf.join("")}}]),Filter}();module.exports=Filter},function(module,exports,__webpack_require__){var encode=__webpack_require__(809),decode=__webpack_require__(810);exports.decode=function(data,level){return(!level||level<=0?decode.XML:decode.HTML)(data)},exports.decodeStrict=function(data,level){return(!level||level<=0?decode.XML:decode.HTMLStrict)(data)},exports.encode=function(data,level){return(!level||level<=0?encode.XML:encode.HTML)(data)},exports.encodeXML=encode.XML,exports.encodeHTML4=exports.encodeHTML5=exports.encodeHTML=encode.HTML,exports.decodeXML=exports.decodeXMLStrict=decode.XML,exports.decodeHTML4=exports.decodeHTML5=exports.decodeHTML=decode.HTML,exports.decodeHTML4Strict=exports.decodeHTML5Strict=exports.decodeHTMLStrict=decode.HTMLStrict,exports.escape=encode.escape},function(module,exports,__webpack_require__){var inverseXML=getInverseObj(__webpack_require__(388)),xmlReplacer=getInverseReplacer(inverseXML);exports.XML=getInverse(inverseXML,xmlReplacer);var inverseHTML=getInverseObj(__webpack_require__(389)),htmlReplacer=getInverseReplacer(inverseHTML);function getInverseObj(obj){return Object.keys(obj).sort().reduce(function(inverse,name){return inverse[obj[name]]="&"+name+";",inverse},{})}function getInverseReplacer(inverse){var single=[],multiple=[];return Object.keys(inverse).forEach(function(k){1===k.length?single.push("\\"+k):multiple.push(k)}),multiple.unshift("["+single.join("")+"]"),new RegExp(multiple.join("|"),"g")}exports.HTML=getInverse(inverseHTML,htmlReplacer);var re_nonASCII=/[^\0-\x7F]/g,re_astralSymbols=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function singleCharReplacer(c){return"&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(c){return"&#x"+(1024*(c.charCodeAt(0)-55296)+c.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function getInverse(inverse,re){function func(name){return inverse[name]}return function(data){return data.replace(re,func).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}}var re_xmlChars=getInverseReplacer(inverseXML);exports.escape=function escapeXML(data){return data.replace(re_xmlChars,singleCharReplacer).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}},function(module,exports,__webpack_require__){var entityMap=__webpack_require__(389),legacyMap=__webpack_require__(811),xmlMap=__webpack_require__(388),decodeCodePoint=__webpack_require__(812),decodeXMLStrict=getStrictDecoder(xmlMap),decodeHTMLStrict=getStrictDecoder(entityMap);function getStrictDecoder(map){var keys=Object.keys(map).join("|"),replace=getReplacer(map),re=new RegExp("&(?:"+(keys+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(str){return String(str).replace(re,replace)}}var decodeHTML=function(){for(var legacy=Object.keys(legacyMap).sort(sorter),keys=Object.keys(entityMap).sort(sorter),i=0,j=0;i<keys.length;i++)legacy[j]===keys[i]?(keys[i]+=";?",j++):keys[i]+=";";var re=new RegExp("&(?:"+keys.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),replace=getReplacer(entityMap);function replacer(str){return";"!==str.substr(-1)&&(str+=";"),replace(str)}return function(str){return String(str).replace(re,replacer)}}();function sorter(a,b){return a<b?1:-1}function getReplacer(map){return function replace(str){return"#"===str.charAt(1)?"X"===str.charAt(2)||"x"===str.charAt(2)?decodeCodePoint(parseInt(str.substr(3),16)):decodeCodePoint(parseInt(str.substr(2),10)):map[str.slice(1,-1)]}}module.exports={XML:decodeXMLStrict,HTML:decodeHTML,HTMLStrict:decodeHTMLStrict}},function(module){module.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(module,exports,__webpack_require__){var decodeMap=__webpack_require__(813);module.exports=function decodeCodePoint(codePoint){if(codePoint>=55296&&codePoint<=57343||codePoint>1114111)return"";codePoint in decodeMap&&(codePoint=decodeMap[codePoint]);var output="";codePoint>65535&&(codePoint-=65536,output+=String.fromCharCode(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint);return output+=String.fromCharCode(codePoint)}},function(module){module.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(module,exports,__webpack_require__){"use strict";__webpack_require__(34),__webpack_require__(41),__webpack_require__(42),__webpack_require__(23),__webpack_require__(44),__webpack_require__(91),__webpack_require__(59),__webpack_require__(29),__webpack_require__(53),__webpack_require__(341),__webpack_require__(815),__webpack_require__(818),__webpack_require__(73),__webpack_require__(24),__webpack_require__(118),__webpack_require__(60),__webpack_require__(46),__webpack_require__(45),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function createChannel(_ref2){var page=_ref2.page,transport=new PostmsgTransport({page:page});return new _channels.default({transport:transport})},exports.PostmsgTransport=exports.KEY=void 0;var _global=__webpack_require__(43),_channels=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(326)),_clientLogger=__webpack_require__(72),_telejson=__webpack_require__(820);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var KEY="storybook-channel";exports.KEY=KEY;var PostmsgTransport=function(){function PostmsgTransport(config){if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PostmsgTransport),this.config=config,this.buffer=void 0,this.handler=void 0,this.connected=void 0,this.buffer=[],this.handler=null,_global.window.addEventListener("message",this.handleEvent.bind(this),!1),"manager"!==config.page&&"preview"!==config.page)throw new Error('postmsg-channel: "config.page" cannot be "'.concat(config.page,'"'))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PostmsgTransport,[{key:"setHandler",value:function setHandler(handler){var _this=this;this.handler=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];handler.apply(_this,args),!_this.connected&&_this.getWindow()&&(_this.flush(),_this.connected=!0)}}},{key:"send",value:function send(event,options){var _this2=this,iframeWindow=this.getWindow();if(!iframeWindow)return new Promise(function(resolve,reject){_this2.buffer.push({event:event,resolve:resolve,reject:reject})});var depth=15,allowFunction=!0;options&&"boolean"==typeof options.allowFunction&&(allowFunction=options.allowFunction),options&&Number.isInteger(options.depth)&&(depth=options.depth);var data=(0,_telejson.stringify)({key:KEY,event:event},{maxDepth:depth,allowFunction:allowFunction});return iframeWindow.postMessage(data,"*"),Promise.resolve(null)}},{key:"flush",value:function flush(){var _this3=this,buffer=this.buffer;this.buffer=[],buffer.forEach(function(item){_this3.send(item.event).then(item.resolve).catch(item.reject)})}},{key:"getWindow",value:function getWindow(){if("manager"===this.config.page){var iframe=_global.document.getElementById("storybook-preview-iframe");return iframe?iframe.contentWindow:null}return _global.window.parent}},{key:"handleEvent",value:function handleEvent(rawEvent){try{var data=rawEvent.data,_ref="string"==typeof data&&(0,_telejson.isJSON)(data)?(0,_telejson.parse)(data):data,key=_ref.key,event=_ref.event;key===KEY&&(_clientLogger.logger.debug.apply(_clientLogger.logger,["message arrived at ".concat(this.config.page),event.type].concat(_toConsumableArray(event.args))),this.handler(event))}catch(error){_clientLogger.logger.error(error)}}}]),PostmsgTransport}();exports.PostmsgTransport=PostmsgTransport},function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(19),global=__webpack_require__(6),isForced=__webpack_require__(114),redefine=__webpack_require__(26),has=__webpack_require__(20),classof=__webpack_require__(40),inheritIfRequired=__webpack_require__(344),toPrimitive=__webpack_require__(83),fails=__webpack_require__(7),create=__webpack_require__(69),getOwnPropertyNames=__webpack_require__(112).f,getOwnPropertyDescriptor=__webpack_require__(66).f,defineProperty=__webpack_require__(21).f,trim=__webpack_require__(816).trim,NativeNumber=global.Number,NumberPrototype=NativeNumber.prototype,BROKEN_CLASSOF="Number"==classof(create(NumberPrototype)),toNumber=function(argument){var first,third,radix,maxCode,digits,length,index,code,it=toPrimitive(argument,!1);if("string"==typeof it&&it.length>2)if(43===(first=(it=trim(it)).charCodeAt(0))||45===first){if(88===(third=it.charCodeAt(2))||120===third)return NaN}else if(48===first){switch(it.charCodeAt(1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(length=(digits=it.slice(2)).length,index=0;index<length;index++)if((code=digits.charCodeAt(index))<48||code>maxCode)return NaN;return parseInt(digits,radix)}return+it};if(isForced("Number",!NativeNumber(" 0o1")||!NativeNumber("0b1")||NativeNumber("+0x1"))){for(var key,NumberWrapper=function Number(value){var it=arguments.length<1?0:value,dummy=this;return dummy instanceof NumberWrapper&&(BROKEN_CLASSOF?fails(function(){NumberPrototype.valueOf.call(dummy)}):"Number"!=classof(dummy))?inheritIfRequired(new NativeNumber(toNumber(it)),dummy,NumberWrapper):toNumber(it)},keys=DESCRIPTORS?getOwnPropertyNames(NativeNumber):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;keys.length>j;j++)has(NativeNumber,key=keys[j])&&!has(NumberWrapper,key)&&defineProperty(NumberWrapper,key,getOwnPropertyDescriptor(NativeNumber,key));NumberWrapper.prototype=NumberPrototype,NumberPrototype.constructor=NumberWrapper,redefine(global,"Number",NumberWrapper)}},function(module,exports,__webpack_require__){var requireObjectCoercible=__webpack_require__(33),whitespace="["+__webpack_require__(817)+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod=function(TYPE){return function($this){var string=String(requireObjectCoercible($this));return 1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string}};module.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},function(module,exports){module.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(module,exports,__webpack_require__){__webpack_require__(3)({target:"Number",stat:!0},{isInteger:__webpack_require__(819)})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),floor=Math.floor;module.exports=function isInteger(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=exports.stringify=exports.isJSON=exports.reviver=exports.replacer=void 0;var _isRegex=_interopRequireDefault(__webpack_require__(77)),_isFunction=_interopRequireDefault(__webpack_require__(821)),_isSymbol=_interopRequireDefault(__webpack_require__(822)),_isobject=_interopRequireDefault(__webpack_require__(825)),_get=_interopRequireDefault(__webpack_require__(826)),_memoizerific=_interopRequireDefault(__webpack_require__(207));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var isObject=_isobject.default,removeCodeComments=function removeCodeComments(code){var inQuoteChar=null,inBlockComment=!1,inLineComment=!1,inRegexLiteral=!1,newCode="";if(code.indexOf("//")>=0||code.indexOf("/*")>=0)for(var i=0;i<code.length;i+=1)inQuoteChar||inBlockComment||inLineComment||inRegexLiteral?(inQuoteChar&&(code[i]===inQuoteChar&&"\\"!==code[i-1]||"\n"===code[i]&&"`"!==inQuoteChar)&&(inQuoteChar=null),inRegexLiteral&&("/"===code[i]&&"\\"!==code[i-1]||"\n"===code[i])&&(inRegexLiteral=!1),inBlockComment&&"/"===code[i-1]&&"*"===code[i-2]&&(inBlockComment=!1),inLineComment&&"\n"===code[i]&&(inLineComment=!1)):'"'===code[i]||"'"===code[i]||"`"===code[i]?inQuoteChar=code[i]:"/"===code[i]&&"*"===code[i+1]?inBlockComment=!0:"/"===code[i]&&"/"===code[i+1]?inLineComment=!0:"/"===code[i]&&"/"!==code[i+1]&&(inRegexLiteral=!0),inBlockComment||inLineComment||(newCode+=code[i]);else newCode=code;return newCode},cleanCode=(0,_memoizerific.default)(1e4)(function(code){return removeCodeComments(code).replace(/\n\s*/g,"").trim()}),convertShorthandMethods=function convertShorthandMethods(key,stringified){var fnHead=stringified.slice(0,stringified.indexOf("{")),fnBody=stringified.slice(stringified.indexOf("{"));if(fnHead.includes("=>"))return stringified;if(fnHead.includes("function"))return stringified;var modifiedHead=fnHead;return(modifiedHead=modifiedHead.replace(key,"function"))+fnBody},dateFormat=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/,replacer=function replacer(options){var objects,stack,keys;return function replace(key,value){try{if(""===key)return keys=["root"],objects=[{keys:"root",value:value}],stack=[],value;for(;stack.length&&this!==stack[0];)stack.shift(),keys.pop();if((0,_isRegex.default)(value)){if(!options.allowRegExp)return;return"_regexp_".concat(value.flags,"|").concat(value.source)}if((0,_isFunction.default)(value)){if(!options.allowFunction)return;var name=value.name,stringified=value.toString();return stringified.match(/(\[native code\]|WEBPACK_IMPORTED_MODULE|__webpack_exports__|__webpack_require__)/)?"_function_".concat(name,"|").concat(function(){}.toString()):"_function_".concat(name,"|").concat(cleanCode(convertShorthandMethods(key,stringified)))}if((0,_isSymbol.default)(value)){if(!options.allowSymbol)return;return"_symbol_".concat(value.toString().slice(7,-1))}if("string"==typeof value&&dateFormat.test(value)){if(!options.allowDate)return;return"_date_".concat(value)}if(void 0===value){if(!options.allowUndefined)return;return"_undefined_"}if("number"==typeof value)return value===-1/0?"_-Infinity_":value===1/0?"_Infinity_":Number.isNaN(value)?"_NaN_":value;if("string"==typeof value)return value;if("boolean"==typeof value)return value;if(stack.length>=options.maxDepth)return Array.isArray(value)?"[Array(".concat(value.length,")]"):"[Object]";var found=objects.find(function(o){return o.value===value});if(!found){if(value&&isObject(value)&&value.constructor&&value.constructor.name&&"Object"!==value.constructor.name){if(!options.allowClass)return;try{Object.assign(value,{"_constructor-name_":value.constructor.name})}catch(e){}}return keys.push(key),stack.unshift(value),objects.push({keys:keys.join("."),value:value}),value}return"_duplicate_".concat(found.keys)}catch(e){return}}};exports.replacer=replacer;var reviver=function reviver(options){var refs=[],root;return function revive(key,value){if(""===key&&(root=value,refs.forEach(function(_ref){var target=_ref.target,container=_ref.container,replacement=_ref.replacement;container[target]="root"===replacement?root:(0,_get.default)(root,replacement.replace("root.",""))})),"_constructor-name_"===key)return value;if(isObject(value)&&value["_constructor-name_"]){var name=value["_constructor-name_"];if("Object"!==name){var Fn=new Function("return function ".concat(name,"(){}"))();Object.setPrototypeOf(value,new Fn)}return delete value["_constructor-name_"],value}if("string"==typeof value&&value.startsWith("_function_")){var _ref2=value.match(/_function_([^|]*)\|(.*)/)||[],_ref3=_slicedToArray(_ref2,3),_name=_ref3[1],source=_ref3[2];if(!options.lazyEval)return eval("(".concat(source,")"));var result=function result(){var f=eval("(".concat(source,")"));return f.apply(void 0,arguments)};return Object.defineProperty(result,"toString",{value:function value(){return source}}),Object.defineProperty(result,"name",{value:_name}),result}if("string"==typeof value&&value.startsWith("_regexp_")){var _ref4=value.match(/_regexp_([^|]*)\|(.*)/)||[],_ref5=_slicedToArray(_ref4,3),flags=_ref5[1],_source=_ref5[2];return new RegExp(_source,flags)}return"string"==typeof value&&value.startsWith("_date_")?new Date(value.replace("_date_","")):"string"==typeof value&&value.startsWith("_duplicate_")?(refs.push({target:key,container:this,replacement:value.replace("_duplicate_","")}),null):"string"==typeof value&&value.startsWith("_symbol_")?Symbol(value.replace("_symbol_","")):"string"==typeof value&&"_-Infinity_"===value?-1/0:"string"==typeof value&&"_Infinity_"===value?1/0:"string"==typeof value&&"_NaN_"===value?NaN:value}};exports.reviver=reviver;var isJSON=function isJSON(input){return input.match(/^[\[\{\"\}].*[\]\}\"]$/)};exports.isJSON=isJSON;var defaultOptions={maxDepth:10,space:void 0,allowFunction:!0,allowRegExp:!0,allowDate:!0,allowClass:!0,allowUndefined:!0,allowSymbol:!0,lazyEval:!0},stringify=function stringify(data){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mergedOptions=_objectSpread({},defaultOptions,{},options);return JSON.stringify(data,replacer(mergedOptions),options.space)};exports.stringify=stringify;var mutator=function mutator(){var mutated=[];return function mutateUndefined(value){isObject(value)&&Object.entries(value).forEach(function(_ref6){var _ref7=_slicedToArray(_ref6,2),k=_ref7[0],v=_ref7[1];"_undefined_"===v?value[k]=void 0:mutated.includes(v)||(mutated.push(v),mutateUndefined(v))}),Array.isArray(value)&&value.forEach(function(v){mutated.push(v),mutateUndefined(v)})}},parse=function parse(data){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mergedOptions=_objectSpread({},defaultOptions,{},options),result=JSON.parse(data,reviver(mergedOptions));return mutator()(result),result};exports.parse=parse},function(module,exports){module.exports=function isFunction(fn){var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)};var toString=Object.prototype.toString},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;if(__webpack_require__(823)()){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/;module.exports=function isSymbol(value){if("symbol"==typeof value)return!0;if("[object Symbol]"!==toStr.call(value))return!1;try{return function isRealSymbolObject(value){return"symbol"==typeof value.valueOf()&&symStringRegex.test(symToStr.call(value))}(value)}catch(e){return!1}}}else module.exports=function isSymbol(value){return!1}},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(824);module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,__webpack_exports__,__webpack_require__){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function isObject(val){return null!=val&&"object"==typeof val&&!1===Array.isArray(val)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return isObject})},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(827);module.exports=function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(828),toKey=__webpack_require__(867);module.exports=function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(221),isKey=__webpack_require__(829),stringToPath=__webpack_require__(834),toString=__webpack_require__(864);module.exports=function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(221),isSymbol=__webpack_require__(222),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(223),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function objectToString(value){return nativeObjectToString.call(value)}},function(module,exports){module.exports=function isObjectLike(value){return null!=value&&"object"==typeof value}},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(835),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(836),MAX_MEMOIZE_SIZE=500;module.exports=function memoizeCapped(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(837),FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(838),mapCacheDelete=__webpack_require__(859),mapCacheGet=__webpack_require__(861),mapCacheHas=__webpack_require__(862),mapCacheSet=__webpack_require__(863);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports,__webpack_require__){var Hash=__webpack_require__(839),ListCache=__webpack_require__(851),Map=__webpack_require__(858);module.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(840),hashDelete=__webpack_require__(847),hashGet=__webpack_require__(848),hashHas=__webpack_require__(849),hashSet=__webpack_require__(850);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(143);module.exports=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(842),isMasked=__webpack_require__(843),isObject=__webpack_require__(392),toSource=__webpack_require__(845),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(390),isObject=__webpack_require__(392),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";module.exports=function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(844),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(224)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports){module.exports=function getValue(object,key){return null==object?void 0:object[key]}},function(module,exports){module.exports=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(143),HASH_UNDEFINED="__lodash_hash_undefined__",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(143),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(143),HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(852),listCacheDelete=__webpack_require__(853),listCacheGet=__webpack_require__(855),listCacheHas=__webpack_require__(856),listCacheSet=__webpack_require__(857);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports){module.exports=function listCacheClear(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(144),splice=Array.prototype.splice;module.exports=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},function(module,exports){module.exports=function eq(value,other){return value===other||value!=value&&other!=other}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(144);module.exports=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(144);module.exports=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(144);module.exports=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var Map=__webpack_require__(391)(__webpack_require__(224),"Map");module.exports=Map},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(145);module.exports=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(145);module.exports=function mapCacheGet(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(145);module.exports=function mapCacheHas(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(145);module.exports=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(865);module.exports=function toString(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(223),arrayMap=__webpack_require__(866),isArray=__webpack_require__(221),isSymbol=__webpack_require__(222),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports){module.exports=function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(222),INFINITY=1/0;module.exports=function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(34),__webpack_require__(23),__webpack_require__(386),__webpack_require__(70),__webpack_require__(71),__webpack_require__(74),__webpack_require__(129),__webpack_require__(205),Object.defineProperty(exports,"__esModule",{value:!0}),exports.pathToId=pathToId,exports.initializePath=exports.parseQueryParameters=exports.getIdFromLegacyQuery=exports.setPath=void 0;var _global=__webpack_require__(43),_qs=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(869)),_utils=__webpack_require__(127);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function pathToId(path){var match=(path||"").match(/^\/story\/(.+)/);if(!match)throw new Error("Invalid path '".concat(path,"',  must start with '/story/'"));return match[1]}var setPath=function setPath(_ref){var storyId=_ref.storyId,viewMode=_ref.viewMode,_qs$parse=_qs.default.parse(_global.document.location.search,{ignoreQueryPrefix:!0}),rest=(_qs$parse.path,_qs$parse.selectedKind,_qs$parse.selectedStory,_objectWithoutProperties(_qs$parse,["path","selectedKind","selectedStory"])),newPath="".concat(_global.document.location.pathname,"?").concat(_qs.default.stringify(Object.assign({},rest,{id:storyId,viewMode:viewMode})));_global.history.replaceState({},"",newPath)};exports.setPath=setPath;var getIdFromLegacyQuery=function getIdFromLegacyQuery(_ref2){var path=_ref2.path,selectedKind=_ref2.selectedKind,selectedStory=_ref2.selectedStory;return path&&pathToId(path)||selectedKind&&selectedStory&&(0,_utils.toId)(selectedKind,selectedStory)};exports.getIdFromLegacyQuery=getIdFromLegacyQuery;exports.parseQueryParameters=function parseQueryParameters(search){return _qs.default.parse(search,{ignoreQueryPrefix:!0}).id};exports.initializePath=function initializePath(){var query=_qs.default.parse(_global.document.location.search,{ignoreQueryPrefix:!0}),storyId=query.id,viewMode=query.viewMode;return storyId||(storyId=getIdFromLegacyQuery(query))&&setPath({storyId:storyId,viewMode:viewMode}),{storyId:storyId,viewMode:viewMode}}},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(870),parse=__webpack_require__(871),formats=__webpack_require__(393);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(225),formats=__webpack_require__(393),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},comma:"comma",indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}},isArray=Array.isArray,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset){var obj=object;if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=obj.join(",")),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset,"key"):prefix;obj=""}if(function isNonNullishPrimitive(v){return"string"==typeof v||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v}(obj)||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset,"key"))+"="+formatter(encoder(obj,defaults.encoder,charset,"value"))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(isArray(obj)?pushToArray(values,stringify(obj[key],"function"==typeof generateArrayPrefix?generateArrayPrefix(prefix,key):prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)):pushToArray(values,stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)))}return values};module.exports=function(object,opts){var objKeys,obj=object,options=function normalizeStringifyOptions(opts){if(!opts)return defaults;if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var formatter=formats.formatters[format],filter=defaults.filter;return("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,formatter:formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=opts&&opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:opts&&"indices"in opts?opts.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];options.skipNulls&&null===obj[key]||pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.formatter,options.encodeValuesOnly,options.charset))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(225),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))})},parseKeys=function parseQueryStringKeys(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=options.depth>0&&/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;options.depth>0&&null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options){for(var leaf=val,i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=[].concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);options.parseArrays||""!==cleanRoot?!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:obj[cleanRoot]=leaf:obj={0:leaf}}leaf=obj}return leaf}(keys,val,options)}};module.exports=function(str,opts){var options=function normalizeParseOptions(opts){if(!opts)return defaults;if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var charset=void 0===opts.charset?defaults.charset:opts.charset;return{allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth||!1===opts.depth?+opts.depth:defaults.depth,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);if(""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function parseQueryStringValues(str,options){var i,obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset,"key"),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset,"key"),val=options.decoder(part.slice(pos+1),defaults.decoder,charset,"value")),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(val)),val&&"string"==typeof val&&options.comma&&val.indexOf(",")>-1&&(val=val.split(",")),part.indexOf("[]=")>-1&&(val=isArray(val)?[val]:val),has.call(obj,key)?obj[key]=utils.combine(obj[key],val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoDocs=void 0;var _react=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(1));var _ref=_react.default.createElement("div",{style:{fontSize:"14px",letterSpacing:"0.2px",margin:"10px 0"},className:"sb-nodocs sb-wrapper"},_react.default.createElement("div",{style:{margin:"auto",padding:"30px",borderRadius:"10px",background:"rgba(0,0,0,0.03)"}},_react.default.createElement("h1",{style:{textAlign:"center"}},"No Docs"),_react.default.createElement("p",null,"Sorry, but there are no docs for the selected story. To add them, set the story's"," ",_react.default.createElement("code",null,"docs")," parameter. If you think this is an error:"),_react.default.createElement("ul",null,_react.default.createElement("li",null,"Please check the story definition."),_react.default.createElement("li",null,"Please check the Storybook config."),_react.default.createElement("li",null,"Try reloading the page.")),_react.default.createElement("p",null,"If the problem persists, check the browser console, or the terminal you've run Storybook from."))),NoDocs=function NoDocs(){return _ref};exports.NoDocs=NoDocs,NoDocs.displayName="NoDocs"},function(module,exports,__webpack_require__){"use strict";var _global=__webpack_require__(43);if(_global.window&&_global.window.parent!==_global.window)try{_global.window.__REACT_DEVTOOLS_GLOBAL_HOOK__=_global.window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__}catch(error){}_global.window&&(_global.window.STORYBOOK_ENV="react")},function(module,exports,__webpack_require__){"use strict";__webpack_require__(34),__webpack_require__(41),__webpack_require__(42),__webpack_require__(23),__webpack_require__(29),__webpack_require__(371),__webpack_require__(73),__webpack_require__(197),__webpack_require__(372),__webpack_require__(24),__webpack_require__(118),__webpack_require__(46),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function renderMain(_ref){var StoryFn,showMain,showException,forceRender,element;return regeneratorRuntime.async(function renderMain$(_context){for(;;)switch(_context.prev=_context.next){case 0:return StoryFn=_ref.storyFn,showMain=_ref.showMain,showException=_ref.showException,forceRender=_ref.forceRender,element=_react.default.createElement(ErrorBoundary,{showMain:showMain,showException:showException},_react.default.createElement(StoryFn,null)),forceRender||_reactDom.default.unmountComponentAtNode(rootEl),_context.next=5,regeneratorRuntime.awrap(render(element,rootEl));case 5:case"end":return _context.stop()}})},__webpack_require__(875);var _global=__webpack_require__(43),_react=_interopRequireDefault(__webpack_require__(1)),_reactDom=_interopRequireDefault(__webpack_require__(151));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var rootEl=_global.document?_global.document.getElementById("root"):null,render=function render(node,el){return new Promise(function(resolve){_reactDom.default.render(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).STORYBOOK_EXAMPLE_APP?_react.default.createElement(_react.default.StrictMode,null,node):node,el,resolve)})},ErrorBoundary=function(_React$Component){function ErrorBoundary(){var _getPrototypeOf2,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ErrorBoundary);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ErrorBoundary)).call.apply(_getPrototypeOf2,[this].concat(args)))).state={hasError:!1},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ErrorBoundary,_react["default"].Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ErrorBoundary,[{key:"componentDidMount",value:function componentDidMount(){var hasError=this.state.hasError,showMain=this.props.showMain;hasError||showMain()}},{key:"componentDidCatch",value:function componentDidCatch(err){(0,this.props.showException)(err)}},{key:"render",value:function render(){var hasError=this.state.hasError,children=this.props.children;return hasError?null:children}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(){return{hasError:!0}}}]),ErrorBoundary}()},function(module,exports){!function(global){"use strict";var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)inModule&&(module.exports=runtime);else{(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){var previousPromise;this._invoke=function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},,function(module,exports){function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return"function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?module.exports=_typeof=function _typeof(obj){return _typeof2(obj)}:module.exports=_typeof=function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)},_typeof(obj)}module.exports=_typeof},function(module,exports){function _setPrototypeOf(o,p){return module.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}module.exports=_setPrototypeOf},function(module,exports){module.exports=function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}},function(module,exports){module.exports=function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}},function(module,exports){module.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(883);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(module,exports){function _typeof(obj){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?module.exports=_typeof=function _typeof(obj){return typeof obj}:module.exports=_typeof=function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}module.exports=_typeof},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,definition){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var noop=function(){},undefinedType="undefined",isIE=typeof window!==undefinedType&&/Trident\/|MSIE /.test(window.navigator.userAgent),logMethods=["trace","debug","info","warn","error"];function bindMethod(obj,methodName){var method=obj[methodName];if("function"==typeof method.bind)return method.bind(obj);try{return Function.prototype.bind.call(method,obj)}catch(e){return function(){return Function.prototype.apply.apply(method,[obj,arguments])}}}function traceForIE(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function replaceLoggingMethods(level,loggerName){for(var i=0;i<logMethods.length;i++){var methodName=logMethods[i];this[methodName]=i<level?noop:this.methodFactory(methodName,level,loggerName)}this.log=this.debug}function defaultMethodFactory(methodName,level,loggerName){return function realMethod(methodName){return"debug"===methodName&&(methodName="log"),typeof console!==undefinedType&&("trace"===methodName&&isIE?traceForIE:void 0!==console[methodName]?bindMethod(console,methodName):void 0!==console.log?bindMethod(console,"log"):noop)}(methodName)||function enableLoggingWhenConsoleArrives(methodName,level,loggerName){return function(){typeof console!==undefinedType&&(replaceLoggingMethods.call(this,level,loggerName),this[methodName].apply(this,arguments))}}.apply(this,arguments)}function Logger(name,defaultLevel,factory){var currentLevel,self=this,storageKey="loglevel";function getPersistedLevel(){var storedLevel;if(typeof window!==undefinedType){try{storedLevel=window.localStorage[storageKey]}catch(ignore){}if(typeof storedLevel===undefinedType)try{var cookie=window.document.cookie,location=cookie.indexOf(encodeURIComponent(storageKey)+"=");-1!==location&&(storedLevel=/^([^;]+)/.exec(cookie.slice(location))[1])}catch(ignore){}return void 0===self.levels[storedLevel]&&(storedLevel=void 0),storedLevel}}name&&(storageKey+=":"+name),self.name=name,self.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},self.methodFactory=factory||defaultMethodFactory,self.getLevel=function(){return currentLevel},self.setLevel=function(level,persist){if("string"==typeof level&&void 0!==self.levels[level.toUpperCase()]&&(level=self.levels[level.toUpperCase()]),!("number"==typeof level&&level>=0&&level<=self.levels.SILENT))throw"log.setLevel() called with invalid level: "+level;if(currentLevel=level,!1!==persist&&function persistLevelIfPossible(levelNum){var levelName=(logMethods[levelNum]||"silent").toUpperCase();if(typeof window!==undefinedType){try{return void(window.localStorage[storageKey]=levelName)}catch(ignore){}try{window.document.cookie=encodeURIComponent(storageKey)+"="+levelName+";"}catch(ignore){}}}(level),replaceLoggingMethods.call(self,level,name),typeof console===undefinedType&&level<self.levels.SILENT)return"No console available for logging"},self.setDefaultLevel=function(level){getPersistedLevel()||self.setLevel(level,!1)},self.enableAll=function(persist){self.setLevel(self.levels.TRACE,persist)},self.disableAll=function(persist){self.setLevel(self.levels.SILENT,persist)};var initialLevel=getPersistedLevel();null==initialLevel&&(initialLevel=null==defaultLevel?"WARN":defaultLevel),self.setLevel(initialLevel,!1)}var defaultLogger=new Logger,_loggersByName={};defaultLogger.getLogger=function getLogger(name){if("string"!=typeof name||""===name)throw new TypeError("You must supply a name when creating a logger.");var logger=_loggersByName[name];return logger||(logger=_loggersByName[name]=new Logger(name,defaultLogger.getLevel(),defaultLogger.methodFactory)),logger};var _log=typeof window!==undefinedType?window.log:void 0;return defaultLogger.noConflict=function(){return typeof window!==undefinedType&&window.log===defaultLogger&&(window.log=_log),defaultLogger},defaultLogger.getLoggers=function getLoggers(){return _loggersByName},defaultLogger})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){"use strict";var data=__webpack_require__(887);var REPLACE_RE=RegExp(Object.keys(data).map(function escapeRegexp(str){return str.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}).join("|"),"g");function replace_fn(match){return data[match]}module.exports=function unhomoglyph(str){return str.replace(REPLACE_RE,replace_fn)}},function(module){module.exports=JSON.parse('{"0":"O","1":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","\\u2028":" ","\\u2029":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":"_","":"_","":"_","":"_","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-.","":"","":",","":",","":",","":",","":",","":"","":"","":";","":"","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":"::=","":":","":"!","":"!","":"!","":"!!","":"!?","":"?","":"?","":"?","":"?","":"?","":"?!","":"??","":"","":".","":".","":".","":".","":".","":".","":".","":".","":".","":".,","":"..","":"..","":"...","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"<","":">","":">","":">","":"4","":"b","":"b","":"d","":"J","":"L","":"P","":"U","":"V","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","`":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'\'","\\"":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'\'","":"\'\'\'","":"\'\'\'\'","":"\'B","":"\'D","":"\'n","":"\'P","":"\'T","":"\'Y","":"(","":"(","":"(","":"(","":"(","":"((","":"()","":"(2)","":"(2O)","":"(3)","":"(4)","":"(5)","":"(6)","":"(7)","":"(8)","":"(9)","":"(a)","":"(A)","":"(b)","":"(B)","":"(c)","":"(C)","":"(d)","":"(D)","":"(e)","":"(E)","":"(f)","":"(F)","":"(g)","":"(G)","":"(h)","":"(H)","":"(i)","":"(j)","":"(J)","":"(k)","":"(K)","":"(l)","":"(l)","":"(l)","":"(L)","":"(l2)","":"(l3)","":"(l4)","":"(l5)","":"(l6)","":"(l7)","":"(l8)","":"(l9)","":"(ll)","":"(lO)","":"(M)","":"(n)","":"(N)","":"(o)","":"(O)","":"(p)","":"(P)","":"(q)","":"(Q)","":"(r)","":"(R)","":"(rn)","":"(s)","":"(S)","":"(S)","":"(t)","":"(T)","":"(u)","":"(U)","":"(v)","":"(V)","":"(w)","":"(W)","":"(x)","":"(X)","":"(y)","":"(Y)","":"(z)","":"(Z)","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":")","":")","":")","":")","":")","":"))","":"{","":"{","":"}","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"*","":"*","":"*","":"*","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"//","":"///","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\\\\\","":"\\\\\\\\","":"\\\\","":"&","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"^","":"^","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"b","":"bi","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"C","":"F","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<<","":"<<<","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"==","":"===","":"=","":">","":">","":">","":">","":">","":">","":">","":"><","":">>","":">>","":">>>","":"~","":"~","":"~","":"~","":"~","":"~","":"~","":"~","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"","":"","":"","":"","":"","":"","":"2","":"2,","":"2.","":"22","":"22","":"23","":"23","":"24","":"24","":"25","":"26","":"27","":"28","":"29","":"2l","":"2l","":"2O.","":"2O","":"2O","":"","":"","":"2","":"2","":"2","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"","":"","":"","":"","":"3","":"3,","":"3.","":"3l","":"3O","":"3","":"3","":"3","":"4","":"4","":"4","":"4","":"4","":"4","":"4","":"","":"","":"","":"4,","":"4.","":"4","":"4","":"4","":"4","":"5","":"5","":"5","":"5","":"5","":"5","":"5","":"","":"5,","":"5.","":"5","":"5","":"5","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"","":"","":"","":"6,","":"6.","":"6","":"6","":"6","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"","":"7,","":"7.","":"7","":"7","":"7","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"","":"","":"8,","":"8.","":"8","":"8","":"8","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"","":"","":"","":"","":"","":"9,","":"9.","":"9","":"9","":"9","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"","":"","":"","":"","":"","":"a/c","":"a/s","":"aa","":"AA","":"ae","":"ae","":"AE","":"AE","":"ao","":"AO","":"AR","":"au","":"AU","":"av","":"av","":"AV","":"AV","":"ay","":"AY","":"","":"","":"","":"","":"","":"","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b\'","":"bl","":"","":"","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"c","":"c","":"C","":"c","":"c","":"C","":"C","":"C\'","":"c/o","":"c/u","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"d","":"d","":"d","":"d","":"D","":"D","":"D","":"d","":"","":"d","":"d\'","":"d","":"dz","":"dz","":"Dz","":"DZ","":"d","":"D","":"D","":"d","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"","":"","":"e","":"E","":"e","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"f","":"F","":"f","":"FAX","":"ff","":"ffi","":"ffl","":"fi","":"fl","":"f","":"","":"","":"","":"","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"","":"g","":"","":"","":"","":"g","":"G","":"G\'","":"","":"","":"","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"","":"h","":"h","":"h","":"H","":"H","":"h","":"h","":"h","":"H","":"H","":"H","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"","":"i","":"","":"","":"i","":"i","":"i","":"ii","":"iii","":"ij","":"iv","":"ix","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"j","":"J","":"J","":"","":"","":"","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"k","":"K","":"K","":"K","":"K","":"K","":"K\'","":"l","|":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","I":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"L","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l,","":"l.","":"l\'","":"l2.","":"l2","":"l2","":"l2","":"l3.","":"l3","":"l3","":"l4.","":"l4","":"l4","":"l5.","":"l5","":"l5","":"l6.","":"l6","":"l6","":"l7.","":"l7","":"l7","":"l8.","":"l8","":"l8","":"l9.","":"l9","":"l9","":"lj","":"lJ","":"Lj","":"LJ","":"ll","":"ll","":"ll","":"ll","":"ll","":"ll","":"ll.","":"lll","":"llS","":"ll","":"ll","":"ll","":"lO","":"lO.","":"lO","":"lO","":"lO","":"ls","":"lt","":"lV","":"lX","":"l","":"lz","":"l","":"l","":"l","":"l","":"l","":"l","":"lo","":"l","":"l","":"l","":"","":"","":"","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"MB","":"","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"N","":"n","":"nj","":"Nj","":"NJ","":"No","":"","":"","":"","":"","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"","":"","":"","":"","":"o","":"","":"o","":"o","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"O,","":"O.","":"o\'","":"O\'","":"O\'","%":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"oe","":"OE","":"o","":"oo","":"oo","":"oo","":"OO","":"OO","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oo","":"o","":"O","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"e","":"","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"p","":"p","":"p","":"P\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"q","":"QE","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"r","":"r","":"r","":"r","":"r","":"r\'","":"rn","m":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"Rs","":"","":"","":"","":"","":"","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"s","":"s","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"sss","":"st","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"t","":"T","":"T","":"","":"T","":"T","":"T","":"t","":"T","":"t","":"","":"T3","":"t","":"TEL","":"tf","":"ts","":"t","":"t","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"","":"","":"u","":"u","":"U","":"U","":"U","":"U\'","":"ue","":"uo","":"","":"","":"","":"","":"","":"","":"","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VB","":"vi","":"vii","":"viii","":"Vl","":"Vll","":"Vlll","":"V","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"w","":"w","":"W","":"w","":"","":"","":"","":"","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"x","":"X","":"X","":"xi","":"xii","":"Xl","":"Xll","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"y","":"y","":"y","":"Y","":"Y","":"Y","":"","":"","":"","":"","":"","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"z","":"z","":"Z","":"z","":"Z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"i","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":" lo","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":" lo o ","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"l","":"l","":"l","":"l","":"l","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"l","":"l","":"o","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"/","":"","":"","":"","":"","":"","":"\'","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"<","":"b","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"b","":"b","":"d","":"P","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"J","":"","":"","":"","":"","":"","":"","":"","":"J","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}')},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.MatrixScheduler=MatrixScheduler;var utils=_interopRequireWildcard(__webpack_require__(5)),_logger=__webpack_require__(2);const DEBUG=!1;function MatrixScheduler(retryAlgorithm,queueAlgorithm){this.retryAlgorithm=retryAlgorithm||MatrixScheduler.RETRY_BACKOFF_RATELIMIT,this.queueAlgorithm=queueAlgorithm||MatrixScheduler.QUEUE_MESSAGES,this._queues={},this._activeQueues=[],this._procFn=null}function _startProcessingQueues(scheduler){scheduler._procFn&&utils.forEach(utils.filter(utils.keys(scheduler._queues),function(queueName){return-1===scheduler._activeQueues.indexOf(queueName)&&scheduler._queues[queueName].length>0}),function(queueName){scheduler._activeQueues.push(queueName),debuglog("Spinning up queue: '%s'",queueName),function _processQueue(scheduler,queueName){const obj=function _peekNextEvent(scheduler,queueName){const queue=scheduler._queues[queueName];if(!utils.isArray(queue))return null;return queue[0]}(scheduler,queueName);if(!obj){const index=scheduler._activeQueues.indexOf(queueName);return index>=0&&scheduler._activeQueues.splice(index,1),void debuglog("Stopping queue '%s' as it is now empty",queueName)}debuglog("Queue '%s' has %s pending events",queueName,scheduler._queues[queueName].length);Promise.resolve().then(()=>scheduler._procFn(obj.event)).then(function(res){_removeNextEvent(scheduler,queueName),debuglog("Queue '%s' sent event %s",queueName,obj.event.getId()),obj.defer.resolve(res),_processQueue(scheduler,queueName)},function(err){obj.attempts+=1;const waitTimeMs=scheduler.retryAlgorithm(obj.event,obj.attempts,err);debuglog("retry(%s) err=%s event_id=%s waitTime=%s",obj.attempts,err,obj.event.getId(),waitTimeMs),-1===waitTimeMs?(debuglog("Queue '%s' giving up on event %s",queueName,obj.event.getId()),_removeNextEvent(scheduler,queueName),obj.defer.reject(err),_processQueue(scheduler,queueName)):setTimeout(function(){_processQueue(scheduler,queueName)},waitTimeMs)})}(scheduler,queueName)})}function _removeNextEvent(scheduler,queueName){const queue=scheduler._queues[queueName];return utils.isArray(queue)?queue.shift():null}function debuglog(){DEBUG&&_logger.logger.log(...arguments)}MatrixScheduler.prototype.getQueueForEvent=function(event){const name=this.queueAlgorithm(event);return name&&this._queues[name]?utils.map(this._queues[name],function(obj){return obj.event}):null},MatrixScheduler.prototype.removeEventFromQueue=function(event){const name=this.queueAlgorithm(event);if(!name||!this._queues[name])return!1;let removed=!1;return utils.removeElement(this._queues[name],function(element){if(element.event.getId()===event.getId())return removed=!0,!0}),removed},MatrixScheduler.prototype.setProcessFunction=function(fn){this._procFn=fn,_startProcessingQueues(this)},MatrixScheduler.prototype.queueEvent=function(event){const queueName=this.queueAlgorithm(event);if(!queueName)return null;this._queues[queueName]||(this._queues[queueName]=[]);const defer=utils.defer();return this._queues[queueName].push({event:event,defer:defer,attempts:0}),debuglog("Queue algorithm dumped event %s into queue '%s'",event.getId(),queueName),_startProcessingQueues(this),defer.promise},MatrixScheduler.RETRY_BACKOFF_RATELIMIT=function(event,attempts,err){if(400===err.httpStatus||403===err.httpStatus||401===err.httpStatus)return-1;if("rejected"===err.cors)return-1;if("M_TOO_LARGE"===err.name)return-1;if("M_LIMIT_EXCEEDED"===err.name){const waitTime=err.data.retry_after_ms;if(waitTime)return waitTime}return attempts>4?-1:1e3*Math.pow(2,attempts)},MatrixScheduler.QUEUE_MESSAGES=function(event){return"m.room.message"===event.getType()||event.hasAssocation()?"message":null}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4),_interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0}),exports.MatrixClient=MatrixClient,exports.CRYPTO_ENABLED=void 0;var _url=_interopRequireDefault(__webpack_require__(228)),_events=__webpack_require__(18),_baseApis=__webpack_require__(895),_filter=__webpack_require__(230),_sync=__webpack_require__(899),_event=__webpack_require__(54),_eventTimeline=__webpack_require__(76),_searchResult=__webpack_require__(903),_stub=__webpack_require__(905),_call=__webpack_require__(401),utils=_interopRequireWildcard(__webpack_require__(5)),_httpApi=__webpack_require__(147),_contentRepo=__webpack_require__(148),ContentHelpers=_interopRequireWildcard(__webpack_require__(402)),olmlib=_interopRequireWildcard(__webpack_require__(64)),_ReEmitter=__webpack_require__(232),_RoomList=__webpack_require__(909),_logger=__webpack_require__(2),_crypto=__webpack_require__(912),_recoverykey=__webpack_require__(409),_key_passphrase=__webpack_require__(408),_randomstring=__webpack_require__(150),_pushprocessor=__webpack_require__(229);const CRYPTO_ENABLED=(0,_crypto.isCryptoAvailable)();exports.CRYPTO_ENABLED=CRYPTO_ENABLED;function keysFromRecoverySession(sessions,decryptionKey,roomId){const keys=[];for(const[sessionId,sessionData]of Object.entries(sessions))try{const decrypted=keyFromRecoverySession(sessionData,decryptionKey);decrypted.session_id=sessionId,decrypted.room_id=roomId,keys.push(decrypted)}catch(e){_logger.logger.log("Failed to decrypt megolm session from backup",e)}return keys}function keyFromRecoverySession(session,decryptionKey){return JSON.parse(decryptionKey.decrypt(session.session_data.ephemeral,session.session_data.mac,session.session_data.ciphertext))}function MatrixClient(opts){opts.baseUrl=utils.ensureNoTrailingSlash(opts.baseUrl),opts.idBaseUrl=utils.ensureNoTrailingSlash(opts.idBaseUrl),_baseApis.MatrixBaseApis.call(this,opts),this.olmVersion=null,this.reEmitter=new _ReEmitter.ReEmitter(this),this.store=opts.store||new _stub.StubStore,this.deviceId=opts.deviceId||null;const userId=opts.userId||null;if(this.credentials={userId:userId},this.scheduler=opts.scheduler,this.scheduler){const self=this;this.scheduler.setProcessFunction(function(eventToSend){const room=self.getRoom(eventToSend.getRoomId());return eventToSend.status!==_event.EventStatus.SENDING&&_updatePendingEventStatus(room,eventToSend,_event.EventStatus.SENDING),_sendEventHttpRequest(self,eventToSend)})}this.clientRunning=!1,this.callList={};const call=(0,_call.createNewMatrixCall)(this);this._supportsVoip=!1,call&&(!function setupCallEventHandler(client){const candidatesByCall={};let callEventBuffer=[];function evaluateEventBuffer(){if("SYNCING"===client.getSyncState()){if(callEventBuffer.some(e=>e.isBeingDecrypted()))return;const ignoreCallIds={};for(let i=callEventBuffer.length-1;i>=0;i--){const ev=callEventBuffer[i];"m.call.answer"!==ev.getType()&&"m.call.hangup"!==ev.getType()||(ignoreCallIds[ev.getContent().call_id]="yep")}callEventBuffer.forEach(function(e){"m.call.invite"===e.getType()&&ignoreCallIds[e.getContent().call_id]||callEventHandler(e)}),callEventBuffer=[]}}function callEventHandler(event){const content=event.getContent();let i,call=content.call_id?client.callList[content.call_id]:void 0;if("m.call.invite"===event.getType()){if(event.getSender()===client.credentials.userId)return;if(event.getAge()>content.lifetime)return;if(call&&"ended"===call.state)return;if(call&&_logger.logger.log("WARN: Already have a MatrixCall with id %s but got an invite. Clobbering.",content.call_id),!(call=(0,_call.createNewMatrixCall)(client,event.getRoomId(),{forceTURN:client._forceTURN})))return void _logger.logger.log("Incoming call ID "+content.call_id+" but this client doesn't support WebRTC");if(call.callId=content.call_id,call._initWithInvite(event),client.callList[call.callId]=call,candidatesByCall[call.callId])for(i=0;i<candidatesByCall[call.callId].length;i++)call._gotRemoteIceCandidate(candidatesByCall[call.callId][i]);let existingCall;const existingCalls=utils.values(client.callList);for(i=0;i<existingCalls.length;++i){const thisCall=existingCalls[i];if(call.roomId===thisCall.roomId&&"outbound"===thisCall.direction&&-1!==["wait_local_media","create_offer","invite_sent"].indexOf(thisCall.state)){existingCall=thisCall;break}}existingCall?"wait_local_media"===existingCall.state||"create_offer"===existingCall.state||existingCall.callId>call.callId?(_logger.logger.log("Glare detected: answering incoming call "+call.callId+" and canceling outgoing call "+existingCall.callId),existingCall._replacedBy(call),call.answer()):(_logger.logger.log("Glare detected: rejecting incoming call "+call.callId+" and keeping outgoing call "+existingCall.callId),call.hangup()):client.emit("Call.incoming",call)}else if("m.call.answer"===event.getType()){if(!call)return;event.getSender()===client.credentials.userId?"ringing"===call.state&&call._onAnsweredElsewhere(content):call._receivedAnswer(content)}else if("m.call.candidates"===event.getType()){if(event.getSender()===client.credentials.userId)return;if(call)for(i=0;i<content.candidates.length;i++)call._gotRemoteIceCandidate(content.candidates[i]);else candidatesByCall[content.call_id]||(candidatesByCall[content.call_id]=[]),candidatesByCall[content.call_id]=candidatesByCall[content.call_id].concat(content.candidates)}else"m.call.hangup"===event.getType()&&(call?"ended"!==call.state&&(call._onHangupReceived(content),delete client.callList[content.call_id]):(call=(0,_call.createNewMatrixCall)(client,event.getRoomId()))&&(call.callId=content.call_id,call._initWithHangup(event),client.callList[content.call_id]=call))}client.on("sync",evaluateEventBuffer),client.on("event",function onEvent(event){(0===event.getType().indexOf("m.call.")||event.isBeingDecrypted())&&callEventBuffer.push(event),(event.isBeingDecrypted()||event.isDecryptionFailure())&&event.once("Event.decrypted",()=>{-1!==event.getType().indexOf("m.call.")&&(callEventBuffer.includes(event)?evaluateEventBuffer():callEventHandler(event))})})}(this),this._supportsVoip=!0),this._syncingRetry=null,this._syncApi=null,this._peekSync=null,this._isGuest=!1,this._ongoingScrollbacks={},this.timelineSupport=Boolean(opts.timelineSupport),this.urlPreviewCache={},this._notifTimelineSet=null,this.unstableClientRelationAggregation=!!opts.unstableClientRelationAggregation,this._crypto=null,this._cryptoStore=opts.cryptoStore,this._sessionStore=opts.sessionStore,this._verificationMethods=opts.verificationMethods,this._cryptoCallbacks=opts.cryptoCallbacks||{},this._forceTURN=opts.forceTURN||!1,this._fallbackICEServerAllowed=opts.fallbackICEServerAllowed||!1,this._roomList=new _RoomList.RoomList(this._cryptoStore),this._pushProcessor=new _pushprocessor.PushProcessor(this),this._serverVersionsCache=null,this._cachedCapabilities=null,this.on("Event.decrypted",event=>{const oldActions=event.getPushActions(),actions=this._pushProcessor.actionsForEvent(event);event.setPushActions(actions);const room=this.getRoom(event.getRoomId());if(!room)return;const currentCount=room.getUnreadNotificationCount("highlight"),oldHighlight=!(!oldActions||!oldActions.tweaks)&&!!oldActions.tweaks.highlight,newHighlight=!(!actions||!actions.tweaks)&&!!actions.tweaks.highlight;if((oldHighlight!==newHighlight||currentCount>0)&&!room.hasUserReadEvent(this.getUserId(),event.getId())){let newCount=currentCount;newHighlight&&!oldHighlight&&newCount++,!newHighlight&&oldHighlight&&newCount--,room.setUnreadNotificationCount("highlight",newCount),room.getUnreadNotificationCount("total")<newCount&&room.setUnreadNotificationCount("total",newCount)}}),this.on("Room.receipt",(event,room)=>{if(room&&this.isRoomEncrypted(room.roomId)){const content=event.getContent();if(!(Object.keys(content).filter(eid=>Object.keys(content[eid]["m.read"]).includes(this.getUserId())).length>0))return;const maxHistory=20,events=room.getLiveTimeline().getEvents();let highlightCount=0;for(let i=events.length-1;i>=0;i--){if(i===events.length-maxHistory)return;const event=events[i];if(room.hasUserReadEvent(this.getUserId(),event.getId()))break;highlightCount+=this.getPushActionsForEvent(event).tweaks.highlight?1:0}room.setUnreadNotificationCount("highlight",highlightCount)}})}async function _setDeviceVerification(client,userId,deviceId,verified,blocked,known){if(!client._crypto)throw new Error("End-to-End encryption disabled");await client._crypto.setDeviceVerification(userId,deviceId,verified,blocked,known)}function wrapCryptoFuncs(MatrixClient,names){for(const name of names)MatrixClient.prototype[name]=function(...args){if(!this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto[name](...args)}}function _sendEvent(client,room,event,callback){return Promise.resolve().then(function(){const encryptionPromise=function _encryptEventIfNeeded(client,event,room){if(event.isEncrypted())return null;if(!client.isRoomEncrypted(event.getRoomId()))return null;if("m.reaction"===event.getType())return null;if(!client._crypto)throw new Error("This room is configured to use encryption, but your client does not support encryption.");return client._crypto.encryptEvent(event,room)}(client,event,room);return encryptionPromise?(_updatePendingEventStatus(room,event,_event.EventStatus.ENCRYPTING),encryptionPromise.then(()=>{_updatePendingEventStatus(room,event,_event.EventStatus.SENDING)})):null}).then(function(){let promise;return client.scheduler&&(promise=client.scheduler.queueEvent(event))&&client.scheduler.getQueueForEvent(event).length>1&&_updatePendingEventStatus(room,event,_event.EventStatus.QUEUED),promise||(promise=_sendEventHttpRequest(client,event)),promise}).then(function(res){return room&&room.updatePendingEvent(event,_event.EventStatus.SENT,res.event_id),callback&&callback(null,res),res},function(err){_logger.logger.error("Error sending event",err.stack||err);try{event.error=err,_updatePendingEventStatus(room,event,_event.EventStatus.NOT_SENT),err.event=event,callback&&callback(err)}catch(err2){_logger.logger.error("Exception in error handler!",err2.stack||err)}throw err})}function _updatePendingEventStatus(room,event,newStatus){room?room.updatePendingEvent(event,newStatus):event.setStatus(newStatus)}function _sendEventHttpRequest(client,event){const txnId=event._txnId?event._txnId:client.makeTxnId(),pathParams={$roomId:event.getRoomId(),$eventType:event.getWireType(),$stateKey:event.getStateKey(),$txnId:txnId};let path;if(event.isState()){let pathTemplate="/rooms/$roomId/state/$eventType";event.getStateKey()&&event.getStateKey().length>0&&(pathTemplate="/rooms/$roomId/state/$eventType/$stateKey"),path=utils.encodeUri(pathTemplate,pathParams)}else if(event.isRedaction()){const pathTemplate="/rooms/$roomId/redact/$redactsEventId/$txnId";path=utils.encodeUri(pathTemplate,Object.assign({$redactsEventId:event.event.redacts},pathParams))}else path=utils.encodeUri("/rooms/$roomId/send/$eventType/$txnId",pathParams);return client._http.authedRequest(void 0,"PUT",path,void 0,event.getWireContent()).then(res=>(_logger.logger.log(`Event sent to ${event.getRoomId()} with event id ${res.event_id}`),res))}function _membershipChange(client,roomId,userId,membership,reason,callback){utils.isFunction(reason)&&(callback=reason,reason=void 0);const path=utils.encodeUri("/rooms/$room_id/$membership",{$room_id:roomId,$membership:membership});return client._http.authedRequest(callback,"POST",path,void 0,{user_id:userId,reason:reason})}function _presenceList(callback,client,opts,method){const path=utils.encodeUri("/presence/list/$userId",{$userId:client.credentials.userId});return client._http.authedRequest(callback,method,path,void 0,opts)}function _reject(callback,reject,err){callback&&callback(err),reject(err)}function _resolve(callback,resolve,res){callback&&callback(null,res),resolve(res)}function _PojoToMatrixEventMapper(client){return function mapper(plainOldJsObject){const event=new _event.MatrixEvent(plainOldJsObject);event.isEncrypted()&&(client.reEmitter.reEmit(event,["Event.decrypted"]),event.attemptDecryption(client._crypto));const room=client.getRoom(event.getRoomId());return room&&room.reEmitter.reEmit(event,["Event.replaced"]),event}}utils.inherits(MatrixClient,_events.EventEmitter),utils.extend(MatrixClient.prototype,_baseApis.MatrixBaseApis.prototype),MatrixClient.prototype.clearStores=function(){if(this._clientRunning)throw new Error("Cannot clear stores while client is running");const promises=[];return promises.push(this.store.deleteAllData()),this._cryptoStore&&promises.push(this._cryptoStore.deleteAllData()),Promise.all(promises)},MatrixClient.prototype.getUserId=function(){return this.credentials&&this.credentials.userId?this.credentials.userId:null},MatrixClient.prototype.getDomain=function(){return this.credentials&&this.credentials.userId?this.credentials.userId.replace(/^.*?:/,""):null},MatrixClient.prototype.getUserIdLocalpart=function(){return this.credentials&&this.credentials.userId?this.credentials.userId.split(":")[0].substring(1):null},MatrixClient.prototype.getDeviceId=function(){return this.deviceId},MatrixClient.prototype.supportsVoip=function(){return this._supportsVoip},MatrixClient.prototype.setForceTURN=function(forceTURN){this._forceTURN=forceTURN},MatrixClient.prototype.getSyncState=function(){return this._syncApi?this._syncApi.getSyncState():null},MatrixClient.prototype.getSyncStateData=function(){return this._syncApi?this._syncApi.getSyncStateData():null},MatrixClient.prototype.isInitialSyncComplete=function(){const state=this.getSyncState();return!!state&&("PREPAED"===state||"SYNCING"===state)},MatrixClient.prototype.isGuest=function(){return this._isGuest},MatrixClient.prototype.getScheduler=function(){return this.scheduler},MatrixClient.prototype.setGuest=function(isGuest){this._isGuest=isGuest},MatrixClient.prototype.retryImmediately=function(){return this._syncApi.retryImmediately()},MatrixClient.prototype.getNotifTimelineSet=function(){return this._notifTimelineSet},MatrixClient.prototype.setNotifTimelineSet=function(notifTimelineSet){this._notifTimelineSet=notifTimelineSet},MatrixClient.prototype.getCapabilities=function(fresh=!1){const now=(new Date).getTime();return this._cachedCapabilities&&!fresh&&now<this._cachedCapabilities.expiration?(_logger.logger.log("Returning cached capabilities"),Promise.resolve(this._cachedCapabilities.capabilities)):this._http.authedRequest(void 0,"GET","/capabilities").catch(e=>(_logger.logger.error(e),null)).then(r=>{r||(r={});const capabilities=r.capabilities||{},cacheMs=Object.keys(capabilities).length?216e5:6e4+5e3*Math.random();return this._cachedCapabilities={capabilities:capabilities,expiration:now+cacheMs},_logger.logger.log("Caching capabilities: ",capabilities),capabilities})},MatrixClient.prototype.initCrypto=async function(){if(!(0,_crypto.isCryptoAvailable)())throw new Error("End-to-end encryption not supported in this js-sdk build: did you remember to load the olm library?");if(this._crypto)return void _logger.logger.warn("Attempt to re-initialise e2e encryption on MatrixClient");if(!this._sessionStore)throw new Error("Cannot enable encryption: no sessionStore provided");if(!this._cryptoStore)throw new Error("Cannot enable encryption: no cryptoStore provided");_logger.logger.log("Crypto: initialising roomlist..."),await this._roomList.init();const userId=this.getUserId();if(null===userId)throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");if(null===this.deviceId)throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");const crypto=new _crypto.Crypto(this,this._sessionStore,userId,this.deviceId,this.store,this._cryptoStore,this._roomList,this._verificationMethods);this.reEmitter.reEmit(crypto,["crypto.keyBackupFailed","crypto.keyBackupSessionsRemaining","crypto.roomKeyRequest","crypto.roomKeyRequestCancellation","crypto.warning","crypto.devicesUpdated","deviceVerificationChanged","userTrustStatusChanged","crossSigning.keysChanged"]),_logger.logger.log("Crypto: initialising crypto object..."),await crypto.init(),this.olmVersion=_crypto.Crypto.getOlmVersion(),crypto.registerEventHandlers(this),this._crypto=crypto},MatrixClient.prototype.isCryptoEnabled=function(){return null!==this._crypto},MatrixClient.prototype.getDeviceEd25519Key=function(){return this._crypto?this._crypto.getDeviceEd25519Key():null},MatrixClient.prototype.uploadKeys=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.uploadDeviceKeys()},MatrixClient.prototype.downloadKeys=function(userIds,forceDownload){return null===this._crypto?Promise.reject(new Error("End-to-end encryption disabled")):this._crypto.downloadKeys(userIds,forceDownload)},MatrixClient.prototype.getStoredDevicesForUser=async function(userId){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getStoredDevicesForUser(userId)||[]},MatrixClient.prototype.getStoredDevice=async function(userId,deviceId){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getStoredDevice(userId,deviceId)||null},MatrixClient.prototype.setDeviceVerified=function(userId,deviceId,verified){void 0===verified&&(verified=!0);const prom=_setDeviceVerification(this,userId,deviceId,verified,null);return userId==this.credentials.userId&&this._crypto.checkKeyBackup(),prom},MatrixClient.prototype.setDeviceBlocked=function(userId,deviceId,blocked){return void 0===blocked&&(blocked=!0),_setDeviceVerification(this,userId,deviceId,null,blocked)},MatrixClient.prototype.setDeviceKnown=function(userId,deviceId,known){return void 0===known&&(known=!0),_setDeviceVerification(this,userId,deviceId,null,null,known)},MatrixClient.prototype.requestVerificationDM=function(userId,roomId,methods){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.requestVerificationDM(userId,roomId,methods)},MatrixClient.prototype.acceptVerificationDM=function(event,method){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.acceptVerificationDM(event,method)},MatrixClient.prototype.requestVerification=function(userId,methods,devices){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.requestVerification(userId,methods,devices)},MatrixClient.prototype.beginKeyVerification=function(method,userId,deviceId){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.beginKeyVerification(method,userId,deviceId)},MatrixClient.prototype.setGlobalBlacklistUnverifiedDevices=function(value){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.setGlobalBlacklistUnverifiedDevices(value)},MatrixClient.prototype.getGlobalBlacklistUnverifiedDevices=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getGlobalBlacklistUnverifiedDevices()},MatrixClient.prototype.setGlobalErrorOnUnknownDevices=function(value){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.setGlobalErrorOnUnknownDevices(value)},MatrixClient.prototype.getGlobalErrorOnUnknownDevices=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getGlobalErrorOnUnknownDevices()},wrapCryptoFuncs(MatrixClient,["resetCrossSigningKeys","getCrossSigningId","getStoredCrossSigningForUser","checkUserTrust","checkDeviceTrust","checkOwnCrossSigningTrust","checkCrossSigningPrivateKey"]),MatrixClient.prototype.checkEventSenderTrust=async function(event){const device=await this.getEventSenderDeviceInfo(event);return device?await this._crypto.checkDeviceTrust(event.getSender(),device.deviceId):0},wrapCryptoFuncs(MatrixClient,["createRecoveryKeyFromPassphrase","bootstrapSecretStorage","addSecretStorageKey","hasSecretStorageKey","storeSecret","getSecret","isSecretStored","requestSecret","getDefaultSecretStorageKeyId","setDefaultSecretStorageKeyId","checkSecretStoragePrivateKey"]),MatrixClient.prototype.getEventSenderDeviceInfo=async function(event){return this._crypto?this._crypto.getEventSenderDeviceInfo(event):null},MatrixClient.prototype.isEventSenderVerified=async function(event){const device=await this.getEventSenderDeviceInfo(event);return!!device&&device.isVerified()},MatrixClient.prototype.cancelAndResendEventRoomKeyRequest=function(event){return event.cancelAndResendKeyRequest(this._crypto,this.getUserId())},MatrixClient.prototype.setRoomEncryption=function(roomId,config){if(!this._crypto)throw new Error("End-to-End encryption disabled");return this._crypto.setRoomEncryption(roomId,config)},MatrixClient.prototype.isRoomEncrypted=function(roomId){const room=this.getRoom(roomId);return!!room&&(!!room.currentState.getStateEvents("m.room.encryption","")||this._roomList.isRoomEncrypted(roomId))},MatrixClient.prototype.forceDiscardSession=function(roomId){if(!this._crypto)throw new Error("End-to-End encryption disabled");this._crypto.forceDiscardSession(roomId)},MatrixClient.prototype.exportRoomKeys=function(){return this._crypto?this._crypto.exportRoomKeys():Promise.reject(new Error("End-to-end encryption disabled"))},MatrixClient.prototype.importRoomKeys=function(keys){if(!this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.importRoomKeys(keys)},MatrixClient.prototype.checkKeyBackup=function(){return this._crypto.checkKeyBackup()},MatrixClient.prototype.getKeyBackupVersion=function(){return this._http.authedRequest(void 0,"GET","/room_keys/version",void 0,void 0,{prefix:_httpApi.PREFIX_UNSTABLE}).then(res=>{if(res.algorithm!==olmlib.MEGOLM_BACKUP_ALGORITHM){const err="Unknown backup algorithm: "+res.algorithm;return Promise.reject(err)}if("object"==typeof res.auth_data&&res.auth_data.public_key)return res;{const err="Invalid backup data returned";return Promise.reject(err)}}).catch(e=>{if("M_NOT_FOUND"===e.errcode)return null;throw e})},MatrixClient.prototype.isKeyBackupTrusted=function(info){return this._crypto.isKeyBackupTrusted(info)},MatrixClient.prototype.getKeyBackupEnabled=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return Boolean(this._crypto.backupKey)},MatrixClient.prototype.enableKeyBackup=function(info){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo=info,this._crypto.backupKey&&this._crypto.backupKey.free(),this._crypto.backupKey=new global.Olm.PkEncryption,this._crypto.backupKey.set_recipient_key(info.auth_data.public_key),this.emit("crypto.keyBackupStatus",!0),this._crypto.scheduleKeyBackupSend()},MatrixClient.prototype.disableKeyBackup=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo=null,this._crypto.backupKey&&this._crypto.backupKey.free(),this._crypto.backupKey=null,this.emit("crypto.keyBackupStatus",!1)},MatrixClient.prototype.prepareKeyBackupVersion=async function(password,{secureSecretStorage:secureSecretStorage=!1}={}){if(null===this._crypto)throw new Error("End-to-end encryption disabled");const[keyInfo,encodedPrivateKey,privateKey]=await this.createRecoveryKeyFromPassphrase(password);secureSecretStorage&&(await this.storeSecret("m.megolm_backup.v1",(0,olmlib.encodeBase64)(privateKey)),_logger.logger.info("Key backup private key stored in secret storage"));const authData={public_key:keyInfo.pubkey};return keyInfo.passphrase&&(authData.private_key_salt=keyInfo.passphrase.salt,authData.private_key_iterations=keyInfo.passphrase.iterations),{algorithm:olmlib.MEGOLM_BACKUP_ALGORITHM,auth_data:authData,recovery_key:encodedPrivateKey}},MatrixClient.prototype.isKeyBackupKeyStored=async function(){return this.isSecretStored("m.megolm_backup.v1",!1)},MatrixClient.prototype.createKeyBackupVersion=async function(info){if(null===this._crypto)throw new Error("End-to-end encryption disabled");const data={algorithm:info.algorithm,auth_data:info.auth_data};await this._crypto._signObject(data.auth_data),this._cryptoCallbacks.getCrossSigningKey&&this._crypto._crossSigningInfo.getId()&&await this._crypto._crossSigningInfo.signObject(data.auth_data,"master");const res=await this._http.authedRequest(void 0,"POST","/room_keys/version",void 0,data,{prefix:_httpApi.PREFIX_UNSTABLE});return await this.checkKeyBackup(),this.getKeyBackupEnabled()||_logger.logger.error("Key backup not usable even though we just created it"),res},MatrixClient.prototype.deleteKeyBackupVersion=function(version){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo&&this._crypto.backupInfo.version===version&&this.disableKeyBackup();const path=utils.encodeUri("/room_keys/version/$version",{$version:version});return this._http.authedRequest(void 0,"DELETE",path,void 0,void 0,{prefix:_httpApi.PREFIX_UNSTABLE})},MatrixClient.prototype._makeKeyBackupPath=function(roomId,sessionId,version){let path;return{path:path=void 0!==sessionId?utils.encodeUri("/room_keys/keys/$roomId/$sessionId",{$roomId:roomId,$sessionId:sessionId}):void 0!==roomId?utils.encodeUri("/room_keys/keys/$roomId",{$roomId:roomId}):"/room_keys/keys",queryData:void 0===version?void 0:{version:version}}},MatrixClient.prototype.sendKeyBackup=function(roomId,sessionId,version,data){if(null===this._crypto)throw new Error("End-to-end encryption disabled");const path=this._makeKeyBackupPath(roomId,sessionId,version);return this._http.authedRequest(void 0,"PUT",path.path,path.queryData,data,{prefix:_httpApi.PREFIX_UNSTABLE})},MatrixClient.prototype.scheduleAllGroupSessionsForBackup=async function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");await this._crypto.scheduleAllGroupSessionsForBackup()},MatrixClient.prototype.flagAllGroupSessionsForBackup=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.flagAllGroupSessionsForBackup()},MatrixClient.prototype.isValidRecoveryKey=function(recoveryKey){try{return(0,_recoverykey.decodeRecoveryKey)(recoveryKey),!0}catch(e){return!1}},MatrixClient.RESTORE_BACKUP_ERROR_BAD_KEY="RESTORE_BACKUP_ERROR_BAD_KEY",MatrixClient.prototype.restoreKeyBackupWithPassword=async function(password,targetRoomId,targetSessionId,backupInfo){const privKey=await(0,_key_passphrase.keyFromAuthData)(backupInfo.auth_data,password);return this._restoreKeyBackup(privKey,targetRoomId,targetSessionId,backupInfo)},MatrixClient.prototype.restoreKeyBackupWithSecretStorage=async function(backupInfo,targetRoomId,targetSessionId){const privKey=(0,olmlib.decodeBase64)(await this.getSecret("m.megolm_backup.v1"));return this._restoreKeyBackup(privKey,targetRoomId,targetSessionId,backupInfo)},MatrixClient.prototype.restoreKeyBackupWithRecoveryKey=function(recoveryKey,targetRoomId,targetSessionId,backupInfo){const privKey=(0,_recoverykey.decodeRecoveryKey)(recoveryKey);return this._restoreKeyBackup(privKey,targetRoomId,targetSessionId,backupInfo)},MatrixClient.prototype._restoreKeyBackup=function(privKey,targetRoomId,targetSessionId,backupInfo){if(null===this._crypto)throw new Error("End-to-end encryption disabled");let totalKeyCount=0,keys=[];const path=this._makeKeyBackupPath(targetRoomId,targetSessionId,backupInfo.version),decryption=new global.Olm.PkDecryption;let backupPubKey;try{backupPubKey=decryption.init_with_private_key(privKey)}catch(e){throw decryption.free(),e}return backupPubKey!==backupInfo.auth_data.public_key?Promise.reject({errcode:MatrixClient.RESTORE_BACKUP_ERROR_BAD_KEY}):this._http.authedRequest(void 0,"GET",path.path,path.queryData,void 0,{prefix:_httpApi.PREFIX_UNSTABLE}).then(res=>{if(res.rooms)for(const[roomId,roomData]of Object.entries(res.rooms)){if(!roomData.sessions)continue;totalKeyCount+=Object.keys(roomData.sessions).length;const roomKeys=keysFromRecoverySession(roomData.sessions,decryption,roomId);for(const k of roomKeys)k.room_id=roomId,keys.push(k)}else if(res.sessions)totalKeyCount=Object.keys(res.sessions).length,keys=keysFromRecoverySession(res.sessions,decryption,targetRoomId);else{totalKeyCount=1;try{const key=keyFromRecoverySession(res,decryption);key.room_id=targetRoomId,key.session_id=targetSessionId,keys.push(key)}catch(e){_logger.logger.log("Failed to decrypt megolm session from backup",e)}}return this.importRoomKeys(keys)}).then(()=>this._crypto.setTrustedBackupPubKey(backupPubKey)).then(()=>({total:totalKeyCount,imported:keys.length})).finally(()=>{decryption.free()})},MatrixClient.prototype.deleteKeysFromBackup=function(roomId,sessionId,version){if(null===this._crypto)throw new Error("End-to-end encryption disabled");const path=this._makeKeyBackupPath(roomId,sessionId,version);return this._http.authedRequest(void 0,"DELETE",path.path,path.queryData,void 0,{prefix:_httpApi.PREFIX_UNSTABLE})},MatrixClient.prototype.getGroup=function(groupId){return this.store.getGroup(groupId)},MatrixClient.prototype.getGroups=function(){return this.store.getGroups()},MatrixClient.prototype.getMediaConfig=function(callback){return this._http.authedRequest(callback,"GET","/config",void 0,void 0,{prefix:_httpApi.PREFIX_MEDIA_R0})},MatrixClient.prototype.getRoom=function(roomId){return this.store.getRoom(roomId)},MatrixClient.prototype.getRooms=function(){return this.store.getRooms()},MatrixClient.prototype.getVisibleRooms=function(){const allRooms=this.store.getRooms(),replacedRooms=new Set;for(const r of allRooms){const createEvent=r.currentState.getStateEvents("m.room.create","");if(createEvent){const predecessor=createEvent.getContent().predecessor;predecessor&&predecessor.room_id&&replacedRooms.add(predecessor.room_id)}}return allRooms.filter(r=>{return!r.currentState.getStateEvents("m.room.tombstone","")||!replacedRooms.has(r.roomId)})},MatrixClient.prototype.getUser=function(userId){return this.store.getUser(userId)},MatrixClient.prototype.getUsers=function(){return this.store.getUsers()},MatrixClient.prototype.setAccountData=function(eventType,contents,callback){const path=utils.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:eventType});return this._http.authedRequest(callback,"PUT",path,void 0,contents)},MatrixClient.prototype.getAccountData=function(eventType){return this.store.getAccountData(eventType)},MatrixClient.prototype.getAccountDataFromServer=async function(eventType){if(this.isInitialSyncComplete()){const event=this.store.getAccountData(eventType);return event?event.getContent():null}const path=utils.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:eventType});return this._http.authedRequest(void 0,"GET",path,void 0)},MatrixClient.prototype.getIgnoredUsers=function(){const event=this.getAccountData("m.ignored_user_list");return event&&event.getContent()&&event.getContent().ignored_users?Object.keys(event.getContent().ignored_users):[]},MatrixClient.prototype.setIgnoredUsers=function(userIds,callback){const content={ignored_users:{}};return userIds.map(u=>content.ignored_users[u]={}),this.setAccountData("m.ignored_user_list",content,callback)},MatrixClient.prototype.isUserIgnored=function(userId){return-1!==this.getIgnoredUsers().indexOf(userId)},MatrixClient.prototype.joinRoom=function(roomIdOrAlias,opts,callback){if(utils.isFunction(opts))throw new Error("Expected 'opts' object, got function.");void 0===(opts=opts||{}).syncRoom&&(opts.syncRoom=!0);const room=this.getRoom(roomIdOrAlias);if(room&&room.hasMembershipState(this.credentials.userId,"join"))return Promise.resolve(room);let sign_promise=Promise.resolve();opts.inviteSignUrl&&(sign_promise=this._http.requestOtherUrl(void 0,"POST",opts.inviteSignUrl,{mxid:this.credentials.userId}));const queryString={};opts.viaServers&&(queryString.server_name=opts.viaServers);const reqOpts={qsStringifyOptions:{arrayFormat:"repeat"}},self=this;return new Promise((resolve,reject)=>{sign_promise.then(function(signed_invite_object){const data={};signed_invite_object&&(data.third_party_signed=signed_invite_object);const path=utils.encodeUri("/join/$roomid",{$roomid:roomIdOrAlias});return self._http.authedRequest(void 0,"POST",path,queryString,data,reqOpts)}).then(function(res){const roomId=res.room_id,room=new _sync.SyncApi(self,self._clientOpts).createRoom(roomId);return opts.syncRoom,Promise.resolve(room)}).then(function(room){_resolve(callback,resolve,room)},function(err){_reject(callback,reject,err)})})},MatrixClient.prototype.resendEvent=function(event,room){return _updatePendingEventStatus(room,event,_event.EventStatus.SENDING),_sendEvent(this,room,event)},MatrixClient.prototype.cancelPendingEvent=function(event){if([_event.EventStatus.QUEUED,_event.EventStatus.NOT_SENT].indexOf(event.status)<0)throw new Error("cannot cancel an event with status "+event.status);this.scheduler&&this.scheduler.removeEventFromQueue(event),_updatePendingEventStatus(this.getRoom(event.getRoomId()),event,_event.EventStatus.CANCELLED)},MatrixClient.prototype.setRoomName=function(roomId,name,callback){return this.sendStateEvent(roomId,"m.room.name",{name:name},void 0,callback)},MatrixClient.prototype.setRoomTopic=function(roomId,topic,callback){return this.sendStateEvent(roomId,"m.room.topic",{topic:topic},void 0,callback)},MatrixClient.prototype.getRoomTags=function(roomId,callback){const path=utils.encodeUri("/user/$userId/rooms/$roomId/tags/",{$userId:this.credentials.userId,$roomId:roomId});return this._http.authedRequest(callback,"GET",path,void 0)},MatrixClient.prototype.setRoomTag=function(roomId,tagName,metadata,callback){const path=utils.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:roomId,$tag:tagName});return this._http.authedRequest(callback,"PUT",path,void 0,metadata)},MatrixClient.prototype.deleteRoomTag=function(roomId,tagName,callback){const path=utils.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:roomId,$tag:tagName});return this._http.authedRequest(callback,"DELETE",path,void 0,void 0)},MatrixClient.prototype.setRoomAccountData=function(roomId,eventType,content,callback){const path=utils.encodeUri("/user/$userId/rooms/$roomId/account_data/$type",{$userId:this.credentials.userId,$roomId:roomId,$type:eventType});return this._http.authedRequest(callback,"PUT",path,void 0,content)},MatrixClient.prototype.setPowerLevel=function(roomId,userId,powerLevel,event,callback){let content={users:{}};event&&"m.room.power_levels"===event.getType()&&(content=utils.deepCopy(event.getContent())),content.users[userId]=powerLevel;const path=utils.encodeUri("/rooms/$roomId/state/m.room.power_levels",{$roomId:roomId});return this._http.authedRequest(callback,"PUT",path,void 0,content)},MatrixClient.prototype.sendEvent=function(roomId,eventType,content,txnId,callback){return this._sendCompleteEvent(roomId,{type:eventType,content:content},txnId,callback)},MatrixClient.prototype._sendCompleteEvent=function(roomId,eventObject,txnId,callback){utils.isFunction(txnId)&&(callback=txnId,txnId=void 0),txnId||(txnId=this.makeTxnId());const localEvent=new _event.MatrixEvent(Object.assign(eventObject,{event_id:"~"+roomId+":"+txnId,user_id:this.credentials.userId,room_id:roomId,origin_server_ts:(new Date).getTime()})),room=this.getRoom(roomId),targetId=localEvent.getAssociatedId();if(targetId&&targetId.startsWith("~")){const target=room.getPendingEvents().find(e=>e.getId()===targetId);target.once("Event.localEventIdReplaced",()=>{localEvent.updateAssociatedId(target.getId())})}const type=localEvent.getType();return _logger.logger.log(`sendEvent of type ${type} in ${roomId} with txnId ${txnId}`),localEvent._txnId=txnId,localEvent.setStatus(_event.EventStatus.SENDING),room&&room.addPendingEvent(localEvent,txnId),localEvent.status===_event.EventStatus.NOT_SENT?Promise.reject(new Error("Event blocked by other events not yet sent")):_sendEvent(this,room,localEvent,callback)},MatrixClient.prototype.redactEvent=function(roomId,eventId,txnId,callback){return this._sendCompleteEvent(roomId,{type:"m.room.redaction",content:{},redacts:eventId},txnId,callback)},MatrixClient.prototype.sendMessage=function(roomId,content,txnId,callback){return utils.isFunction(txnId)&&(callback=txnId,txnId=void 0),this.sendEvent(roomId,"m.room.message",content,txnId,callback)},MatrixClient.prototype.sendTextMessage=function(roomId,body,txnId,callback){const content=ContentHelpers.makeTextMessage(body);return this.sendMessage(roomId,content,txnId,callback)},MatrixClient.prototype.sendNotice=function(roomId,body,txnId,callback){const content=ContentHelpers.makeNotice(body);return this.sendMessage(roomId,content,txnId,callback)},MatrixClient.prototype.sendEmoteMessage=function(roomId,body,txnId,callback){const content=ContentHelpers.makeEmoteMessage(body);return this.sendMessage(roomId,content,txnId,callback)},MatrixClient.prototype.sendImageMessage=function(roomId,url,info,text,callback){utils.isFunction(text)&&(callback=text,text=void 0),text||(text="Image");const content={msgtype:"m.image",url:url,info:info,body:text};return this.sendMessage(roomId,content,callback)},MatrixClient.prototype.sendStickerMessage=function(roomId,url,info,text,callback){utils.isFunction(text)&&(callback=text,text=void 0),text||(text="Sticker");const content={url:url,info:info,body:text};return this.sendEvent(roomId,"m.sticker",content,callback,void 0)},MatrixClient.prototype.sendHtmlMessage=function(roomId,body,htmlBody,callback){const content=ContentHelpers.makeHtmlMessage(body,htmlBody);return this.sendMessage(roomId,content,callback)},MatrixClient.prototype.sendHtmlNotice=function(roomId,body,htmlBody,callback){const content=ContentHelpers.makeHtmlNotice(body,htmlBody);return this.sendMessage(roomId,content,callback)},MatrixClient.prototype.sendHtmlEmote=function(roomId,body,htmlBody,callback){const content=ContentHelpers.makeHtmlEmote(body,htmlBody);return this.sendMessage(roomId,content,callback)},MatrixClient.prototype.sendReceipt=function(event,receiptType,opts,callback){if("function"==typeof opts&&(callback=opts,opts={}),this.isGuest())return Promise.resolve({});const path=utils.encodeUri("/rooms/$roomId/receipt/$receiptType/$eventId",{$roomId:event.getRoomId(),$receiptType:receiptType,$eventId:event.getId()}),promise=this._http.authedRequest(callback,"POST",path,void 0,opts||{}),room=this.getRoom(event.getRoomId());return room&&room._addLocalEchoReceipt(this.credentials.userId,event,receiptType),promise},MatrixClient.prototype.sendReadReceipt=async function(event,opts,callback){"function"==typeof opts&&(callback=opts,opts={}),opts||(opts={});const eventId=event.getId(),room=this.getRoom(event.getRoomId());if(room&&room.hasPendingEvent(eventId))throw new Error(`Cannot set read receipt to a pending event (${eventId})`);const addlContent={"m.hidden":Boolean(opts.hidden)};return this.sendReceipt(event,"m.read",addlContent,callback)},MatrixClient.prototype.setRoomReadMarkers=async function(roomId,rmEventId,rrEvent,opts){const room=this.getRoom(roomId);if(room&&room.hasPendingEvent(rmEventId))throw new Error(`Cannot set read marker to a pending event (${rmEventId})`);let rrEventId;if(rrEvent){if(rrEventId=rrEvent.getId(),room&&room.hasPendingEvent(rrEventId))throw new Error(`Cannot set read receipt to a pending event (${rrEventId})`);room&&room._addLocalEchoReceipt(this.credentials.userId,rrEvent,"m.read")}return this.setRoomReadMarkersHttpRequest(roomId,rmEventId,rrEventId,opts)},MatrixClient.prototype.getUrlPreview=function(url,ts,callback){const key=ts+"_"+url,og=this.urlPreviewCache[key];if(og)return Promise.resolve(og);const self=this;return this._http.authedRequest(callback,"GET","/preview_url",{url:url,ts:ts},void 0,{prefix:_httpApi.PREFIX_MEDIA_R0}).then(function(response){return self.urlPreviewCache[key]=response,response})},MatrixClient.prototype.sendTyping=function(roomId,isTyping,timeoutMs,callback){if(this.isGuest())return Promise.resolve({});const path=utils.encodeUri("/rooms/$roomId/typing/$userId",{$roomId:roomId,$userId:this.credentials.userId}),data={typing:isTyping};return isTyping&&(data.timeout=timeoutMs||2e4),this._http.authedRequest(callback,"PUT",path,void 0,data)},MatrixClient.prototype.getRoomUpgradeHistory=function(roomId,verifyLinks=!1){let currentRoom=this.getRoom(roomId);if(!currentRoom)return[];const upgradeHistory=[currentRoom];let createEvent=currentRoom.currentState.getStateEvents("m.room.create","");for(;createEvent;){_logger.logger.log(`Looking at ${createEvent.getId()}`);const predecessor=createEvent.getContent().predecessor;if(!predecessor||!predecessor.room_id)break;{_logger.logger.log(`Looking at predecessor ${predecessor.room_id}`);const refRoom=this.getRoom(predecessor.room_id);if(!refRoom)break;if(verifyLinks){const tombstone=refRoom.currentState.getStateEvents("m.room.tombstone","");if(!tombstone||tombstone.getContent().replacement_room!==refRoom.roomId)break}upgradeHistory.splice(0,0,refRoom),createEvent=refRoom.currentState.getStateEvents("m.room.create","")}}let tombstoneEvent=currentRoom.currentState.getStateEvents("m.room.tombstone","");for(;tombstoneEvent;){const refRoom=this.getRoom(tombstoneEvent.getContent().replacement_room);if(!refRoom)break;if(refRoom.roomId===currentRoom.roomId)break;if(verifyLinks){if(!(createEvent=refRoom.currentState.getStateEvents("m.room.create",""))||!createEvent.getContent().predecessor)break;if(createEvent.getContent().predecessor.room_id!==currentRoom.roomId)break}if(upgradeHistory.push(refRoom),new Set(upgradeHistory.map(ref=>ref.roomId)).size<upgradeHistory.length)return upgradeHistory.slice(0,upgradeHistory.length-1);tombstoneEvent=(currentRoom=refRoom).currentState.getStateEvents("m.room.tombstone","")}return upgradeHistory},MatrixClient.prototype.invite=function(roomId,userId,callback){return _membershipChange(this,roomId,userId,"invite",void 0,callback)},MatrixClient.prototype.inviteByEmail=function(roomId,email,callback){return this.inviteByThreePid(roomId,"email",email,callback)},MatrixClient.prototype.inviteByThreePid=async function(roomId,medium,address,callback){const path=utils.encodeUri("/rooms/$roomId/invite",{$roomId:roomId}),identityServerUrl=this.getIdentityServerUrl(!0);if(!identityServerUrl)return Promise.reject(new _httpApi.MatrixError({error:"No supplied identity server URL",errcode:"ORG.MATRIX.JSSDK_MISSING_PARAM"}));const params={id_server:identityServerUrl,medium:medium,address:address};if(this.identityServer&&this.identityServer.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const identityAccessToken=await this.identityServer.getAccessToken();identityAccessToken&&(params.id_access_token=identityAccessToken)}return this._http.authedRequest(callback,"POST",path,void 0,params)},MatrixClient.prototype.leave=function(roomId,callback){return _membershipChange(this,roomId,void 0,"leave",void 0,callback)},MatrixClient.prototype.leaveRoomChain=function(roomId,includeFuture=!0){const upgradeHistory=this.getRoomUpgradeHistory(roomId);let eligibleToLeave=upgradeHistory;if(!includeFuture){eligibleToLeave=[];for(const room of upgradeHistory)if(eligibleToLeave.push(room),room.roomId===roomId)break}const populationResults={},promises=[],doLeave=roomId=>this.leave(roomId).then(()=>{populationResults[roomId]=null}).catch(err=>(populationResults[roomId]=err,null));for(const room of eligibleToLeave)promises.push(doLeave(room.roomId));return Promise.all(promises).then(()=>populationResults)},MatrixClient.prototype.ban=function(roomId,userId,reason,callback){return _membershipChange(this,roomId,userId,"ban",reason,callback)},MatrixClient.prototype.forget=function(roomId,deleteRoom,callback){void 0===deleteRoom&&(deleteRoom=!0);const promise=_membershipChange(this,roomId,void 0,"forget",void 0,callback);if(!deleteRoom)return promise;const self=this;return promise.then(function(response){return self.store.removeRoom(roomId),self.emit("deleteRoom",roomId),response})},MatrixClient.prototype.unban=function(roomId,userId,callback){const path=utils.encodeUri("/rooms/$roomId/unban",{$roomId:roomId}),data={user_id:userId};return this._http.authedRequest(callback,"POST",path,void 0,data)},MatrixClient.prototype.kick=function(roomId,userId,reason,callback){return function _setMembershipState(client,roomId,userId,membershipValue,reason,callback){utils.isFunction(reason)&&(callback=reason,reason=void 0);const path=utils.encodeUri("/rooms/$roomId/state/m.room.member/$userId",{$roomId:roomId,$userId:userId});return client._http.authedRequest(callback,"PUT",path,void 0,{membership:membershipValue,reason:reason})}(this,roomId,userId,"leave",reason,callback)},MatrixClient.prototype.getPushActionsForEvent=function(event){return event.getPushActions()||event.setPushActions(this._pushProcessor.actionsForEvent(event)),event.getPushActions()},MatrixClient.prototype.setProfileInfo=function(info,data,callback){const path=utils.encodeUri("/profile/$userId/$info",{$userId:this.credentials.userId,$info:info});return this._http.authedRequest(callback,"PUT",path,void 0,data)},MatrixClient.prototype.setDisplayName=function(name,callback){return this.setProfileInfo("displayname",{displayname:name},callback)},MatrixClient.prototype.setAvatarUrl=function(url,callback){return this.setProfileInfo("avatar_url",{avatar_url:url},callback)},MatrixClient.prototype.mxcUrlToHttp=function(mxcUrl,width,height,resizeMethod,allowDirectLinks){return(0,_contentRepo.getHttpUriForMxc)(this.baseUrl,mxcUrl,width,height,resizeMethod,allowDirectLinks)},MatrixClient.prototype._unstable_setStatusMessage=function(newMessage){const type="im.vector.user_status";return Promise.all(this.getRooms().map(room=>{const isJoined="join"===room.getMyMembership(),looksLikeDm=2===room.getInvitedAndJoinedMemberCount();return isJoined&&looksLikeDm&&room.currentState.mayClientSendStateEvent(type,this)?this.sendStateEvent(room.roomId,type,{status:newMessage},this.getUserId()):Promise.resolve()}))},MatrixClient.prototype.setPresence=function(opts,callback){const path=utils.encodeUri("/presence/$userId/status",{$userId:this.credentials.userId});"string"==typeof opts&&(opts={presence:opts});if(-1==["offline","online","unavailable"].indexOf(opts.presence))throw new Error("Bad presence value: "+opts.presence);return this._http.authedRequest(callback,"PUT",path,void 0,opts)},MatrixClient.prototype.getPresenceList=function(callback){return _presenceList(callback,this,void 0,"GET")},MatrixClient.prototype.inviteToPresenceList=function(callback,userIds){return _presenceList(callback,this,{invite:userIds},"POST")},MatrixClient.prototype.dropFromPresenceList=function(callback,userIds){return _presenceList(callback,this,{drop:userIds},"POST")},MatrixClient.prototype.scrollback=function(room,limit,callback){utils.isFunction(limit)&&(callback=limit,limit=void 0),limit=limit||30;let timeToWaitMs=0,info=this._ongoingScrollbacks[room.roomId]||{};if(info.promise)return info.promise;if(info.errorTs){const timeWaitedMs=Date.now()-info.errorTs;timeToWaitMs=Math.max(3e3-timeWaitedMs,0)}if(null===room.oldState.paginationToken)return Promise.resolve(room);const numAdded=this.store.scrollback(room,limit).length;if(numAdded===limit)return Promise.resolve(room);limit-=numAdded;const self=this,prom=new Promise((resolve,reject)=>{(0,utils.sleep)(timeToWaitMs).then(function(){return self._createMessagesRequest(room.roomId,room.oldState.paginationToken,limit,"b")}).then(function(res){const matrixEvents=utils.map(res.chunk,_PojoToMatrixEventMapper(self));if(res.state){const stateEvents=utils.map(res.state,_PojoToMatrixEventMapper(self));room.currentState.setUnknownStateEvents(stateEvents)}room.addEventsToTimeline(matrixEvents,!0,room.getLiveTimeline()),room.oldState.paginationToken=res.end,0===res.chunk.length&&(room.oldState.paginationToken=null),self.store.storeEvents(room,matrixEvents,res.end,!0),self._ongoingScrollbacks[room.roomId]=null,_resolve(callback,resolve,room)},function(err){self._ongoingScrollbacks[room.roomId]={errorTs:Date.now()},_reject(callback,reject,err)})});return info={promise:prom,errorTs:null},this._ongoingScrollbacks[room.roomId]=info,prom},MatrixClient.prototype.getEventTimeline=function(timelineSet,eventId){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(timelineSet.getTimelineForEvent(eventId))return Promise.resolve(timelineSet.getTimelineForEvent(eventId));const path=utils.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:timelineSet.room.roomId,$eventId:eventId});let params=void 0;this._clientOpts.lazyLoadMembers&&(params={filter:JSON.stringify(_filter.Filter.LAZY_LOADING_MESSAGES_FILTER)});const self=this;return self._http.authedRequest(void 0,"GET",path,params).then(function(res){if(!res.event)throw new Error("'event' not in '/context' result - homeserver too old?");if(timelineSet.getTimelineForEvent(eventId))return timelineSet.getTimelineForEvent(eventId);res.events_after.reverse();const events=res.events_after.concat([res.event]).concat(res.events_before),matrixEvents=utils.map(events,self.getEventMapper());let timeline=timelineSet.getTimelineForEvent(matrixEvents[0].getId());if(timeline){const stateEvents=utils.map(res.state,self.getEventMapper());timeline.getState(_eventTimeline.EventTimeline.BACKWARDS).setUnknownStateEvents(stateEvents)}else(timeline=timelineSet.addTimeline()).initialiseState(utils.map(res.state,self.getEventMapper())),timeline.getState(_eventTimeline.EventTimeline.FORWARDS).paginationToken=res.end;return timelineSet.addEventsToTimeline(matrixEvents,!0,timeline,res.start),timelineSet.getTimelineForEvent(eventId)||timeline})},MatrixClient.prototype._createMessagesRequest=function(roomId,fromToken,limit,dir,timelineFilter){const path=utils.encodeUri("/rooms/$roomId/messages",{$roomId:roomId});void 0===limit&&(limit=30);const params={from:fromToken,limit:limit,dir:dir};let filter=null;return this._clientOpts.lazyLoadMembers&&(filter=Object.assign({},_filter.Filter.LAZY_LOADING_MESSAGES_FILTER)),timelineFilter&&(filter=filter||{},Object.assign(filter,timelineFilter.getRoomTimelineFilterComponent())),filter&&(params.filter=JSON.stringify(filter)),this._http.authedRequest(void 0,"GET",path,params)},MatrixClient.prototype.paginateEventTimeline=function(eventTimeline,opts){const isNotifTimeline=eventTimeline.getTimelineSet()===this._notifTimelineSet,backwards=(opts=opts||{}).backwards||!1;if(isNotifTimeline&&!backwards)throw new Error("paginateNotifTimeline can only paginate backwards");const dir=backwards?_eventTimeline.EventTimeline.BACKWARDS:_eventTimeline.EventTimeline.FORWARDS,token=eventTimeline.getPaginationToken(dir);if(!token)return Promise.resolve(!1);const pendingRequest=eventTimeline._paginationRequests[dir];if(pendingRequest)return pendingRequest;let path,params,promise;const self=this;if(isNotifTimeline)path="/notifications",params={limit:"limit"in opts?opts.limit:30,only:"highlight"},token&&"end"!==token&&(params.from=token),promise=this._http.authedRequest(void 0,"GET","/notifications",params,void 0).then(function(res){const token=res.next_token,matrixEvents=[];for(let i=0;i<res.notifications.length;i++){const notification=res.notifications[i],event=self.getEventMapper()(notification.event);event.setPushActions(_pushprocessor.PushProcessor.actionListToActionsObject(notification.actions)),event.event.room_id=notification.room_id,matrixEvents[i]=event}return eventTimeline.getTimelineSet().addEventsToTimeline(matrixEvents,backwards,eventTimeline,token),backwards&&!res.next_token&&eventTimeline.setPaginationToken(null,dir),!!res.next_token}).finally(function(){eventTimeline._paginationRequests[dir]=null}),eventTimeline._paginationRequests[dir]=promise;else{if(!this.getRoom(eventTimeline.getRoomId()))throw new Error("Unknown room "+eventTimeline.getRoomId());(promise=this._createMessagesRequest(eventTimeline.getRoomId(),token,opts.limit,dir,eventTimeline.getFilter())).then(function(res){if(res.state){const roomState=eventTimeline.getState(dir),stateEvents=utils.map(res.state,self.getEventMapper());roomState.setUnknownStateEvents(stateEvents)}const token=res.end,matrixEvents=utils.map(res.chunk,self.getEventMapper());return eventTimeline.getTimelineSet().addEventsToTimeline(matrixEvents,backwards,eventTimeline,token),backwards&&res.end==res.start&&eventTimeline.setPaginationToken(null,dir),res.end!=res.start}).finally(function(){eventTimeline._paginationRequests[dir]=null}),eventTimeline._paginationRequests[dir]=promise}return promise},MatrixClient.prototype.resetNotifTimelineSet=function(){this._notifTimelineSet&&this._notifTimelineSet.resetLiveTimeline("end",null)},MatrixClient.prototype.peekInRoom=function(roomId){return this._peekSync&&this._peekSync.stopPeeking(),this._peekSync=new _sync.SyncApi(this,this._clientOpts),this._peekSync.peek(roomId)},MatrixClient.prototype.stopPeeking=function(){this._peekSync&&(this._peekSync.stopPeeking(),this._peekSync=null)},MatrixClient.prototype.setGuestAccess=function(roomId,opts){const writePromise=this.sendStateEvent(roomId,"m.room.guest_access",{guest_access:opts.allowJoin?"can_join":"forbidden"});let readPromise=Promise.resolve();return opts.allowRead&&(readPromise=this.sendStateEvent(roomId,"m.room.history_visibility",{history_visibility:"world_readable"})),Promise.all([readPromise,writePromise])},MatrixClient.prototype.requestRegisterEmailToken=function(email,clientSecret,sendAttempt,nextLink){return this._requestTokenFromEndpoint("/register/email/requestToken",{email:email,client_secret:clientSecret,send_attempt:sendAttempt,next_link:nextLink})},MatrixClient.prototype.requestRegisterMsisdnToken=function(phoneCountry,phoneNumber,clientSecret,sendAttempt,nextLink){return this._requestTokenFromEndpoint("/register/msisdn/requestToken",{country:phoneCountry,phone_number:phoneNumber,client_secret:clientSecret,send_attempt:sendAttempt,next_link:nextLink})},MatrixClient.prototype.requestAdd3pidEmailToken=function(email,clientSecret,sendAttempt,nextLink){return this._requestTokenFromEndpoint("/account/3pid/email/requestToken",{email:email,client_secret:clientSecret,send_attempt:sendAttempt,next_link:nextLink})},MatrixClient.prototype.requestAdd3pidMsisdnToken=function(phoneCountry,phoneNumber,clientSecret,sendAttempt,nextLink){return this._requestTokenFromEndpoint("/account/3pid/msisdn/requestToken",{country:phoneCountry,phone_number:phoneNumber,client_secret:clientSecret,send_attempt:sendAttempt,next_link:nextLink})},MatrixClient.prototype.requestPasswordEmailToken=function(email,clientSecret,sendAttempt,nextLink){return this._requestTokenFromEndpoint("/account/password/email/requestToken",{email:email,client_secret:clientSecret,send_attempt:sendAttempt,next_link:nextLink})},MatrixClient.prototype.requestPasswordMsisdnToken=function(phoneCountry,phoneNumber,clientSecret,sendAttempt,nextLink){return this._requestTokenFromEndpoint("/account/password/msisdn/requestToken",{country:phoneCountry,phone_number:phoneNumber,client_secret:clientSecret,send_attempt:sendAttempt,next_link:nextLink})},MatrixClient.prototype._requestTokenFromEndpoint=async function(endpoint,params){const postParams=Object.assign({},params);if(!await this.doesServerSupportSeparateAddAndBind()&&this.idBaseUrl){const idServerUrl=_url.default.parse(this.idBaseUrl);if(!idServerUrl.host)throw new Error("Invalid ID server URL: "+this.idBaseUrl);if(postParams.id_server=idServerUrl.host,this.identityServer&&this.identityServer.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const identityAccessToken=await this.identityServer.getAccessToken();identityAccessToken&&(postParams.id_access_token=identityAccessToken)}}return this._http.request(void 0,"POST",endpoint,void 0,postParams)},MatrixClient.prototype.getRoomPushRule=function(scope,roomId){if(!this.pushRules)throw new Error("SyncApi.sync() must be done before accessing to push rules.");for(let i=0;i<this.pushRules[scope].room.length;i++){const rule=this.pushRules[scope].room[i];if(rule.rule_id===roomId)return rule}},MatrixClient.prototype.setRoomMutePushRule=function(scope,roomId,mute){const self=this;let deferred,hasDontNotifyRule;const roomPushRule=this.getRoomPushRule(scope,roomId);if(roomPushRule&&0<=roomPushRule.actions.indexOf("dont_notify")&&(hasDontNotifyRule=!0),mute?roomPushRule?hasDontNotifyRule||(deferred=utils.defer(),this.deletePushRule(scope,"room",roomPushRule.rule_id).then(function(){self.addPushRule(scope,"room",roomId,{actions:["dont_notify"]}).then(function(){deferred.resolve()},function(err){deferred.reject(err)})},function(err){deferred.reject(err)}),deferred=deferred.promise):deferred=this.addPushRule(scope,"room",roomId,{actions:["dont_notify"]}):hasDontNotifyRule&&(deferred=this.deletePushRule(scope,"room",roomPushRule.rule_id)),deferred)return new Promise((resolve,reject)=>{deferred.then(function(){self.getPushRules().then(function(result){self.pushRules=result,resolve()},function(err){reject(err)})},function(err){self.getPushRules().then(function(result){self.pushRules=result,reject(err)},function(err2){reject(err)})})})},MatrixClient.prototype.searchMessageText=function(opts,callback){const roomEvents={search_term:opts.query};return"keys"in opts&&(roomEvents.keys=opts.keys),this.search({body:{search_categories:{room_events:roomEvents}}},callback)},MatrixClient.prototype.searchRoomEvents=function(opts){const body={search_categories:{room_events:{search_term:opts.term,filter:opts.filter,order_by:"recent",event_context:{before_limit:1,after_limit:1,include_profile:!0}}}},searchResults={_query:body,results:[],highlights:[]};return this.search({body:body}).then(this._processRoomEventsSearch.bind(this,searchResults))},MatrixClient.prototype.backPaginateRoomEventsSearch=function(searchResults){if(!searchResults.next_batch)return Promise.reject(new Error("Cannot backpaginate event search any further"));if(searchResults.pendingRequest)return searchResults.pendingRequest;const searchOpts={body:searchResults._query,next_batch:searchResults.next_batch},promise=this.search(searchOpts).then(this._processRoomEventsSearch.bind(this,searchResults)).finally(function(){searchResults.pendingRequest=null});return searchResults.pendingRequest=promise,promise},MatrixClient.prototype._processRoomEventsSearch=function(searchResults,response){const room_events=response.search_categories.room_events;searchResults.count=room_events.count,searchResults.next_batch=room_events.next_batch;const highlights={};room_events.highlights.forEach(function(hl){highlights[hl]=1}),searchResults.highlights.forEach(function(hl){highlights[hl]=1}),searchResults.highlights=Object.keys(highlights);for(let i=0;i<room_events.results.length;i++){const sr=_searchResult.SearchResult.fromJson(room_events.results[i],this.getEventMapper());searchResults.results.push(sr)}return searchResults},MatrixClient.prototype.syncLeftRooms=function(){if(this._syncedLeftRooms)return Promise.resolve([]);if(this._syncLeftRoomsPromise)return this._syncLeftRoomsPromise;const self=this,syncApi=new _sync.SyncApi(this,this._clientOpts);return this._syncLeftRoomsPromise=syncApi.syncLeftRooms(),this._syncLeftRoomsPromise.then(function(res){_logger.logger.log("Marking success of sync left room request"),self._syncedLeftRooms=!0}).finally(function(){self._syncLeftRoomsPromise=null}),this._syncLeftRoomsPromise},MatrixClient.prototype.createFilter=function(content){const self=this,path=utils.encodeUri("/user/$userId/filter",{$userId:this.credentials.userId});return this._http.authedRequest(void 0,"POST",path,void 0,content).then(function(response){const filter=_filter.Filter.fromJson(self.credentials.userId,response.filter_id,content);return self.store.storeFilter(filter),filter})},MatrixClient.prototype.getFilter=function(userId,filterId,allowCached){if(allowCached){const filter=this.store.getFilter(userId,filterId);if(filter)return Promise.resolve(filter)}const self=this,path=utils.encodeUri("/user/$userId/filter/$filterId",{$userId:userId,$filterId:filterId});return this._http.authedRequest(void 0,"GET",path,void 0,void 0).then(function(response){const filter=_filter.Filter.fromJson(userId,filterId,response);return self.store.storeFilter(filter),filter})},MatrixClient.prototype.getOrCreateFilter=function(filterName,filter){const filterId=this.store.getFilterIdByName(filterName);let promise=Promise.resolve();const self=this;return filterId&&(promise=self.getFilter(self.credentials.userId,filterId,!0).then(function(existingFilter){const oldDef=existingFilter.getDefinition(),newDef=filter.getDefinition();if(utils.deepCompare(oldDef,newDef))return Promise.resolve(filterId);self.store.setFilterIdByName(filterName,void 0)},function(error){if(404!==error.httpStatus||"M_UNKNOWN"!==error.errcode&&"M_NOT_FOUND"!==error.errcode)throw error;self.store.setFilterIdByName(filterName,void 0)})),promise.then(function(existingId){return existingId||self.createFilter(filter.getDefinition()).then(function(createdFilter){return self.store.setFilterIdByName(filterName,createdFilter.filterId),createdFilter.filterId})})},MatrixClient.prototype.getOpenIdToken=function(){const path=utils.encodeUri("/user/$userId/openid/request_token",{$userId:this.credentials.userId});return this._http.authedRequest(void 0,"POST",path,void 0,{})},MatrixClient.prototype.turnServer=function(callback){return this._http.authedRequest(callback,"GET","/voip/turnServer")},MatrixClient.prototype.getTurnServers=function(){return this._turnServers||[]},MatrixClient.prototype.setFallbackICEServerAllowed=function(allow){this._fallbackICEServerAllowed=allow},MatrixClient.prototype.isFallbackICEServerAllowed=function(){return this._fallbackICEServerAllowed},MatrixClient.prototype.isSynapseAdministrator=function(){const path=utils.encodeUri("/_synapse/admin/v1/users/$userId/admin",{$userId:this.getUserId()});return this._http.authedRequest(void 0,"GET",path,void 0,void 0,{prefix:""}).then(r=>r.admin)},MatrixClient.prototype.whoisSynapseUser=function(userId){const path=utils.encodeUri("/_synapse/admin/v1/whois/$userId",{$userId:userId});return this._http.authedRequest(void 0,"GET",path,void 0,void 0,{prefix:""})},MatrixClient.prototype.deactivateSynapseUser=function(userId){const path=utils.encodeUri("/_synapse/admin/v1/deactivate/$userId",{$userId:userId});return this._http.authedRequest(void 0,"POST",path,void 0,void 0,{prefix:""})},MatrixClient.prototype.startClient=async function(opts){this.clientRunning||(this.clientRunning=!0,"number"==typeof opts&&(opts={initialSyncLimit:opts}),this._crypto&&(this._crypto.uploadDeviceKeys(),this._crypto.start()),function checkTurnServers(client){if(!client._supportsVoip)return;if(client.isGuest())return;client.turnServer().then(function(res){if(res.uris){_logger.logger.log("Got TURN URIs: "+res.uris+" refresh in "+res.ttl+" secs");const servers={urls:res.uris,username:res.username,credential:res.password};client._turnServers=[servers],client._checkTurnServersTimeoutID=setTimeout(()=>{checkTurnServers(client)},1e3*(res.ttl||3600)*.9)}},function(err){_logger.logger.error("Failed to get TURN URIs"),client._checkTurnServersTimeoutID=setTimeout(function(){checkTurnServers(client)},6e4)})}(this),this._syncApi&&(_logger.logger.error("Still have sync object whilst not running: stopping old one"),this._syncApi.stop()),(opts=Object.assign({},opts)).crypto=this._crypto,opts.canResetEntireTimeline=roomId=>!!this._canResetTimelineCallback&&this._canResetTimelineCallback(roomId),this._clientOpts=opts,this._syncApi=new _sync.SyncApi(this,opts),this._syncApi.sync())},MatrixClient.prototype._storeClientOptions=function(){const primTypes=["boolean","string","number"],serializableOpts=Object.entries(this._clientOpts).filter(([key,value])=>primTypes.includes(typeof value)).reduce((obj,[key,value])=>(obj[key]=value,obj),{});return this.store.storeClientOptions(serializableOpts)},MatrixClient.prototype.stopClient=function(){_logger.logger.log("stopping MatrixClient"),this.clientRunning=!1,this._syncApi&&(this._syncApi.stop(),this._syncApi=null),this._crypto&&this._crypto.stop(),this._peekSync&&this._peekSync.stopPeeking(),global.clearTimeout(this._checkTurnServersTimeoutID)},MatrixClient.prototype.getVersions=async function(){return null===this._serverVersionsCache&&(this._serverVersionsCache=await this._http.request(void 0,"GET","/_matrix/client/versions",void 0,void 0,{prefix:""})),this._serverVersionsCache},MatrixClient.prototype.isVersionSupported=async function(version){const{versions:versions}=await this.getVersions();return versions&&versions.includes(version)},MatrixClient.prototype.doesServerSupportLazyLoading=async function(){const response=await this.getVersions(),versions=response.versions,unstableFeatures=response.unstable_features;return versions&&versions.includes("r0.5.0")||unstableFeatures&&unstableFeatures["m.lazy_load_members"]},MatrixClient.prototype.doesServerRequireIdServerParam=async function(){const response=await this.getVersions(),versions=response.versions;if(versions&&versions.includes("r0.6.0"))return!1;const unstableFeatures=response.unstable_features;return void 0===unstableFeatures["m.require_identity_server"]||unstableFeatures["m.require_identity_server"]},MatrixClient.prototype.doesServerAcceptIdentityAccessToken=async function(){const response=await this.getVersions(),versions=response.versions,unstableFeatures=response.unstable_features;return versions&&versions.includes("r0.6.0")||unstableFeatures&&unstableFeatures["m.id_access_token"]},MatrixClient.prototype.doesServerSupportSeparateAddAndBind=async function(){const response=await this.getVersions(),versions=response.versions,unstableFeatures=response.unstable_features;return versions&&versions.includes("r0.6.0")||unstableFeatures&&unstableFeatures["m.separate_add_and_bind"]},MatrixClient.prototype.hasLazyLoadMembersEnabled=function(){return!!this._clientOpts.lazyLoadMembers},MatrixClient.prototype.setCanResetTimelineCallback=function(cb){this._canResetTimelineCallback=cb},MatrixClient.prototype.getCanResetTimelineCallback=function(){return this._canResetTimelineCallback},MatrixClient.prototype.relations=async function(roomId,eventId,relationType,eventType,opts={}){const fetchedEventType=function _getEncryptedIfNeededEventType(client,roomId,eventType){return"m.reaction"===eventType?eventType:client.isRoomEncrypted(roomId)?"m.room.encrypted":eventType}(this,roomId,eventType),result=await this.fetchRelations(roomId,eventId,relationType,fetchedEventType,opts),mapper=this.getEventMapper();let originalEvent;result.original_event&&(originalEvent=mapper(result.original_event));let events=result.chunk.map(mapper);if("m.room.encrypted"===fetchedEventType){const allEvents=originalEvent?events.concat(originalEvent):events;await Promise.all(allEvents.map(e=>new Promise(resolve=>e.once("Event.decrypted",resolve)))),events=events.filter(e=>e.getType()===eventType)}return{originalEvent:originalEvent,events:events,nextBatch:result.next_batch}},MatrixClient.prototype.getEventMapper=function(){return _PojoToMatrixEventMapper(this)},MatrixClient.prototype.generateClientSecret=function(){return(0,_randomstring.randomString)(32)}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(root){exports&&exports.nodeType,module&&module.nodeType;var freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self;var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,codePoint,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for((basic=input.lastIndexOf(delimiter))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),((digit=(codePoint=input.charCodeAt(index++))-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base)>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}).call(this,__webpack_require__(90)(module),__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(893),exports.encode=exports.stringify=__webpack_require__(894)},function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},function(module,exports,__webpack_require__){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.MatrixBaseApis=MatrixBaseApis;var _serviceTypes=__webpack_require__(396),_logger=__webpack_require__(2),_pushprocessor=__webpack_require__(229),utils=_interopRequireWildcard(__webpack_require__(5)),_httpApi=__webpack_require__(147);function termsUrlForService(serviceType,baseUrl){switch(serviceType){case _serviceTypes.SERVICE_TYPES.IS:return baseUrl+_httpApi.PREFIX_IDENTITY_V2+"/terms";case _serviceTypes.SERVICE_TYPES.IM:return baseUrl+"/_matrix/integrations/v1/terms";default:throw new Error("Unsupported service type")}}function MatrixBaseApis(opts){utils.checkObjectHasKeys(opts,["baseUrl","request"]),this.baseUrl=opts.baseUrl,this.idBaseUrl=opts.idBaseUrl,this.identityServer=opts.identityServer;const httpOpts={baseUrl:opts.baseUrl,idBaseUrl:opts.idBaseUrl,accessToken:opts.accessToken,request:opts.request,prefix:_httpApi.PREFIX_R0,onlyData:!0,extraParams:opts.queryParams,localTimeoutMs:opts.localTimeoutMs,useAuthorizationHeader:opts.useAuthorizationHeader};this._http=new _httpApi.MatrixHttpApi(this,httpOpts),this._txnCtr=0}MatrixBaseApis.prototype.getHomeserverUrl=function(){return this.baseUrl},MatrixBaseApis.prototype.getIdentityServerUrl=function(stripProto=!1){return stripProto&&(this.idBaseUrl.startsWith("http://")||this.idBaseUrl.startsWith("https://"))?this.idBaseUrl.split("://")[1]:this.idBaseUrl},MatrixBaseApis.prototype.setIdentityServerUrl=function(url){this.idBaseUrl=utils.ensureNoTrailingSlash(url),this._http.setIdBaseUrl(this.idBaseUrl)},MatrixBaseApis.prototype.getAccessToken=function(){return this._http.opts.accessToken||null},MatrixBaseApis.prototype.isLoggedIn=function(){return void 0!==this._http.opts.accessToken},MatrixBaseApis.prototype.makeTxnId=function(){return"m"+(new Date).getTime()+"."+this._txnCtr++},MatrixBaseApis.prototype.isUsernameAvailable=function(username){return this._http.authedRequest(void 0,"GET","/register/available",{username:username}).then(response=>response.available)},MatrixBaseApis.prototype.register=function(username,password,sessionId,auth,bindThreepids,guestAccessToken,inhibitLogin,callback){!0===bindThreepids?bindThreepids={email:!0}:null==bindThreepids&&(bindThreepids={}),"function"==typeof inhibitLogin&&(callback=inhibitLogin,inhibitLogin=void 0),null==auth&&(auth={}),sessionId&&(auth.session=sessionId);const params={auth:auth};return null!=username&&(params.username=username),null!=password&&(params.password=password),bindThreepids.email&&(params.bind_email=!0),bindThreepids.msisdn&&(params.bind_msisdn=!0),null!=guestAccessToken&&(params.guest_access_token=guestAccessToken),null!=inhibitLogin&&(params.inhibit_login=inhibitLogin),null!=password&&(params.x_show_msisdn=!0),this.registerRequest(params,void 0,callback)},MatrixBaseApis.prototype.registerGuest=function(opts,callback){return(opts=opts||{}).body=opts.body||{},this.registerRequest(opts.body,"guest",callback)},MatrixBaseApis.prototype.registerRequest=function(data,kind,callback){const params={};return kind&&(params.kind=kind),this._http.request(callback,"POST","/register",params,data)},MatrixBaseApis.prototype.loginFlows=function(callback){return this._http.request(callback,"GET","/login")},MatrixBaseApis.prototype.login=function(loginType,data,callback){const login_data={type:loginType};return utils.extend(login_data,data),this._http.authedRequest((error,response)=>{response&&response.access_token&&response.user_id&&(this._http.opts.accessToken=response.access_token,this.credentials={userId:response.user_id}),callback&&callback(error,response)},"POST","/login",void 0,login_data)},MatrixBaseApis.prototype.loginWithPassword=function(user,password,callback){return this.login("m.login.password",{user:user,password:password},callback)},MatrixBaseApis.prototype.loginWithSAML2=function(relayState,callback){return this.login("m.login.saml2",{relay_state:relayState},callback)},MatrixBaseApis.prototype.getCasLoginUrl=function(redirectUrl){return this.getSsoLoginUrl(redirectUrl,"cas")},MatrixBaseApis.prototype.getSsoLoginUrl=function(redirectUrl,loginType){return void 0===loginType&&(loginType="sso"),this._http.getUrl("/login/"+loginType+"/redirect",{redirectUrl:redirectUrl},_httpApi.PREFIX_R0)},MatrixBaseApis.prototype.loginWithToken=function(token,callback){return this.login("m.login.token",{token:token},callback)},MatrixBaseApis.prototype.logout=function(callback){return this._http.authedRequest(callback,"POST","/logout")},MatrixBaseApis.prototype.deactivateAccount=function(auth,erase){if("function"==typeof erase)throw new Error("deactivateAccount no longer accepts a callback parameter");const body={};return auth&&(body.auth=auth),void 0!==erase&&(body.erase=erase),this._http.authedRequest(void 0,"POST","/account/deactivate",void 0,body)},MatrixBaseApis.prototype.getFallbackAuthUrl=function(loginType,authSessionId){const path=utils.encodeUri("/auth/$loginType/fallback/web",{$loginType:loginType});return this._http.getUrl(path,{session:authSessionId},_httpApi.PREFIX_R0)},MatrixBaseApis.prototype.createRoom=function(options,callback){return this._http.authedRequest(callback,"POST","/createRoom",void 0,options)},MatrixBaseApis.prototype.fetchRelations=async function(roomId,eventId,relationType,eventType,opts){const queryParams={};opts.from&&(queryParams.from=opts.from);const queryString=utils.encodeParams(queryParams),path=utils.encodeUri("/rooms/$roomId/relations/$eventId/$relationType/$eventType?"+queryString,{$roomId:roomId,$eventId:eventId,$relationType:relationType,$eventType:eventType});return await this._http.authedRequest(void 0,"GET",path,null,null,{prefix:_httpApi.PREFIX_UNSTABLE})},MatrixBaseApis.prototype.roomState=function(roomId,callback){const path=utils.encodeUri("/rooms/$roomId/state",{$roomId:roomId});return this._http.authedRequest(callback,"GET",path)},MatrixBaseApis.prototype.fetchRoomEvent=function(roomId,eventId,callback){const path=utils.encodeUri("/rooms/$roomId/event/$eventId",{$roomId:roomId,$eventId:eventId});return this._http.authedRequest(callback,"GET",path)},MatrixBaseApis.prototype.members=function(roomId,includeMembership,excludeMembership,atEventId,callback){const queryParams={};includeMembership&&(queryParams.membership=includeMembership),excludeMembership&&(queryParams.not_membership=excludeMembership),atEventId&&(queryParams.at=atEventId);const queryString=utils.encodeParams(queryParams),path=utils.encodeUri("/rooms/$roomId/members?"+queryString,{$roomId:roomId});return this._http.authedRequest(callback,"GET",path)},MatrixBaseApis.prototype.upgradeRoom=function(roomId,newVersion){const path=utils.encodeUri("/rooms/$roomId/upgrade",{$roomId:roomId});return this._http.authedRequest(void 0,"POST",path,void 0,{new_version:newVersion})},MatrixBaseApis.prototype.getGroupSummary=function(groupId){const path=utils.encodeUri("/groups/$groupId/summary",{$groupId:groupId});return this._http.authedRequest(void 0,"GET",path)},MatrixBaseApis.prototype.getGroupProfile=function(groupId){const path=utils.encodeUri("/groups/$groupId/profile",{$groupId:groupId});return this._http.authedRequest(void 0,"GET",path)},MatrixBaseApis.prototype.setGroupProfile=function(groupId,profile){const path=utils.encodeUri("/groups/$groupId/profile",{$groupId:groupId});return this._http.authedRequest(void 0,"POST",path,void 0,profile)},MatrixBaseApis.prototype.setGroupJoinPolicy=function(groupId,policy){const path=utils.encodeUri("/groups/$groupId/settings/m.join_policy",{$groupId:groupId});return this._http.authedRequest(void 0,"PUT",path,void 0,{"m.join_policy":policy})},MatrixBaseApis.prototype.getGroupUsers=function(groupId){const path=utils.encodeUri("/groups/$groupId/users",{$groupId:groupId});return this._http.authedRequest(void 0,"GET",path)},MatrixBaseApis.prototype.getGroupInvitedUsers=function(groupId){const path=utils.encodeUri("/groups/$groupId/invited_users",{$groupId:groupId});return this._http.authedRequest(void 0,"GET",path)},MatrixBaseApis.prototype.getGroupRooms=function(groupId){const path=utils.encodeUri("/groups/$groupId/rooms",{$groupId:groupId});return this._http.authedRequest(void 0,"GET",path)},MatrixBaseApis.prototype.inviteUserToGroup=function(groupId,userId){const path=utils.encodeUri("/groups/$groupId/admin/users/invite/$userId",{$groupId:groupId,$userId:userId});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},MatrixBaseApis.prototype.removeUserFromGroup=function(groupId,userId){const path=utils.encodeUri("/groups/$groupId/admin/users/remove/$userId",{$groupId:groupId,$userId:userId});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},MatrixBaseApis.prototype.addUserToGroupSummary=function(groupId,userId,roleId){const path=utils.encodeUri(roleId?"/groups/$groupId/summary/$roleId/users/$userId":"/groups/$groupId/summary/users/$userId",{$groupId:groupId,$roleId:roleId,$userId:userId});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},MatrixBaseApis.prototype.removeUserFromGroupSummary=function(groupId,userId){const path=utils.encodeUri("/groups/$groupId/summary/users/$userId",{$groupId:groupId,$userId:userId});return this._http.authedRequest(void 0,"DELETE",path,void 0,{})},MatrixBaseApis.prototype.addRoomToGroupSummary=function(groupId,roomId,categoryId){const path=utils.encodeUri(categoryId?"/groups/$groupId/summary/$categoryId/rooms/$roomId":"/groups/$groupId/summary/rooms/$roomId",{$groupId:groupId,$categoryId:categoryId,$roomId:roomId});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},MatrixBaseApis.prototype.removeRoomFromGroupSummary=function(groupId,roomId){const path=utils.encodeUri("/groups/$groupId/summary/rooms/$roomId",{$groupId:groupId,$roomId:roomId});return this._http.authedRequest(void 0,"DELETE",path,void 0,{})},MatrixBaseApis.prototype.addRoomToGroup=function(groupId,roomId,isPublic){void 0===isPublic&&(isPublic=!0);const path=utils.encodeUri("/groups/$groupId/admin/rooms/$roomId",{$groupId:groupId,$roomId:roomId});return this._http.authedRequest(void 0,"PUT",path,void 0,{"m.visibility":{type:isPublic?"public":"private"}})},MatrixBaseApis.prototype.updateGroupRoomVisibility=function(groupId,roomId,isPublic){const path=utils.encodeUri("/groups/$groupId/admin/rooms/$roomId/config/m.visibility",{$groupId:groupId,$roomId:roomId});return this._http.authedRequest(void 0,"PUT",path,void 0,{type:isPublic?"public":"private"})},MatrixBaseApis.prototype.removeRoomFromGroup=function(groupId,roomId){const path=utils.encodeUri("/groups/$groupId/admin/rooms/$roomId",{$groupId:groupId,$roomId:roomId});return this._http.authedRequest(void 0,"DELETE",path,void 0,{})},MatrixBaseApis.prototype.acceptGroupInvite=function(groupId,opts=null){const path=utils.encodeUri("/groups/$groupId/self/accept_invite",{$groupId:groupId});return this._http.authedRequest(void 0,"PUT",path,void 0,opts||{})},MatrixBaseApis.prototype.joinGroup=function(groupId){const path=utils.encodeUri("/groups/$groupId/self/join",{$groupId:groupId});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},MatrixBaseApis.prototype.leaveGroup=function(groupId){const path=utils.encodeUri("/groups/$groupId/self/leave",{$groupId:groupId});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},MatrixBaseApis.prototype.getJoinedGroups=function(){const path=utils.encodeUri("/joined_groups");return this._http.authedRequest(void 0,"GET",path)},MatrixBaseApis.prototype.createGroup=function(content){const path=utils.encodeUri("/create_group");return this._http.authedRequest(void 0,"POST",path,void 0,content)},MatrixBaseApis.prototype.getPublicisedGroups=function(userIds){const path=utils.encodeUri("/publicised_groups");return this._http.authedRequest(void 0,"POST",path,void 0,{user_ids:userIds})},MatrixBaseApis.prototype.setGroupPublicity=function(groupId,isPublic){const path=utils.encodeUri("/groups/$groupId/self/update_publicity",{$groupId:groupId});return this._http.authedRequest(void 0,"PUT",path,void 0,{publicise:isPublic})},MatrixBaseApis.prototype.getStateEvent=function(roomId,eventType,stateKey,callback){const pathParams={$roomId:roomId,$eventType:eventType,$stateKey:stateKey};let path=utils.encodeUri("/rooms/$roomId/state/$eventType",pathParams);return void 0!==stateKey&&(path=utils.encodeUri(path+"/$stateKey",pathParams)),this._http.authedRequest(callback,"GET",path)},MatrixBaseApis.prototype.sendStateEvent=function(roomId,eventType,content,stateKey,callback){const pathParams={$roomId:roomId,$eventType:eventType,$stateKey:stateKey};let path=utils.encodeUri("/rooms/$roomId/state/$eventType",pathParams);return void 0!==stateKey&&(path=utils.encodeUri(path+"/$stateKey",pathParams)),this._http.authedRequest(callback,"PUT",path,void 0,content)},MatrixBaseApis.prototype.roomInitialSync=function(roomId,limit,callback){utils.isFunction(limit)&&(callback=limit,limit=void 0);const path=utils.encodeUri("/rooms/$roomId/initialSync",{$roomId:roomId});return limit||(limit=30),this._http.authedRequest(callback,"GET",path,{limit:limit})},MatrixBaseApis.prototype.setRoomReadMarkersHttpRequest=function(roomId,rmEventId,rrEventId,opts){const path=utils.encodeUri("/rooms/$roomId/read_markers",{$roomId:roomId}),content={"m.fully_read":rmEventId,"m.read":rrEventId,"m.hidden":Boolean(!!opts&&opts.hidden)};return this._http.authedRequest(void 0,"POST",path,void 0,content)},MatrixBaseApis.prototype.getJoinedRooms=function(){const path=utils.encodeUri("/joined_rooms");return this._http.authedRequest(void 0,"GET",path)},MatrixBaseApis.prototype.getJoinedRoomMembers=function(roomId){const path=utils.encodeUri("/rooms/$roomId/joined_members",{$roomId:roomId});return this._http.authedRequest(void 0,"GET",path)},MatrixBaseApis.prototype.publicRooms=function(options,callback){"function"==typeof options&&(callback=options,options={}),void 0===options&&(options={});const query_params={};return options.server&&(query_params.server=options.server,delete options.server),0===Object.keys(options).length&&0===Object.keys(query_params).length?this._http.authedRequest(callback,"GET","/publicRooms"):this._http.authedRequest(callback,"POST","/publicRooms",query_params,options)},MatrixBaseApis.prototype.createAlias=function(alias,roomId,callback){const path=utils.encodeUri("/directory/room/$alias",{$alias:alias}),data={room_id:roomId};return this._http.authedRequest(callback,"PUT",path,void 0,data)},MatrixBaseApis.prototype.deleteAlias=function(alias,callback){const path=utils.encodeUri("/directory/room/$alias",{$alias:alias});return this._http.authedRequest(callback,"DELETE",path,void 0,void 0)},MatrixBaseApis.prototype.getRoomIdForAlias=function(alias,callback){const path=utils.encodeUri("/directory/room/$alias",{$alias:alias});return this._http.authedRequest(callback,"GET",path)},MatrixBaseApis.prototype.resolveRoomAlias=function(roomAlias,callback){const path=utils.encodeUri("/directory/room/$alias",{$alias:roomAlias});return this._http.request(callback,"GET",path)},MatrixBaseApis.prototype.getRoomDirectoryVisibility=function(roomId,callback){const path=utils.encodeUri("/directory/list/room/$roomId",{$roomId:roomId});return this._http.authedRequest(callback,"GET",path)},MatrixBaseApis.prototype.setRoomDirectoryVisibility=function(roomId,visibility,callback){const path=utils.encodeUri("/directory/list/room/$roomId",{$roomId:roomId});return this._http.authedRequest(callback,"PUT",path,void 0,{visibility:visibility})},MatrixBaseApis.prototype.setRoomDirectoryVisibilityAppService=function(networkId,roomId,visibility,callback){const path=utils.encodeUri("/directory/list/appservice/$networkId/$roomId",{$networkId:networkId,$roomId:roomId});return this._http.authedRequest(callback,"PUT",path,void 0,{visibility:visibility})},MatrixBaseApis.prototype.searchUserDirectory=function(opts){const body={search_term:opts.term};return void 0!==opts.limit&&(body.limit=opts.limit),this._http.authedRequest(void 0,"POST","/user_directory/search",void 0,body)},MatrixBaseApis.prototype.uploadContent=function(file,opts){return this._http.uploadContent(file,opts)},MatrixBaseApis.prototype.cancelUpload=function(promise){return this._http.cancelUpload(promise)},MatrixBaseApis.prototype.getCurrentUploads=function(){return this._http.getCurrentUploads()},MatrixBaseApis.prototype.getProfileInfo=function(userId,info,callback){utils.isFunction(info)&&(callback=info,info=void 0);const path=info?utils.encodeUri("/profile/$userId/$info",{$userId:userId,$info:info}):utils.encodeUri("/profile/$userId",{$userId:userId});return this._http.authedRequest(callback,"GET",path)},MatrixBaseApis.prototype.getThreePids=function(callback){return this._http.authedRequest(callback,"GET","/account/3pid",void 0,void 0)},MatrixBaseApis.prototype.addThreePid=function(creds,bind,callback){const data={threePidCreds:creds,bind:bind};return this._http.authedRequest(callback,"POST","/account/3pid",null,data)},MatrixBaseApis.prototype.addThreePidOnly=async function(data){const prefix=await this.isVersionSupported("r0.6.0")?_httpApi.PREFIX_R0:_httpApi.PREFIX_UNSTABLE;return this._http.authedRequest(void 0,"POST","/account/3pid/add",null,data,{prefix:prefix})},MatrixBaseApis.prototype.bindThreePid=async function(data){const prefix=await this.isVersionSupported("r0.6.0")?_httpApi.PREFIX_R0:_httpApi.PREFIX_UNSTABLE;return this._http.authedRequest(void 0,"POST","/account/3pid/bind",null,data,{prefix:prefix})},MatrixBaseApis.prototype.unbindThreePid=async function(medium,address){const data={medium:medium,address:address,id_server:this.getIdentityServerUrl(!0)},prefix=await this.isVersionSupported("r0.6.0")?_httpApi.PREFIX_R0:_httpApi.PREFIX_UNSTABLE;return this._http.authedRequest(void 0,"POST","/account/3pid/unbind",null,data,{prefix:prefix})},MatrixBaseApis.prototype.deleteThreePid=function(medium,address){const data={medium:medium,address:address};return this._http.authedRequest(void 0,"POST","/account/3pid/delete",null,data)},MatrixBaseApis.prototype.setPassword=function(authDict,newPassword,callback){const data={auth:authDict,new_password:newPassword};return this._http.authedRequest(callback,"POST","/account/password",null,data)},MatrixBaseApis.prototype.getDevices=function(){return this._http.authedRequest(void 0,"GET","/devices",void 0,void 0)},MatrixBaseApis.prototype.setDeviceDetails=function(device_id,body){const path=utils.encodeUri("/devices/$device_id",{$device_id:device_id});return this._http.authedRequest(void 0,"PUT",path,void 0,body)},MatrixBaseApis.prototype.deleteDevice=function(device_id,auth){const path=utils.encodeUri("/devices/$device_id",{$device_id:device_id}),body={};return auth&&(body.auth=auth),this._http.authedRequest(void 0,"DELETE",path,void 0,body)},MatrixBaseApis.prototype.deleteMultipleDevices=function(devices,auth){const body={devices:devices};auth&&(body.auth=auth);return this._http.authedRequest(void 0,"POST","/delete_devices",void 0,body)},MatrixBaseApis.prototype.getPushers=function(callback){return this._http.authedRequest(callback,"GET","/pushers",void 0,void 0)},MatrixBaseApis.prototype.setPusher=function(pusher,callback){return this._http.authedRequest(callback,"POST","/pushers/set",null,pusher)},MatrixBaseApis.prototype.getPushRules=function(callback){return this._http.authedRequest(callback,"GET","/pushrules/").then(rules=>_pushprocessor.PushProcessor.rewriteDefaultRules(rules))},MatrixBaseApis.prototype.addPushRule=function(scope,kind,ruleId,body,callback){const path=utils.encodeUri("/pushrules/"+scope+"/$kind/$ruleId",{$kind:kind,$ruleId:ruleId});return this._http.authedRequest(callback,"PUT",path,void 0,body)},MatrixBaseApis.prototype.deletePushRule=function(scope,kind,ruleId,callback){const path=utils.encodeUri("/pushrules/"+scope+"/$kind/$ruleId",{$kind:kind,$ruleId:ruleId});return this._http.authedRequest(callback,"DELETE",path)},MatrixBaseApis.prototype.setPushRuleEnabled=function(scope,kind,ruleId,enabled,callback){const path=utils.encodeUri("/pushrules/"+scope+"/$kind/$ruleId/enabled",{$kind:kind,$ruleId:ruleId});return this._http.authedRequest(callback,"PUT",path,void 0,{enabled:enabled})},MatrixBaseApis.prototype.setPushRuleActions=function(scope,kind,ruleId,actions,callback){const path=utils.encodeUri("/pushrules/"+scope+"/$kind/$ruleId/actions",{$kind:kind,$ruleId:ruleId});return this._http.authedRequest(callback,"PUT",path,void 0,{actions:actions})},MatrixBaseApis.prototype.search=function(opts,callback){const queryparams={};return opts.next_batch&&(queryparams.next_batch=opts.next_batch),this._http.authedRequest(callback,"POST","/search",queryparams,opts.body)},MatrixBaseApis.prototype.uploadKeysRequest=function(content,opts,callback){const deviceId=(opts=opts||{}).device_id;let path;return path=deviceId?utils.encodeUri("/keys/upload/$deviceId",{$deviceId:deviceId}):"/keys/upload",this._http.authedRequest(callback,"POST",path,void 0,content)},MatrixBaseApis.prototype.uploadKeySignatures=function(content){return this._http.authedRequest(void 0,"POST","/keys/signatures/upload",void 0,content,{prefix:_httpApi.PREFIX_UNSTABLE})},MatrixBaseApis.prototype.downloadKeysForUsers=function(userIds,opts){if(utils.isFunction(opts))throw new Error("downloadKeysForUsers no longer accepts a callback parameter");const content={device_keys:{}};return"token"in(opts=opts||{})&&(content.token=opts.token),userIds.forEach(u=>{content.device_keys[u]={}}),this._http.authedRequest(void 0,"POST","/keys/query",void 0,content)},MatrixBaseApis.prototype.claimOneTimeKeys=function(devices,key_algorithm){const queries={};void 0===key_algorithm&&(key_algorithm="signed_curve25519");for(let i=0;i<devices.length;++i){const userId=devices[i][0],deviceId=devices[i][1],query=queries[userId]||{};queries[userId]=query,query[deviceId]=key_algorithm}const content={one_time_keys:queries};return this._http.authedRequest(void 0,"POST","/keys/claim",void 0,content)},MatrixBaseApis.prototype.getKeyChanges=function(oldToken,newToken){const qps={from:oldToken,to:newToken};return this._http.authedRequest(void 0,"GET","/keys/changes",qps,void 0)},MatrixBaseApis.prototype.uploadDeviceSigningKeys=function(auth,keys){const data=Object.assign({},keys,{auth:auth});return this._http.authedRequest(void 0,"POST","/keys/device_signing/upload",void 0,data,{prefix:_httpApi.PREFIX_UNSTABLE})},MatrixBaseApis.prototype.registerWithIdentityServer=function(hsOpenIdToken){if(!this.idBaseUrl)throw new Error("No Identity Server base URL set");const uri=this.idBaseUrl+_httpApi.PREFIX_IDENTITY_V2+"/account/register";return this._http.requestOtherUrl(void 0,"POST",uri,null,hsOpenIdToken)},MatrixBaseApis.prototype.requestEmailToken=async function(email,clientSecret,sendAttempt,nextLink,callback,identityAccessToken){const params={client_secret:clientSecret,email:email,send_attempt:sendAttempt,next_link:nextLink};try{const response=await this._http.idServerRequest(void 0,"POST","/validate/email/requestToken",params,_httpApi.PREFIX_IDENTITY_V2,identityAccessToken);return callback&&callback(null,response),response}catch(err){if("rejected"===err.cors||404===err.httpStatus)return _logger.logger.warn("IS doesn't support v2, falling back to deprecated v1"),await this._http.idServerRequest(callback,"POST","/validate/email/requestToken",params,_httpApi.PREFIX_IDENTITY_V1);throw callback&&callback(err),err}},MatrixBaseApis.prototype.requestMsisdnToken=async function(phoneCountry,phoneNumber,clientSecret,sendAttempt,nextLink,callback,identityAccessToken){const params={client_secret:clientSecret,country:phoneCountry,phone_number:phoneNumber,send_attempt:sendAttempt,next_link:nextLink};try{const response=await this._http.idServerRequest(void 0,"POST","/validate/msisdn/requestToken",params,_httpApi.PREFIX_IDENTITY_V2,identityAccessToken);return callback&&callback(null,response),response}catch(err){if("rejected"===err.cors||404===err.httpStatus)return _logger.logger.warn("IS doesn't support v2, falling back to deprecated v1"),await this._http.idServerRequest(callback,"POST","/validate/msisdn/requestToken",params,_httpApi.PREFIX_IDENTITY_V1);throw callback&&callback(err),err}},MatrixBaseApis.prototype.submitMsisdnToken=async function(sid,clientSecret,msisdnToken,identityAccessToken){const params={sid:sid,client_secret:clientSecret,token:msisdnToken};try{return await this._http.idServerRequest(void 0,"POST","/validate/msisdn/submitToken",params,_httpApi.PREFIX_IDENTITY_V2,identityAccessToken)}catch(err){if("rejected"===err.cors||404===err.httpStatus)return _logger.logger.warn("IS doesn't support v2, falling back to deprecated v1"),await this._http.idServerRequest(void 0,"POST","/validate/msisdn/submitToken",params,_httpApi.PREFIX_IDENTITY_V1);throw err}},MatrixBaseApis.prototype.submitMsisdnTokenOtherUrl=function(url,sid,clientSecret,msisdnToken){const params={sid:sid,client_secret:clientSecret,token:msisdnToken};return this._http.requestOtherUrl(void 0,"POST",url,void 0,params)},MatrixBaseApis.prototype.getIdentityHashDetails=function(identityAccessToken){return this._http.idServerRequest(void 0,"GET","/hash_details",null,_httpApi.PREFIX_IDENTITY_V2,identityAccessToken)},MatrixBaseApis.prototype.identityHashedLookup=async function(addressPairs,identityAccessToken){const params={},hashes=await this.getIdentityHashDetails(identityAccessToken);if(!hashes||!hashes.lookup_pepper||!hashes.algorithms)throw new Error("Unsupported identity server: bad response");params.pepper=hashes.lookup_pepper;const localMapping={};if(hashes.algorithms.includes("sha256")){const olmutil=new global.Olm.Utility;params.addresses=addressPairs.map(p=>{const addr=p[0].toLowerCase(),med=p[1].toLowerCase(),hashed=olmutil.sha256(`${addr} ${med} ${params.pepper}`).replace(/\+/g,"-").replace(/\//g,"_");return localMapping[hashed]=p[0],hashed}),params.algorithm="sha256"}else{if(!hashes.algorithms.includes("none"))throw new Error("Unsupported identity server: unknown hash algorithm");params.addresses=addressPairs.map(p=>{const unhashed=`${p[0].toLowerCase()} ${p[1].toLowerCase()}`;return localMapping[unhashed]=p[0],unhashed}),params.algorithm="none"}const response=await this._http.idServerRequest(void 0,"POST","/lookup",params,_httpApi.PREFIX_IDENTITY_V2,identityAccessToken);if(!response||!response.mappings)return[];const foundAddresses=[];for(const hashed of Object.keys(response.mappings)){const mxid=response.mappings[hashed],plainAddress=localMapping[hashed];if(!plainAddress)throw new Error("Identity server returned more results than expected");foundAddresses.push({address:plainAddress,mxid:mxid})}return foundAddresses},MatrixBaseApis.prototype.lookupThreePid=async function(medium,address,callback,identityAccessToken){try{const result=(await this.identityHashedLookup([[address,medium]],identityAccessToken)).find(p=>p.address===address);if(!result)return callback&&callback(null,{}),{};const mapping={address:address,medium:medium,mxid:result.mxid};return callback&&callback(null,mapping),mapping}catch(err){if("rejected"===err.cors||404===err.httpStatus){const params={medium:medium,address:address};return _logger.logger.warn("IS doesn't support v2, falling back to deprecated v1"),await this._http.idServerRequest(callback,"GET","/lookup",params,_httpApi.PREFIX_IDENTITY_V1)}throw callback&&callback(err,void 0),err}},MatrixBaseApis.prototype.bulkLookupThreePids=async function(query,identityAccessToken){try{const response=await this.identityHashedLookup(query.map(p=>[p[1],p[0]]),identityAccessToken),v1results=[];for(const mapping of response){const originalQuery=query.find(p=>p[1]===mapping.address);if(!originalQuery)throw new Error("Identity sever returned unexpected results");v1results.push([originalQuery[0],mapping.address,mapping.mxid])}return{threepids:v1results}}catch(err){if("rejected"===err.cors||404===err.httpStatus){const params={threepids:query};return _logger.logger.warn("IS doesn't support v2, falling back to deprecated v1"),await this._http.idServerRequest(void 0,"POST","/bulk_lookup",params,_httpApi.PREFIX_IDENTITY_V1,identityAccessToken)}throw err}},MatrixBaseApis.prototype.getIdentityAccount=function(identityAccessToken){return this._http.idServerRequest(void 0,"GET","/account",void 0,_httpApi.PREFIX_IDENTITY_V2,identityAccessToken)},MatrixBaseApis.prototype.sendToDevice=function(eventType,contentMap,txnId){const path=utils.encodeUri("/sendToDevice/$eventType/$txnId",{$eventType:eventType,$txnId:txnId||this.makeTxnId()}),body={messages:contentMap},targets=Object.keys(contentMap).reduce((obj,key)=>(obj[key]=Object.keys(contentMap[key]),obj),{});return _logger.logger.log(`PUT ${path}`,targets),this._http.authedRequest(void 0,"PUT",path,void 0,body)},MatrixBaseApis.prototype.getThirdpartyProtocols=function(){return this._http.authedRequest(void 0,"GET","/thirdparty/protocols",void 0,void 0).then(response=>{if(!response||"object"!=typeof response)throw new Error(`/thirdparty/protocols did not return an object: ${response}`);return response})},MatrixBaseApis.prototype.getThirdpartyLocation=function(protocol,params){const path=utils.encodeUri("/thirdparty/location/$protocol",{$protocol:protocol});return this._http.authedRequest(void 0,"GET",path,params,void 0)},MatrixBaseApis.prototype.getThirdpartyUser=function(protocol,params){const path=utils.encodeUri("/thirdparty/user/$protocol",{$protocol:protocol});return this._http.authedRequest(void 0,"GET",path,params,void 0)},MatrixBaseApis.prototype.getTerms=function(serviceType,baseUrl){const url=termsUrlForService(serviceType,baseUrl);return this._http.requestOtherUrl(void 0,"GET",url)},MatrixBaseApis.prototype.agreeToTerms=function(serviceType,baseUrl,accessToken,termsUrls){const url=termsUrlForService(serviceType,baseUrl),headers={Authorization:"Bearer "+accessToken};return this._http.requestOtherUrl(void 0,"POST",url,null,{user_accepts:termsUrls},{headers:headers})},MatrixBaseApis.prototype.reportEvent=function(roomId,eventId,score,reason){const path=utils.encodeUri("/rooms/$roomId/report/$eventId",{$roomId:roomId,$eventId:eventId});return this._http.authedRequest(void 0,"POST",path,null,{score:score,reason:reason})}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";
/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var PARAM_REGEXP=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,TEXT_REGEXP=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,TOKEN_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,QESC_REGEXP=/\\([\u000b\u0020-\u00ff])/g,QUOTE_REGEXP=/([\\"])/g,TYPE_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function qstring(val){var str=String(val);if(TOKEN_REGEXP.test(str))return str;if(str.length>0&&!TEXT_REGEXP.test(str))throw new TypeError("invalid parameter value");return'"'+str.replace(QUOTE_REGEXP,"\\$1")+'"'}function ContentType(type){this.parameters=Object.create(null),this.type=type}exports.format=function format(obj){if(!obj||"object"!=typeof obj)throw new TypeError("argument obj is required");var parameters=obj.parameters,type=obj.type;if(!type||!TYPE_REGEXP.test(type))throw new TypeError("invalid type");var string=type;if(parameters&&"object"==typeof parameters)for(var param,params=Object.keys(parameters).sort(),i=0;i<params.length;i++){if(param=params[i],!TOKEN_REGEXP.test(param))throw new TypeError("invalid parameter name");string+="; "+param+"="+qstring(parameters[param])}return string},exports.parse=function parse(string){if(!string)throw new TypeError("argument string is required");var header="object"==typeof string?function getcontenttype(obj){var header;"function"==typeof obj.getHeader?header=obj.getHeader("content-type"):"object"==typeof obj.headers&&(header=obj.headers&&obj.headers["content-type"]);if("string"!=typeof header)throw new TypeError("content-type header is missing from object");return header}(string):string;if("string"!=typeof header)throw new TypeError("argument string is required to be a string");var index=header.indexOf(";"),type=-1!==index?header.substr(0,index).trim():header.trim();if(!TYPE_REGEXP.test(type))throw new TypeError("invalid media type");var obj=new ContentType(type.toLowerCase());if(-1!==index){var key,match,value;for(PARAM_REGEXP.lastIndex=index;match=PARAM_REGEXP.exec(header);){if(match.index!==index)throw new TypeError("invalid parameter format");index+=match[0].length,key=match[1].toLowerCase(),'"'===(value=match[2])[0]&&(value=value.substr(1,value.length-2).replace(QESC_REGEXP,"$1")),obj.parameters[key]=value}if(index!==header.length)throw new TypeError("invalid parameter format")}return obj}},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.setNow=function setNow(f){_now=f||Date.now},exports.setTimeout=function setTimeout(func,delayMs){(delayMs=delayMs||0)<0&&(delayMs=0);const params=Array.prototype.slice.call(arguments,2),runAt=_now()+delayMs,key=_count++;debuglog("setTimeout: scheduling cb",key,"at",runAt,"(delay",delayMs,")");const data={runAt:runAt,func:func,params:params,key:key},idx=function binarySearch(array,func){let min=0,max=array.length;for(;min<max;){const mid=min+max>>1;func(array[mid])>0?max=mid:min=mid+1}return min}(_callbackList,function(el){return el.runAt-runAt});return _callbackList.splice(idx,0,data),_scheduleRealCallback(),key},exports.clearTimeout=function clearTimeout(key){if(0===_callbackList.length)return;let i;for(i=0;i<_callbackList.length;i++){if(_callbackList[i].key==key){_callbackList.splice(i,1);break}}0===i&&_scheduleRealCallback()};var _logger=__webpack_require__(2);const TIMER_CHECK_PERIOD_MS=1e3;let _realCallbackKey,_count=0;const _callbackList=[],debuglog=function(){};let _now=Date.now;function _scheduleRealCallback(){_realCallbackKey&&global.clearTimeout(_realCallbackKey);const first=_callbackList[0];if(!first)return void debuglog("_scheduleRealCallback: no more callbacks, not rescheduling");const now=_now(),delayMs=Math.min(first.runAt-now,TIMER_CHECK_PERIOD_MS);debuglog("_scheduleRealCallback: now:",now,"delay:",delayMs),_realCallbackKey=global.setTimeout(_runCallbacks,delayMs)}function _runCallbacks(){let cb;const now=_now();debuglog("_runCallbacks: now:",now);const callbacksToRun=[];for(;;){const first=_callbackList[0];if(!first||first.runAt>now)break;cb=_callbackList.shift(),debuglog("_runCallbacks: popping",cb.key),callbacksToRun.push(cb)}_scheduleRealCallback();for(let i=0;i<callbacksToRun.length;i++){cb=callbacksToRun[i];try{cb.func.apply(global,cb.params)}catch(e){_logger.logger.error("Uncaught exception in callback function",e.stack||e)}}}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";function FilterComponent(filter_json){this.filter_json=filter_json,this.types=filter_json.types||null,this.not_types=filter_json.not_types||[],this.rooms=filter_json.rooms||null,this.not_rooms=filter_json.not_rooms||[],this.senders=filter_json.senders||null,this.not_senders=filter_json.not_senders||[],this.contains_url=filter_json.contains_url||null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterComponent=FilterComponent,FilterComponent.prototype.check=function(event){return this._checkFields(event.getRoomId(),event.getSender(),event.getType(),!!event.getContent()&&void 0!==event.getContent().url)},FilterComponent.prototype._checkFields=function(room_id,sender,event_type,contains_url){const literal_keys={rooms:function(v){return room_id===v},senders:function(v){return sender===v},types:function(v){return function _matches_wildcard(actual_value,filter_value){if(filter_value.endsWith("*")){const type_prefix=filter_value.slice(0,-1);return actual_value.substr(0,type_prefix.length)===type_prefix}return actual_value===filter_value}(event_type,v)}},self=this;for(let n=0;n<Object.keys(literal_keys).length;n++){const name=Object.keys(literal_keys)[n],match_func=literal_keys[name];if(self["not_"+name].filter(match_func).length>0)return!1;const allowed_values=self[name];if(allowed_values&&!allowed_values.map(match_func))return!1}const contains_url_filter=this.filter_json.contains_url;return void 0===contains_url_filter||contains_url_filter===contains_url},FilterComponent.prototype.filter=function(events){return events.filter(this.check,this)},FilterComponent.prototype.limit=function(){return void 0!==this.filter_json.limit?this.filter_json.limit:10}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.SyncApi=SyncApi;var _user=__webpack_require__(146),_room=__webpack_require__(397),_group=__webpack_require__(400),utils=_interopRequireWildcard(__webpack_require__(5)),_filter=__webpack_require__(230),_eventTimeline=__webpack_require__(76),_pushprocessor=__webpack_require__(229),_logger=__webpack_require__(2),_errors=__webpack_require__(233);const DEBUG=!0;function getFilterName(userId,suffix){return"FILTER_SYNC_"+userId+(suffix?"_"+suffix:"")}function debuglog(...params){DEBUG&&_logger.logger.log(...params)}function SyncApi(client,opts){this.client=client,(opts=opts||{}).initialSyncLimit=void 0===opts.initialSyncLimit?8:opts.initialSyncLimit,opts.resolveInvitesToProfiles=opts.resolveInvitesToProfiles||!1,opts.pollTimeout=opts.pollTimeout||3e4,opts.pendingEventOrdering=opts.pendingEventOrdering||"chronological",opts.canResetEntireTimeline||(opts.canResetEntireTimeline=function(roomId){return!1}),this.opts=opts,this._peekRoomId=null,this._currentSyncRequest=null,this._syncState=null,this._syncStateData=null,this._catchingUp=!1,this._running=!1,this._keepAliveTimer=null,this._connectionReturnedDefer=null,this._notifEvents=[],this._failedSyncCount=0,this._storeIsInvalid=!1,client.getNotifTimelineSet()&&client.reEmitter.reEmit(client.getNotifTimelineSet(),["Room.timeline","Room.timelineReset"])}function createNewUser(client,userId){const user=new _user.User(userId);return client.reEmitter.reEmit(user,["User.avatarUrl","User.displayName","User.presence","User.currentlyActive","User.lastPresenceTs"]),user}SyncApi.prototype.createRoom=function(roomId){const client=this.client,{timelineSupport:timelineSupport,unstableClientRelationAggregation:unstableClientRelationAggregation}=client,room=new _room.Room(roomId,client,client.getUserId(),{lazyLoadMembers:this.opts.lazyLoadMembers,pendingEventOrdering:this.opts.pendingEventOrdering,timelineSupport:timelineSupport,unstableClientRelationAggregation:unstableClientRelationAggregation});return client.reEmitter.reEmit(room,["Room.name","Room.timeline","Room.redaction","Room.redactionCancelled","Room.receipt","Room.tags","Room.timelineReset","Room.localEchoUpdated","Room.accountData","Room.myMembership","Room.replaceEvent"]),this._registerStateListeners(room),room},SyncApi.prototype.createGroup=function(groupId){const client=this.client,group=new _group.Group(groupId);return client.reEmitter.reEmit(group,["Group.profile","Group.myMembership"]),client.store.storeGroup(group),group},SyncApi.prototype._registerStateListeners=function(room){const client=this.client;client.reEmitter.reEmit(room.currentState,["RoomState.events","RoomState.members","RoomState.newMember"]),room.currentState.on("RoomState.newMember",function(event,state,member){member.user=client.getUser(member.userId),client.reEmitter.reEmit(member,["RoomMember.name","RoomMember.typing","RoomMember.powerLevel","RoomMember.membership"])})},SyncApi.prototype._deregisterStateListeners=function(room){room.currentState.removeAllListeners("RoomState.events"),room.currentState.removeAllListeners("RoomState.members"),room.currentState.removeAllListeners("RoomState.newMember")},SyncApi.prototype.syncLeftRooms=function(){const client=this.client,self=this,filter=new _filter.Filter(this.client.credentials.userId);filter.setTimelineLimit(1),filter.setIncludeLeaveRooms(!0);const localTimeoutMs=this.opts.pollTimeout+8e4,qps={timeout:0};return client.getOrCreateFilter(getFilterName(client.credentials.userId,"LEFT_ROOMS"),filter).then(function(filterId){return qps.filter=filterId,client._http.authedRequest(void 0,"GET","/sync",qps,void 0,localTimeoutMs)}).then(function(data){let leaveRooms=[];data.rooms&&data.rooms.leave&&(leaveRooms=self._mapSyncResponseToRoomArray(data.rooms.leave));const rooms=[];return leaveRooms.forEach(function(leaveObj){const room=leaveObj.room;if(rooms.push(room),!leaveObj.isBrandNewRoom)return;leaveObj.timeline=leaveObj.timeline||{};const timelineEvents=self._mapSyncEventsFormat(leaveObj.timeline,room),stateEvents=self._mapSyncEventsFormat(leaveObj.state,room);room.getLiveTimeline().setPaginationToken(leaveObj.timeline.prev_batch,_eventTimeline.EventTimeline.BACKWARDS),self._processRoomEvents(room,stateEvents,timelineEvents),room.recalculate(),client.store.storeRoom(room),client.emit("Room",room),self._processEventsForNotifs(room,timelineEvents)}),rooms})},SyncApi.prototype.peek=function(roomId){const self=this,client=this.client;return this._peekRoomId=roomId,this.client.roomInitialSync(roomId,20).then(function(response){response.messages=response.messages||{},response.messages.chunk=response.messages.chunk||[],response.state=response.state||[];const peekRoom=self.createRoom(roomId),oldStateEvents=utils.map(utils.deepCopy(response.state),client.getEventMapper()),stateEvents=utils.map(response.state,client.getEventMapper()),messages=utils.map(response.messages.chunk,client.getEventMapper());return response.presence&&utils.isArray(response.presence)&&response.presence.map(client.getEventMapper()).forEach(function(presenceEvent){let user=client.store.getUser(presenceEvent.getContent().user_id);user?user.setPresenceEvent(presenceEvent):((user=createNewUser(client,presenceEvent.getContent().user_id)).setPresenceEvent(presenceEvent),client.store.storeUser(user)),client.emit("event",presenceEvent)}),response.messages.start&&(peekRoom.oldState.paginationToken=response.messages.start),peekRoom.oldState.setStateEvents(oldStateEvents),peekRoom.currentState.setStateEvents(stateEvents),self._resolveInvites(peekRoom),peekRoom.recalculate(),peekRoom.addEventsToTimeline(messages.reverse(),!0,peekRoom.getLiveTimeline(),response.messages.start),client.store.storeRoom(peekRoom),client.emit("Room",peekRoom),self._peekPoll(peekRoom),peekRoom})},SyncApi.prototype.stopPeeking=function(){this._peekRoomId=null},SyncApi.prototype._peekPoll=function(peekRoom,token){if(this._peekRoomId!==peekRoom.roomId)return void debuglog("Stopped peeking in room %s",peekRoom.roomId);const self=this;this.client._http.authedRequest(void 0,"GET","/events",{room_id:peekRoom.roomId,timeout:3e4,from:token},void 0,5e4).then(function(res){if(self._peekRoomId!==peekRoom.roomId)return void debuglog("Stopped peeking in room %s",peekRoom.roomId);res.chunk.filter(function(e){return"m.presence"===e.type}).map(self.client.getEventMapper()).forEach(function(presenceEvent){let user=self.client.store.getUser(presenceEvent.getContent().user_id);user?user.setPresenceEvent(presenceEvent):((user=createNewUser(self.client,presenceEvent.getContent().user_id)).setPresenceEvent(presenceEvent),self.client.store.storeUser(user)),self.client.emit("event",presenceEvent)});const events=res.chunk.filter(function(e){return e.room_id===peekRoom.roomId}).map(self.client.getEventMapper());peekRoom.addLiveEvents(events),self._peekPoll(peekRoom,res.end)},function(err){_logger.logger.error("[%s] Peek poll failed: %s",peekRoom.roomId,err),setTimeout(function(){self._peekPoll(peekRoom,token)},3e4)})},SyncApi.prototype.getSyncState=function(){return this._syncState},SyncApi.prototype.getSyncStateData=function(){return this._syncStateData},SyncApi.prototype.recoverFromSyncStartupError=async function(savedSyncPromise,err){await savedSyncPromise;const keepaliveProm=this._startKeepAlives();this._updateSyncState("ERROR",{error:err}),await keepaliveProm},SyncApi.prototype._wasLazyLoadingToggled=async function(lazyLoadMembers){lazyLoadMembers=!!lazyLoadMembers;let lazyLoadMembersBefore=!1;if(!await this.client.store.isNewlyCreated()){const prevClientOptions=await this.client.store.getClientOptions();return prevClientOptions&&(lazyLoadMembersBefore=!!prevClientOptions.lazyLoadMembers),lazyLoadMembersBefore!==lazyLoadMembers}return!1},SyncApi.prototype._shouldAbortSync=function(error){return"M_UNKNOWN_TOKEN"===error.errcode&&(_logger.logger.warn("Token no longer valid - assuming logout"),this.stop(),!0)},SyncApi.prototype.sync=function(){const client=this.client,self=this;this._running=!0,global.document&&(this._onOnlineBound=this._onOnline.bind(this),global.document.addEventListener("online",this._onOnlineBound,!1));let savedSyncPromise=Promise.resolve(),savedSyncToken=null;const checkLazyLoadStatus=async()=>{if(debuglog("Checking lazy load status..."),this.opts.lazyLoadMembers&&client.isGuest()&&(this.opts.lazyLoadMembers=!1),this.opts.lazyLoadMembers){if(debuglog("Checking server lazy load support..."),await client.doesServerSupportLazyLoading())try{debuglog("Creating and storing lazy load sync filter..."),this.opts.filter=await client.createFilter(_filter.Filter.LAZY_LOADING_SYNC_FILTER),debuglog("Created and stored lazy load sync filter")}catch(err){throw _logger.logger.error("Creating and storing lazy load sync filter failed",err),err}else debuglog("LL: lazy loading requested but not supported by server, so disabling"),this.opts.lazyLoadMembers=!1}if(debuglog("Checking whether lazy loading has changed in store..."),await this._wasLazyLoadingToggled(this.opts.lazyLoadMembers)){this._storeIsInvalid=!0;const reason=_errors.InvalidStoreError.TOGGLED_LAZY_LOADING,error=new _errors.InvalidStoreError(reason,!!this.opts.lazyLoadMembers);return this._updateSyncState("ERROR",{error:error}),void _logger.logger.warn("InvalidStoreError: store is not usable: stopping sync.")}this.opts.lazyLoadMembers&&this.opts.crypto&&this.opts.crypto.enableLazyLoading();try{debuglog("Storing client options..."),await this.client._storeClientOptions(),debuglog("Stored client options")}catch(err){throw _logger.logger.error("Storing client options failed",err),err}!async function getFilter(){debuglog("Getting filter...");let filter;self.opts.filter?filter=self.opts.filter:(filter=new _filter.Filter(client.credentials.userId)).setTimelineLimit(self.opts.initialSyncLimit);let filterId;try{filterId=await client.getOrCreateFilter(getFilterName(client.credentials.userId),filter)}catch(err){if(_logger.logger.error("Getting filter failed",err),self._shouldAbortSync(err))return;return debuglog("Waiting for saved sync before retrying filter..."),await self.recoverFromSyncStartupError(savedSyncPromise,err),void getFilter()}client.resetNotifTimelineSet();null===self._currentSyncRequest&&(debuglog("Sending first sync request..."),self._currentSyncRequest=self._doSyncRequest({filterId:filterId},savedSyncToken));debuglog("Waiting for saved sync before starting sync processing...");await savedSyncPromise;self._sync({filterId:filterId})}()};client.isGuest()?self._sync({}):(debuglog("Getting saved sync token..."),savedSyncPromise=client.store.getSavedSyncToken().then(tok=>(debuglog("Got saved sync token"),savedSyncToken=tok,debuglog("Getting saved sync..."),client.store.getSavedSync())).then(savedSync=>{if(debuglog(`Got reply from saved sync, exists? ${!!savedSync}`),savedSync)return self._syncFromCache(savedSync)}).catch(err=>{_logger.logger.error("Getting saved sync failed",err)}),async function getPushRules(){try{debuglog("Getting push rules...");const result=await client.getPushRules();debuglog("Got push rules"),client.pushRules=result}catch(err){if(_logger.logger.error("Getting push rules failed",err),self._shouldAbortSync(err))return;return debuglog("Waiting for saved sync before retrying push rules..."),await self.recoverFromSyncStartupError(savedSyncPromise,err),void getPushRules()}checkLazyLoadStatus()}())},SyncApi.prototype.stop=function(){debuglog("SyncApi.stop"),global.document&&(global.document.removeEventListener("online",this._onOnlineBound,!1),this._onOnlineBound=void 0),this._running=!1,this._currentSyncRequest&&this._currentSyncRequest.abort(),this._keepAliveTimer&&(clearTimeout(this._keepAliveTimer),this._keepAliveTimer=null)},SyncApi.prototype.retryImmediately=function(){return!!this._connectionReturnedDefer&&(this._startKeepAlives(0),!0)},SyncApi.prototype._syncFromCache=async function(savedSync){debuglog("sync(): not doing HTTP hit, instead returning stored /sync data");const nextSyncToken=savedSync.nextBatch;this.client.store.setSyncToken(nextSyncToken);const syncEventData={oldSyncToken:null,nextSyncToken:nextSyncToken,catchingUp:!1},data={next_batch:nextSyncToken,rooms:savedSync.roomsData,groups:savedSync.groupsData,account_data:{events:savedSync.accountData}};try{await this._processSyncResponse(syncEventData,data)}catch(e){_logger.logger.error("Error processing cached sync",e.stack||e)}this._storeIsInvalid||this._updateSyncState("PREPARED",syncEventData)},SyncApi.prototype._sync=async function(syncOptions){const client=this.client;if(!this._running)return debuglog("Sync no longer running: exiting."),this._connectionReturnedDefer&&(this._connectionReturnedDefer.reject(),this._connectionReturnedDefer=null),void this._updateSyncState("STOPPED");const syncToken=client.store.getSyncToken();let data;try{null===this._currentSyncRequest&&(this._currentSyncRequest=this._doSyncRequest(syncOptions,syncToken)),data=await this._currentSyncRequest}catch(e){return void this._onSyncError(e,syncOptions)}finally{this._currentSyncRequest=null}client.store.setSyncToken(data.next_batch),this._failedSyncCount=0,await client.store.setSyncData(data);const syncEventData={oldSyncToken:syncToken,nextSyncToken:data.next_batch,catchingUp:this._catchingUp};this.opts.crypto&&await this.opts.crypto.onSyncWillProcess(syncEventData);try{await this._processSyncResponse(syncEventData,data)}catch(e){_logger.logger.error("Caught /sync error",e.stack||e),this.client.emit("sync.unexpectedError",e)}syncEventData.catchingUp=this._catchingUp,syncOptions.hasSyncedBefore||(this._updateSyncState("PREPARED",syncEventData),syncOptions.hasSyncedBefore=!0),this.opts.crypto&&await this.opts.crypto.onSyncCompleted(syncEventData),this._updateSyncState("SYNCING",syncEventData),client.store.wantsSave()&&(this.opts.crypto&&await this.opts.crypto.saveDeviceList(0),client.store.save()),this._sync(syncOptions)},SyncApi.prototype._doSyncRequest=function(syncOptions,syncToken){const qps=this._getSyncParams(syncOptions,syncToken);return this.client._http.authedRequest(void 0,"GET","/sync",qps,void 0,qps.timeout+8e4)},SyncApi.prototype._getSyncParams=function(syncOptions,syncToken){let pollTimeout=this.opts.pollTimeout;("SYNCING"!==this.getSyncState()||this._catchingUp)&&(this._catchingUp=!0,pollTimeout=0);let filterId=syncOptions.filterId;this.client.isGuest()&&!filterId&&(filterId=this._getGuestFilter());const qps={filter:filterId,timeout:pollTimeout};return this.opts.disablePresence&&(qps.set_presence="offline"),syncToken?qps.since=syncToken:qps._cacheBuster=Date.now(),"ERROR"!=this.getSyncState()&&"RECONNECTING"!=this.getSyncState()||(qps.timeout=0),qps},SyncApi.prototype._onSyncError=function(err,syncOptions){if(!this._running)return debuglog("Sync no longer running: exiting"),this._connectionReturnedDefer&&(this._connectionReturnedDefer.reject(),this._connectionReturnedDefer=null),void this._updateSyncState("STOPPED");_logger.logger.error("/sync error %s",err),_logger.logger.error(err),this._shouldAbortSync(err)||(this._failedSyncCount++,_logger.logger.log("Number of consecutive failed sync requests:",this._failedSyncCount),debuglog("Starting keep-alive"),this._startKeepAlives().then(connDidFail=>{connDidFail&&"ERROR"===this.getSyncState()&&this._updateSyncState("CATCHUP",{oldSyncToken:null,nextSyncToken:null,catchingUp:!0}),this._sync(syncOptions)}),this._currentSyncRequest=null,this._updateSyncState(this._failedSyncCount>=3?"ERROR":"RECONNECTING",{error:err}))},SyncApi.prototype._processSyncResponse=async function(syncEventData,data){const client=this.client,self=this;if(data.presence&&utils.isArray(data.presence.events)&&data.presence.events.map(client.getEventMapper()).forEach(function(presenceEvent){let user=client.store.getUser(presenceEvent.getSender());user?user.setPresenceEvent(presenceEvent):((user=createNewUser(client,presenceEvent.getSender())).setPresenceEvent(presenceEvent),client.store.storeUser(user)),client.emit("event",presenceEvent)}),data.account_data&&utils.isArray(data.account_data.events)){const events=data.account_data.events.map(client.getEventMapper());client.store.storeAccountDataEvents(events),events.forEach(function(accountDataEvent){if("m.push_rules"===accountDataEvent.getType()){const rules=accountDataEvent.getContent();client.pushRules=_pushprocessor.PushProcessor.rewriteDefaultRules(rules)}return client.emit("accountData",accountDataEvent),accountDataEvent})}if(data.to_device&&utils.isArray(data.to_device.events)&&data.to_device.events.length>0){const cancelledKeyVerificationTxns=[];data.to_device.events.map(client.getEventMapper()).map(toDeviceEvent=>{if("m.key.verification.cancel"===toDeviceEvent.getType()){const txnId=toDeviceEvent.getContent().transaction_id;txnId&&cancelledKeyVerificationTxns.push(txnId)}return toDeviceEvent}).forEach(function(toDeviceEvent){const content=toDeviceEvent.getContent();if("m.room.message"!=toDeviceEvent.getType()||"m.bad.encrypted"!=content.msgtype){if("m.key.verification.start"===toDeviceEvent.getType()||"m.key.verification.request"===toDeviceEvent.getType()){const txnId=content.transaction_id;cancelledKeyVerificationTxns.includes(txnId)&&toDeviceEvent.flagCancelled()}client.emit("toDeviceEvent",toDeviceEvent)}else _logger.logger.log("Ignoring undecryptable to-device event from "+toDeviceEvent.getSender())})}else this._catchingUp=!1;data.groups&&(data.groups.invite&&this._processGroupSyncEntry(data.groups.invite,"invite"),data.groups.join&&this._processGroupSyncEntry(data.groups.join,"join"),data.groups.leave&&this._processGroupSyncEntry(data.groups.leave,"leave"));let inviteRooms=[],joinRooms=[],leaveRooms=[];if(data.rooms&&(data.rooms.invite&&(inviteRooms=this._mapSyncResponseToRoomArray(data.rooms.invite)),data.rooms.join&&(joinRooms=this._mapSyncResponseToRoomArray(data.rooms.join)),data.rooms.leave&&(leaveRooms=this._mapSyncResponseToRoomArray(data.rooms.leave))),this._notifEvents=[],inviteRooms.forEach(function(inviteObj){const room=inviteObj.room,stateEvents=self._mapSyncEventsFormat(inviteObj.invite_state,room);self._processRoomEvents(room,stateEvents),inviteObj.isBrandNewRoom&&(room.recalculate(),client.store.storeRoom(room),client.emit("Room",room)),stateEvents.forEach(function(e){client.emit("event",e)}),room.updateMyMembership("invite")}),await utils.promiseMapSeries(joinRooms,async function(joinObj){const room=joinObj.room,stateEvents=self._mapSyncEventsFormat(joinObj.state,room),timelineEvents=self._mapSyncEventsFormat(joinObj.timeline,room),ephemeralEvents=self._mapSyncEventsFormat(joinObj.ephemeral),accountDataEvents=self._mapSyncEventsFormat(joinObj.account_data);if(joinObj.unread_notifications){room.setUnreadNotificationCount("total",joinObj.unread_notifications.notification_count);const encrypted=client.isRoomEncrypted(room.roomId);(!encrypted||encrypted&&room.getUnreadNotificationCount("highlight")<=0)&&room.setUnreadNotificationCount("highlight",joinObj.unread_notifications.highlight_count)}if(joinObj.timeline=joinObj.timeline||{},joinObj.isBrandNewRoom)room.getLiveTimeline().setPaginationToken(joinObj.timeline.prev_batch,_eventTimeline.EventTimeline.BACKWARDS);else if(joinObj.timeline.limited){let limited=!0;for(let i=timelineEvents.length-1;i>=0;i--){const eventId=timelineEvents[i].getId();if(room.getTimelineForEvent(eventId)){debuglog("Already have event "+eventId+" in limited sync - not resetting"),limited=!1,timelineEvents.splice(0,i);break}}limited&&(self._deregisterStateListeners(room),room.resetLiveTimeline(joinObj.timeline.prev_batch,self.opts.canResetEntireTimeline(room.roomId)?null:syncEventData.oldSyncToken),client.resetNotifTimelineSet(),self._registerStateListeners(room))}async function processRoomEvent(e){if(client.emit("event",e),e.isState()&&"m.room.encryption"==e.getType()&&self.opts.crypto&&await self.opts.crypto.onCryptoEvent(e),e.isState()&&"im.vector.user_status"===e.getType()){let user=client.store.getUser(e.getStateKey());user?user._unstable_updateStatusMessage(e):((user=createNewUser(client,e.getStateKey()))._unstable_updateStatusMessage(e),client.store.storeUser(user))}}self._processRoomEvents(room,stateEvents,timelineEvents),joinObj.summary&&room.setSummary(joinObj.summary),room.addEphemeralEvents(ephemeralEvents),room.addAccountData(accountDataEvents),room.recalculate(),joinObj.isBrandNewRoom&&(client.store.storeRoom(room),client.emit("Room",room)),self._processEventsForNotifs(room,timelineEvents),await utils.promiseMapSeries(stateEvents,processRoomEvent),await utils.promiseMapSeries(timelineEvents,processRoomEvent),ephemeralEvents.forEach(function(e){client.emit("event",e)}),accountDataEvents.forEach(function(e){client.emit("event",e)}),room.updateMyMembership("join")}),leaveRooms.forEach(function(leaveObj){const room=leaveObj.room,stateEvents=self._mapSyncEventsFormat(leaveObj.state,room),timelineEvents=self._mapSyncEventsFormat(leaveObj.timeline,room),accountDataEvents=self._mapSyncEventsFormat(leaveObj.account_data);self._processRoomEvents(room,stateEvents,timelineEvents),room.addAccountData(accountDataEvents),room.recalculate(),leaveObj.isBrandNewRoom&&(client.store.storeRoom(room),client.emit("Room",room)),self._processEventsForNotifs(room,timelineEvents),stateEvents.forEach(function(e){client.emit("event",e)}),timelineEvents.forEach(function(e){client.emit("event",e)}),accountDataEvents.forEach(function(e){client.emit("event",e)}),room.updateMyMembership("leave")}),syncEventData.oldSyncToken&&this._notifEvents.length&&(this._notifEvents.sort(function(a,b){return a.getTs()-b.getTs()}),this._notifEvents.forEach(function(event){client.getNotifTimelineSet().addLiveEvent(event)})),data.device_lists&&this.opts.crypto&&await this.opts.crypto.handleDeviceListChanges(syncEventData,data.device_lists),this.opts.crypto&&data.device_one_time_keys_count){const currentCount=data.device_one_time_keys_count.signed_curve25519||0;this.opts.crypto.updateOneTimeKeyCount(currentCount)}},SyncApi.prototype._startKeepAlives=function(delay){void 0===delay&&(delay=2e3+Math.floor(5e3*Math.random())),null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer);const self=this;return delay>0?self._keepAliveTimer=setTimeout(self._pokeKeepAlive.bind(self),delay):self._pokeKeepAlive(),this._connectionReturnedDefer||(this._connectionReturnedDefer=utils.defer()),this._connectionReturnedDefer.promise},SyncApi.prototype._pokeKeepAlive=function(connDidFail){void 0===connDidFail&&(connDidFail=!1);const self=this;function success(){clearTimeout(self._keepAliveTimer),self._connectionReturnedDefer&&(self._connectionReturnedDefer.resolve(connDidFail),self._connectionReturnedDefer=null)}this.client._http.request(void 0,"GET","/_matrix/client/versions",void 0,void 0,{prefix:"",localTimeoutMs:15e3}).then(function(){success()},function(err){400==err.httpStatus||404==err.httpStatus?self._keepAliveTimer=setTimeout(success,2e3):(connDidFail=!0,self._keepAliveTimer=setTimeout(self._pokeKeepAlive.bind(self,connDidFail),5e3+Math.floor(5e3*Math.random())),self._updateSyncState("ERROR",{error:err}))})},SyncApi.prototype._processGroupSyncEntry=function(groupsSection,sectionName){for(const groupId of Object.keys(groupsSection)){const groupInfo=groupsSection[groupId];let group=this.client.store.getGroup(groupId);const isBrandNew=null===group;null===group&&(group=this.createGroup(groupId)),groupInfo.profile&&group.setProfile(groupInfo.profile.name,groupInfo.profile.avatar_url),groupInfo.inviter&&group.setInviter({userId:groupInfo.inviter}),group.setMyMembership(sectionName),isBrandNew&&this.client.emit("Group",group)}},SyncApi.prototype._mapSyncResponseToRoomArray=function(obj){const client=this.client,self=this;return utils.keys(obj).map(function(roomId){const arrObj=obj[roomId];let room=client.store.getRoom(roomId),isBrandNewRoom=!1;return room||(room=self.createRoom(roomId),isBrandNewRoom=!0),arrObj.room=room,arrObj.isBrandNewRoom=isBrandNewRoom,arrObj})},SyncApi.prototype._mapSyncEventsFormat=function(obj,room){if(!obj||!utils.isArray(obj.events))return[];const mapper=this.client.getEventMapper();return obj.events.map(function(e){return room&&(e.room_id=room.roomId),mapper(e)})},SyncApi.prototype._resolveInvites=function(room){if(!room||!this.opts.resolveInvitesToProfiles)return;const client=this.client;room.getMembersWithMembership("invite").forEach(function(member){if(member._requestedProfileInfo)return;member._requestedProfileInfo=!0;const user=client.getUser(member.userId);let promise;(promise=user?Promise.resolve({avatar_url:user.avatarUrl,displayname:user.displayName}):client.getProfileInfo(member.userId)).then(function(info){const inviteEvent=member.events.member;"invite"===inviteEvent.getContent().membership&&(inviteEvent.getContent().avatar_url=info.avatar_url,inviteEvent.getContent().displayname=info.displayname,member.setMembershipEvent(inviteEvent,room.currentState))},function(err){})})},SyncApi.prototype._processRoomEvents=function(room,stateEventList,timelineEventList){const liveTimeline=room.getLiveTimeline(),timelineWasEmpty=0==liveTimeline.getEvents().length;if(timelineWasEmpty){for(const ev of stateEventList)this.client.getPushActionsForEvent(ev);liveTimeline.initialiseState(stateEventList)}this._resolveInvites(room),room.recalculate(),timelineWasEmpty||(room.oldState.setStateEvents(stateEventList||[]),room.currentState.setStateEvents(stateEventList||[])),room.addLiveEvents(timelineEventList||[])},SyncApi.prototype._processEventsForNotifs=function(room,timelineEventList){if(this.client.getNotifTimelineSet())for(let i=0;i<timelineEventList.length;i++){const pushActions=this.client.getPushActionsForEvent(timelineEventList[i]);pushActions&&pushActions.notify&&pushActions.tweaks&&pushActions.tweaks.highlight&&this._notifEvents.push(timelineEventList[i])}},SyncApi.prototype._getGuestFilter=function(){return this.client._guestRooms?JSON.stringify({room:{timeline:{limit:20}}}):"{}"},SyncApi.prototype._updateSyncState=function(newState,data){const old=this._syncState;this._syncState=newState,this._syncStateData=data,this.client.emit("sync",this._syncState,old,data)},SyncApi.prototype._onOnline=function(){debuglog("Browser thinks we are back online"),this._startKeepAlives(0)}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0}),exports.Relations=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(901)),_events=__webpack_require__(18),_event=__webpack_require__(54);exports.Relations=class Relations extends _events.EventEmitter{constructor(relationType,eventType,room){super(),(0,_defineProperty2.default)(this,"_onEventStatus",(event,status)=>{event.isSending()?status===_event.EventStatus.CANCELLED&&(event.removeListener("Event.status",this._onEventStatus),this._removeEvent(event)):event.removeListener("Event.status",this._onEventStatus)}),(0,_defineProperty2.default)(this,"_onBeforeRedaction",redactedEvent=>{this._relations.has(redactedEvent)&&(this._relations.delete(redactedEvent),"m.annotation"===this.relationType?this._removeAnnotationFromAggregation(redactedEvent):"m.replace"===this.relationType&&this._targetEvent&&this._targetEvent.makeReplaced(this.getLastReplacement()),redactedEvent.removeListener("Event.beforeRedaction",this._onBeforeRedaction),this.emit("Relations.redaction",redactedEvent))}),this.relationType=relationType,this.eventType=eventType,this._relations=new Set,this._annotationsByKey={},this._annotationsBySender={},this._sortedAnnotationsByKey=[],this._targetEvent=null}addEvent(event){if(this._relations.has(event))return;const relation=event.getRelation();if(!relation)return void console.error("Event must have relation info");const relationType=relation.rel_type,eventType=event.getType();this.relationType===relationType&&this.eventType===eventType?(event.isSending()&&event.on("Event.status",this._onEventStatus),this._relations.add(event),"m.annotation"===this.relationType?this._addAnnotationToAggregation(event):"m.replace"===this.relationType&&this._targetEvent&&this._targetEvent.makeReplaced(this.getLastReplacement()),event.on("Event.beforeRedaction",this._onBeforeRedaction),this.emit("Relations.add",event)):console.error("Event relation info doesn't match this container")}_removeEvent(event){if(!this._relations.has(event))return;const relation=event.getRelation();if(!relation)return void console.error("Event must have relation info");const relationType=relation.rel_type,eventType=event.getType();this.relationType===relationType&&this.eventType===eventType?(this._relations.delete(event),"m.annotation"===this.relationType?this._removeAnnotationFromAggregation(event):"m.replace"===this.relationType&&this._targetEvent&&this._targetEvent.makeReplaced(this.getLastReplacement()),this.emit("Relations.remove",event)):console.error("Event relation info doesn't match this container")}getRelations(){return[...this._relations]}_addAnnotationToAggregation(event){const{key:key}=event.getRelation();if(!key)return;let eventsForKey=this._annotationsByKey[key];eventsForKey||(eventsForKey=this._annotationsByKey[key]=new Set,this._sortedAnnotationsByKey.push([key,eventsForKey])),eventsForKey.add(event),this._sortedAnnotationsByKey.sort((a,b)=>{const aEvents=a[1];return b[1].size-aEvents.size});const sender=event.getSender();let eventsFromSender=this._annotationsBySender[sender];eventsFromSender||(eventsFromSender=this._annotationsBySender[sender]=new Set),eventsFromSender.add(event)}_removeAnnotationFromAggregation(event){const{key:key}=event.getRelation();if(!key)return;const eventsForKey=this._annotationsByKey[key];eventsForKey&&(eventsForKey.delete(event),this._sortedAnnotationsByKey.sort((a,b)=>{const aEvents=a[1];return b[1].size-aEvents.size}));const sender=event.getSender(),eventsFromSender=this._annotationsBySender[sender];eventsFromSender&&eventsFromSender.delete(event)}getSortedAnnotationsByKey(){return"m.annotation"!==this.relationType?null:this._sortedAnnotationsByKey}getAnnotationsBySender(){return"m.annotation"!==this.relationType?null:this._annotationsBySender}getLastReplacement(){if("m.replace"!==this.relationType)return null;if(!this._targetEvent)return null;const replaceRelation=this._targetEvent.getServerAggregatedRelation("m.replace"),minTs=replaceRelation&&replaceRelation.origin_server_ts;return this.getRelations().reduce((last,event)=>event.getSender()!==this._targetEvent.getSender()?last:minTs&&minTs>event.getTs()?last:last&&last.getTs()>event.getTs()?last:event,null)}setTargetEvent(event){if(!this._targetEvent&&(this._targetEvent=event,"m.replace"===this.relationType)){const replacement=this.getLastReplacement();replacement&&this._targetEvent.makeReplaced(replacement)}}}},function(module,exports){module.exports=function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoomSummary=function RoomSummary(roomId,info){this.roomId=roomId,this.info=info}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.SearchResult=SearchResult;var utils=_interopRequireWildcard(__webpack_require__(5)),_eventContext=__webpack_require__(904);function SearchResult(rank,eventContext){this.rank=rank,this.context=eventContext}SearchResult.fromJson=function(jsonObj,eventMapper){const jsonContext=jsonObj.context||{},events_before=jsonContext.events_before||[],events_after=jsonContext.events_after||[],context=new _eventContext.EventContext(eventMapper(jsonObj.result));return context.setPaginateToken(jsonContext.start,!0),context.addEvents(utils.map(events_before,eventMapper),!0),context.addEvents(utils.map(events_after,eventMapper),!1),context.setPaginateToken(jsonContext.end,!1),new SearchResult(jsonObj.rank,context)}},function(module,exports,__webpack_require__){"use strict";function EventContext(ourEvent){this._timeline=[ourEvent],this._ourEventIndex=0,this._paginateTokens={b:null,f:null},this._paginateRequests={b:null,f:null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventContext=EventContext,EventContext.prototype.getEvent=function(){return this._timeline[this._ourEventIndex]},EventContext.prototype.getTimeline=function(){return this._timeline},EventContext.prototype.getOurEventIndex=function(){return this._ourEventIndex},EventContext.prototype.getPaginateToken=function(backwards){return this._paginateTokens[backwards?"b":"f"]},EventContext.prototype.setPaginateToken=function(token,backwards){this._paginateTokens[backwards?"b":"f"]=token},EventContext.prototype.addEvents=function(events,atStart){atStart?(this._timeline=events.concat(this._timeline),this._ourEventIndex+=events.length):this._timeline=this._timeline.concat(events)}},function(module,exports,__webpack_require__){"use strict";function StubStore(){this.fromToken=null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StubStore=StubStore,StubStore.prototype={isNewlyCreated:function(){return Promise.resolve(!0)},getSyncToken:function(){return this.fromToken},setSyncToken:function(token){this.fromToken=token},storeGroup:function(group){},getGroup:function(groupId){return null},getGroups:function(){return[]},storeRoom:function(room){},getRoom:function(roomId){return null},getRooms:function(){return[]},removeRoom:function(roomId){},getRoomSummaries:function(){return[]},storeUser:function(user){},getUser:function(userId){return null},getUsers:function(){return[]},scrollback:function(room,limit){return[]},storeEvents:function(room,events,token,toStart){},storeFilter:function(filter){},getFilter:function(userId,filterId){return null},getFilterIdByName:function(filterName){return null},setFilterIdByName:function(filterName,filterId){},storeAccountDataEvents:function(events){},getAccountData:function(eventType){},setSyncData:function(syncData){return Promise.resolve()},wantsSave:function(){return!1},save:function(){},startup:function(){return Promise.resolve()},getSavedSync:function(){return Promise.resolve(null)},getSavedSyncToken:function(){return Promise.resolve(null)},deleteAllData:function(){return Promise.resolve()},getOutOfBandMembers:function(){return Promise.resolve(null)},setOutOfBandMembers:function(){return Promise.resolve()},clearOutOfBandMembers:function(){return Promise.resolve()},getClientOptions:function(){return Promise.resolve()},storeClientOptions:function(){return Promise.resolve()}}},function(module,exports,__webpack_require__){"use strict";exports.byteLength=function byteLength(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function toByteArray(b64){for(var tmp,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function _byteLength(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen,i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoomList=void 0;var _indexeddbCryptoStore=__webpack_require__(99);exports.RoomList=class RoomList{constructor(cryptoStore){this._cryptoStore=cryptoStore,this._roomEncryption={}}async init(){await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ROOMS],txn=>{this._cryptoStore.getEndToEndRooms(txn,result=>{this._roomEncryption=result})})}getRoomEncryption(roomId){return this._roomEncryption[roomId]||null}isRoomEncrypted(roomId){return Boolean(this.getRoomEncryption(roomId))}async setRoomEncryption(roomId,roomInfo){this._roomEncryption[roomId]=roomInfo,await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ROOMS],txn=>{this._cryptoStore.storeEndToEndRoom(roomId,roomInfo,txn)})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalStorageCryptoStore=void 0;var _logger=__webpack_require__(2),_memoryCryptoStore=__webpack_require__(227);const E2E_PREFIX="crypto.",KEY_END_TO_END_ACCOUNT=E2E_PREFIX+"account",KEY_CROSS_SIGNING_KEYS=E2E_PREFIX+"cross_signing_keys",KEY_NOTIFIED_ERROR_DEVICES=E2E_PREFIX+"notified_error_devices",KEY_DEVICE_DATA=E2E_PREFIX+"device_data",KEY_INBOUND_SESSION_PREFIX=E2E_PREFIX+"inboundgroupsessions/",KEY_INBOUND_SESSION_WITHHELD_PREFIX=E2E_PREFIX+"inboundgroupsessions.withheld/",KEY_ROOMS_PREFIX=E2E_PREFIX+"rooms/",KEY_SESSIONS_NEEDING_BACKUP=E2E_PREFIX+"sessionsneedingbackup";function keyEndToEndSessions(deviceKey){return E2E_PREFIX+"sessions/"+deviceKey}function keyEndToEndSessionProblems(deviceKey){return E2E_PREFIX+"session.problems/"+deviceKey}function keyEndToEndInboundGroupSession(senderKey,sessionId){return KEY_INBOUND_SESSION_PREFIX+senderKey+"/"+sessionId}function keyEndToEndInboundGroupSessionWithheld(senderKey,sessionId){return KEY_INBOUND_SESSION_WITHHELD_PREFIX+senderKey+"/"+sessionId}function keyEndToEndRoomsPrefix(roomId){return KEY_ROOMS_PREFIX+roomId}function getJsonItem(store,key){try{return JSON.parse(store.getItem(key))}catch(e){_logger.logger.log("Error: Failed to get key %s: %s",key,e.stack||e),_logger.logger.log(e.stack)}return null}function setJsonItem(store,key,val){store.setItem(key,JSON.stringify(val))}exports.LocalStorageCryptoStore=class LocalStorageCryptoStore extends _memoryCryptoStore.MemoryCryptoStore{constructor(webStore){super(),this.store=webStore}static exists(webStore){const length=webStore.length;for(let i=0;i<length;i++)if(webStore.key(i).startsWith(E2E_PREFIX))return!0;return!1}countEndToEndSessions(txn,func){let count=0;for(let i=0;i<this.store.length;++i)this.store.key(i).startsWith(keyEndToEndSessions(""))&&++count;func(count)}_getEndToEndSessions(deviceKey,txn,func){const sessions=getJsonItem(this.store,keyEndToEndSessions(deviceKey)),fixedSessions={};for(const[sid,val]of Object.entries(sessions||{}))fixedSessions[sid]="string"==typeof val?{session:val}:val;return fixedSessions}getEndToEndSession(deviceKey,sessionId,txn,func){func(this._getEndToEndSessions(deviceKey)[sessionId]||{})}getEndToEndSessions(deviceKey,txn,func){func(this._getEndToEndSessions(deviceKey)||{})}getAllEndToEndSessions(txn,func){for(let i=0;i<this.store.length;++i)if(this.store.key(i).startsWith(keyEndToEndSessions(""))){const deviceKey=this.store.key(i).split("/")[1];for(const sess of Object.values(this._getEndToEndSessions(deviceKey)))func(sess)}}storeEndToEndSession(deviceKey,sessionId,sessionInfo,txn){const sessions=this._getEndToEndSessions(deviceKey)||{};sessions[sessionId]=sessionInfo,setJsonItem(this.store,keyEndToEndSessions(deviceKey),sessions)}async storeEndToEndSessionProblem(deviceKey,type,fixed){const key=keyEndToEndSessionProblems(deviceKey),problems=getJsonItem(this.store,key)||[];problems.push({type:type,fixed:fixed,time:Date.now()}),problems.sort((a,b)=>a.time-b.time),setJsonItem(this.store,key,problems)}async getEndToEndSessionProblem(deviceKey,timestamp){const key=keyEndToEndSessionProblems(deviceKey),problems=getJsonItem(this.store,key)||[];if(!problems.length)return null;const lastProblem=problems[problems.length-1];for(const problem of problems)if(problem.time>timestamp)return Object.assign({},problem,{fixed:lastProblem.fixed});return lastProblem.fixed?null:lastProblem}async filterOutNotifiedErrorDevices(devices){const notifiedErrorDevices=getJsonItem(this.store,KEY_NOTIFIED_ERROR_DEVICES)||{},ret=[];for(const device of devices){const{userId:userId,deviceInfo:deviceInfo}=device;userId in notifiedErrorDevices?deviceInfo.deviceId in notifiedErrorDevices[userId]||(ret.push(device),notifiedErrorDevices[userId][deviceInfo.deviceId]=!0):(ret.push(device),notifiedErrorDevices[userId]={[deviceInfo.deviceId]:!0})}return setJsonItem(this.store,KEY_NOTIFIED_ERROR_DEVICES,notifiedErrorDevices),ret}getEndToEndInboundGroupSession(senderCurve25519Key,sessionId,txn,func){func(getJsonItem(this.store,keyEndToEndInboundGroupSession(senderCurve25519Key,sessionId)),getJsonItem(this.store,keyEndToEndInboundGroupSessionWithheld(senderCurve25519Key,sessionId)))}getAllEndToEndInboundGroupSessions(txn,func){for(let i=0;i<this.store.length;++i){const key=this.store.key(i);key.startsWith(KEY_INBOUND_SESSION_PREFIX)&&func({senderKey:key.substr(KEY_INBOUND_SESSION_PREFIX.length,43),sessionId:key.substr(KEY_INBOUND_SESSION_PREFIX.length+44),sessionData:getJsonItem(this.store,key)})}func(null)}addEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn){getJsonItem(this.store,keyEndToEndInboundGroupSession(senderCurve25519Key,sessionId))||this.storeEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn)}storeEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn){setJsonItem(this.store,keyEndToEndInboundGroupSession(senderCurve25519Key,sessionId),sessionData)}storeEndToEndInboundGroupSessionWithheld(senderCurve25519Key,sessionId,sessionData,txn){setJsonItem(this.store,keyEndToEndInboundGroupSessionWithheld(senderCurve25519Key,sessionId),sessionData)}getEndToEndDeviceData(txn,func){func(getJsonItem(this.store,KEY_DEVICE_DATA))}storeEndToEndDeviceData(deviceData,txn){setJsonItem(this.store,KEY_DEVICE_DATA,deviceData)}storeEndToEndRoom(roomId,roomInfo,txn){setJsonItem(this.store,keyEndToEndRoomsPrefix(roomId),roomInfo)}getEndToEndRooms(txn,func){const result={},prefix=keyEndToEndRoomsPrefix("");for(let i=0;i<this.store.length;++i){const key=this.store.key(i);if(key.startsWith(prefix)){result[key.substr(prefix.length)]=getJsonItem(this.store,key)}}func(result)}getSessionsNeedingBackup(limit){const sessionsNeedingBackup=getJsonItem(this.store,KEY_SESSIONS_NEEDING_BACKUP)||{},sessions=[];for(const session in sessionsNeedingBackup)if(Object.prototype.hasOwnProperty.call(sessionsNeedingBackup,session)){const senderKey=session.substr(0,43),sessionId=session.substr(44);if(this.getEndToEndInboundGroupSession(senderKey,sessionId,null,sessionData=>{sessions.push({senderKey:senderKey,sessionId:sessionId,sessionData:sessionData})}),limit&&session.length>=limit)break}return Promise.resolve(sessions)}countSessionsNeedingBackup(){const sessionsNeedingBackup=getJsonItem(this.store,KEY_SESSIONS_NEEDING_BACKUP)||{};return Promise.resolve(Object.keys(sessionsNeedingBackup).length)}unmarkSessionsNeedingBackup(sessions){const sessionsNeedingBackup=getJsonItem(this.store,KEY_SESSIONS_NEEDING_BACKUP)||{};for(const session of sessions)delete sessionsNeedingBackup[session.senderKey+"/"+session.sessionId];return setJsonItem(this.store,KEY_SESSIONS_NEEDING_BACKUP,sessionsNeedingBackup),Promise.resolve()}markSessionsNeedingBackup(sessions){const sessionsNeedingBackup=getJsonItem(this.store,KEY_SESSIONS_NEEDING_BACKUP)||{};for(const session of sessions)sessionsNeedingBackup[session.senderKey+"/"+session.sessionId]=!0;return setJsonItem(this.store,KEY_SESSIONS_NEEDING_BACKUP,sessionsNeedingBackup),Promise.resolve()}deleteAllData(){return this.store.removeItem(KEY_END_TO_END_ACCOUNT),Promise.resolve()}getAccount(txn,func){func(getJsonItem(this.store,KEY_END_TO_END_ACCOUNT))}storeAccount(txn,newData){setJsonItem(this.store,KEY_END_TO_END_ACCOUNT,newData)}getCrossSigningKeys(txn,func){func(getJsonItem(this.store,KEY_CROSS_SIGNING_KEYS))}storeCrossSigningKeys(txn,keys){setJsonItem(this.store,KEY_CROSS_SIGNING_KEYS,keys)}doTxn(mode,stores,func){return Promise.resolve(func(null))}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.upgradeDatabase=function upgradeDatabase(db,oldVersion){_logger.logger.log(`Upgrading IndexedDBCryptoStore from version ${oldVersion}`+` to ${VERSION}`),oldVersion<1&&function createDatabase(db){const outgoingRoomKeyRequestsStore=db.createObjectStore("outgoingRoomKeyRequests",{keyPath:"requestId"});outgoingRoomKeyRequestsStore.createIndex("session",["requestBody.room_id","requestBody.session_id"]),outgoingRoomKeyRequestsStore.createIndex("state","state")}(db);oldVersion<2&&db.createObjectStore("account");if(oldVersion<3){db.createObjectStore("sessions",{keyPath:["deviceKey","sessionId"]}).createIndex("deviceKey","deviceKey")}oldVersion<4&&db.createObjectStore("inbound_group_sessions",{keyPath:["senderCurve25519Key","sessionId"]});oldVersion<5&&db.createObjectStore("device_data");oldVersion<6&&db.createObjectStore("rooms");oldVersion<7&&db.createObjectStore("sessions_needing_backup",{keyPath:["senderCurve25519Key","sessionId"]});oldVersion<8&&db.createObjectStore("inbound_group_sessions_withheld",{keyPath:["senderCurve25519Key","sessionId"]});if(oldVersion<9){db.createObjectStore("session_problems",{keyPath:["deviceKey","time"]}).createIndex("deviceKey","deviceKey"),db.createObjectStore("notified_error_devices",{keyPath:["userId","deviceId"]})}},exports.Backend=exports.VERSION=void 0;var _logger=__webpack_require__(2),utils=_interopRequireWildcard(__webpack_require__(5));const VERSION=9;exports.VERSION=VERSION;function abortWithException(txn,e){txn._mx_abortexception=e;try{txn.abort()}catch(e){}}function promiseifyTxn(txn){return new Promise((resolve,reject)=>{txn.oncomplete=()=>{void 0!==txn._mx_abortexception&&reject(txn._mx_abortexception),resolve()},txn.onerror=event=>{void 0!==txn._mx_abortexception?reject(txn._mx_abortexception):(_logger.logger.log("Error performing indexeddb txn",event),reject(event.target.error))},txn.onabort=event=>{void 0!==txn._mx_abortexception?reject(txn._mx_abortexception):(_logger.logger.log("Error performing indexeddb txn",event),reject(event.target.error))}})}exports.Backend=class Backend{constructor(db){this._db=db,db.onversionchange=ev=>{_logger.logger.log(`versionchange for indexeddb ${this._dbName}: closing`),db.close()}}getOrAddOutgoingRoomKeyRequest(request){const requestBody=request.requestBody;return new Promise((resolve,reject)=>{const txn=this._db.transaction("outgoingRoomKeyRequests","readwrite");txn.onerror=reject,this._getOutgoingRoomKeyRequest(txn,requestBody,existing=>{if(existing)return _logger.logger.log("already have key request outstanding for "+`${requestBody.room_id} / ${requestBody.session_id}: `+"not sending another"),void resolve(existing);_logger.logger.log(`enqueueing key request for ${requestBody.room_id} / `+requestBody.session_id),txn.oncomplete=()=>{resolve(request)},txn.objectStore("outgoingRoomKeyRequests").add(request)})})}getOutgoingRoomKeyRequest(requestBody){return new Promise((resolve,reject)=>{const txn=this._db.transaction("outgoingRoomKeyRequests","readonly");txn.onerror=reject,this._getOutgoingRoomKeyRequest(txn,requestBody,existing=>{resolve(existing)})})}_getOutgoingRoomKeyRequest(txn,requestBody,callback){txn.objectStore("outgoingRoomKeyRequests").index("session").openCursor([requestBody.room_id,requestBody.session_id]).onsuccess=ev=>{const cursor=ev.target.result;if(!cursor)return void callback(null);const existing=cursor.value;utils.deepCompare(existing.requestBody,requestBody)?callback(existing):cursor.continue()}}getOutgoingRoomKeyRequestByState(wantedStates){if(0===wantedStates.length)return Promise.resolve(null);let result,stateIndex=0;const txn=this._db.transaction("outgoingRoomKeyRequests","readonly"),store=txn.objectStore("outgoingRoomKeyRequests"),wantedState=wantedStates[stateIndex];return store.index("state").openCursor(wantedState).onsuccess=function onsuccess(ev){const cursor=ev.target.result;if(cursor)return void(result=cursor.value);if(++stateIndex>=wantedStates.length)return;const wantedState=wantedStates[stateIndex];ev.target.source.openCursor(wantedState).onsuccess=onsuccess},promiseifyTxn(txn).then(()=>result)}getOutgoingRoomKeyRequestsByTarget(userId,deviceId,wantedStates){let stateIndex=0;const results=[];const txn=this._db.transaction("outgoingRoomKeyRequests","readonly"),store=txn.objectStore("outgoingRoomKeyRequests"),wantedState=wantedStates[stateIndex];return store.index("state").openCursor(wantedState).onsuccess=function onsuccess(ev){const cursor=ev.target.result;if(cursor){const keyReq=cursor.value;keyReq.recipients.includes({userId:userId,deviceId:deviceId})&&results.push(keyReq),cursor.continue()}else{if(++stateIndex>=wantedStates.length)return;const wantedState=wantedStates[stateIndex];ev.target.source.openCursor(wantedState).onsuccess=onsuccess}},promiseifyTxn(txn).then(()=>results)}updateOutgoingRoomKeyRequest(requestId,expectedState,updates){let result=null;const txn=this._db.transaction("outgoingRoomKeyRequests","readwrite");return txn.objectStore("outgoingRoomKeyRequests").openCursor(requestId).onsuccess=function onsuccess(ev){const cursor=ev.target.result;if(!cursor)return;const data=cursor.value;data.state==expectedState?(Object.assign(data,updates),cursor.update(data),result=data):_logger.logger.warn(`Cannot update room key request from ${expectedState} `+`as it was already updated to ${data.state}`)},promiseifyTxn(txn).then(()=>result)}deleteOutgoingRoomKeyRequest(requestId,expectedState){const txn=this._db.transaction("outgoingRoomKeyRequests","readwrite");return txn.objectStore("outgoingRoomKeyRequests").openCursor(requestId).onsuccess=ev=>{const cursor=ev.target.result;if(!cursor)return;const data=cursor.value;data.state==expectedState?cursor.delete():_logger.logger.warn(`Cannot delete room key request in state ${data.state} `+`(expected ${expectedState})`)},promiseifyTxn(txn)}getAccount(txn,func){const getReq=txn.objectStore("account").get("-");getReq.onsuccess=function(){try{func(getReq.result||null)}catch(e){abortWithException(txn,e)}}}storeAccount(txn,newData){txn.objectStore("account").put(newData,"-")}getCrossSigningKeys(txn,func){const getReq=txn.objectStore("account").get("crossSigningKeys");getReq.onsuccess=function(){try{func(getReq.result||null)}catch(e){abortWithException(txn,e)}}}storeCrossSigningKeys(txn,keys){txn.objectStore("account").put(keys,"crossSigningKeys")}countEndToEndSessions(txn,func){const countReq=txn.objectStore("sessions").count();countReq.onsuccess=function(){func(countReq.result)}}getEndToEndSessions(deviceKey,txn,func){const getReq=txn.objectStore("sessions").index("deviceKey").openCursor(deviceKey),results={};getReq.onsuccess=function(){const cursor=getReq.result;if(cursor)results[cursor.value.sessionId]={session:cursor.value.session,lastReceivedMessageTs:cursor.value.lastReceivedMessageTs},cursor.continue();else try{func(results)}catch(e){abortWithException(txn,e)}}}getEndToEndSession(deviceKey,sessionId,txn,func){const getReq=txn.objectStore("sessions").get([deviceKey,sessionId]);getReq.onsuccess=function(){try{getReq.result?func({session:getReq.result.session,lastReceivedMessageTs:getReq.result.lastReceivedMessageTs}):func(null)}catch(e){abortWithException(txn,e)}}}getAllEndToEndSessions(txn,func){const getReq=txn.objectStore("sessions").openCursor();getReq.onsuccess=function(){const cursor=getReq.result;if(cursor)func(cursor.value),cursor.continue();else try{func(null)}catch(e){abortWithException(txn,e)}}}storeEndToEndSession(deviceKey,sessionId,sessionInfo,txn){txn.objectStore("sessions").put({deviceKey:deviceKey,sessionId:sessionId,session:sessionInfo.session,lastReceivedMessageTs:sessionInfo.lastReceivedMessageTs})}async storeEndToEndSessionProblem(deviceKey,type,fixed){const txn=this._db.transaction("session_problems","readwrite");return txn.objectStore("session_problems").put({deviceKey:deviceKey,type:type,fixed:fixed,time:Date.now()}),promiseifyTxn(txn)}async getEndToEndSessionProblem(deviceKey,timestamp){let result;const txn=this._db.transaction("session_problems","readwrite"),req=txn.objectStore("session_problems").index("deviceKey").getAll(deviceKey);return req.onsuccess=event=>{const problems=req.result;if(!problems.length)return void(result=null);problems.sort((a,b)=>a.time-b.time);const lastProblem=problems[problems.length-1];for(const problem of problems)if(problem.time>timestamp)return void(result=Object.assign({},problem,{fixed:lastProblem.fixed}));result=lastProblem.fixed?null:lastProblem},await promiseifyTxn(txn),result}async filterOutNotifiedErrorDevices(devices){const objectStore=this._db.transaction("notified_error_devices","readwrite").objectStore("notified_error_devices"),ret=[];return await Promise.all(devices.map(device=>new Promise(resolve=>{const{userId:userId,deviceInfo:deviceInfo}=device,getReq=objectStore.get([userId,deviceInfo.deviceId]);getReq.onsuccess=function(){getReq.result||(objectStore.put({userId:userId,deviceId:deviceInfo.deviceId}),ret.push(device)),resolve()}}))),ret}getEndToEndInboundGroupSession(senderCurve25519Key,sessionId,txn,func){let session=!1,withheld=!1;const getReq=txn.objectStore("inbound_group_sessions").get([senderCurve25519Key,sessionId]);getReq.onsuccess=function(){try{session=getReq.result?getReq.result.session:null,!1!==withheld&&func(session,withheld)}catch(e){abortWithException(txn,e)}};const withheldGetReq=txn.objectStore("inbound_group_sessions_withheld").get([senderCurve25519Key,sessionId]);withheldGetReq.onsuccess=function(){try{withheld=withheldGetReq.result?withheldGetReq.result.session:null,!1!==session&&func(session,withheld)}catch(e){abortWithException(txn,e)}}}getAllEndToEndInboundGroupSessions(txn,func){const getReq=txn.objectStore("inbound_group_sessions").openCursor();getReq.onsuccess=function(){const cursor=getReq.result;if(cursor){try{func({senderKey:cursor.value.senderCurve25519Key,sessionId:cursor.value.sessionId,sessionData:cursor.value.session})}catch(e){abortWithException(txn,e)}cursor.continue()}else try{func(null)}catch(e){abortWithException(txn,e)}}}addEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn){const addReq=txn.objectStore("inbound_group_sessions").add({senderCurve25519Key:senderCurve25519Key,sessionId:sessionId,session:sessionData});addReq.onerror=ev=>{"ConstraintError"===addReq.error.name?(ev.stopPropagation(),ev.preventDefault(),_logger.logger.log("Ignoring duplicate inbound group session: "+senderCurve25519Key+" / "+sessionId)):abortWithException(txn,new Error("Failed to add inbound group session: "+addReq.error))}}storeEndToEndInboundGroupSession(senderCurve25519Key,sessionId,sessionData,txn){txn.objectStore("inbound_group_sessions").put({senderCurve25519Key:senderCurve25519Key,sessionId:sessionId,session:sessionData})}storeEndToEndInboundGroupSessionWithheld(senderCurve25519Key,sessionId,sessionData,txn){txn.objectStore("inbound_group_sessions_withheld").put({senderCurve25519Key:senderCurve25519Key,sessionId:sessionId,session:sessionData})}getEndToEndDeviceData(txn,func){const getReq=txn.objectStore("device_data").get("-");getReq.onsuccess=function(){try{func(getReq.result||null)}catch(e){abortWithException(txn,e)}}}storeEndToEndDeviceData(deviceData,txn){txn.objectStore("device_data").put(deviceData,"-")}storeEndToEndRoom(roomId,roomInfo,txn){txn.objectStore("rooms").put(roomInfo,roomId)}getEndToEndRooms(txn,func){const rooms={},getReq=txn.objectStore("rooms").openCursor();getReq.onsuccess=function(){const cursor=getReq.result;if(cursor)rooms[cursor.key]=cursor.value,cursor.continue();else try{func(rooms)}catch(e){abortWithException(txn,e)}}}getSessionsNeedingBackup(limit){return new Promise((resolve,reject)=>{const sessions=[],txn=this._db.transaction(["sessions_needing_backup","inbound_group_sessions"],"readonly");txn.onerror=reject,txn.oncomplete=function(){resolve(sessions)};const objectStore=txn.objectStore("sessions_needing_backup"),sessionStore=txn.objectStore("inbound_group_sessions"),getReq=objectStore.openCursor();getReq.onsuccess=function(){const cursor=getReq.result;if(cursor){const sessionGetReq=sessionStore.get(cursor.key);sessionGetReq.onsuccess=function(){sessions.push({senderKey:sessionGetReq.result.senderCurve25519Key,sessionId:sessionGetReq.result.sessionId,sessionData:sessionGetReq.result.session})},(!limit||sessions.length<limit)&&cursor.continue()}}})}countSessionsNeedingBackup(txn){txn||(txn=this._db.transaction("sessions_needing_backup","readonly"));const objectStore=txn.objectStore("sessions_needing_backup");return new Promise((resolve,reject)=>{const req=objectStore.count();req.onerror=reject,req.onsuccess=()=>resolve(req.result)})}unmarkSessionsNeedingBackup(sessions,txn){txn||(txn=this._db.transaction("sessions_needing_backup","readwrite"));const objectStore=txn.objectStore("sessions_needing_backup");return Promise.all(sessions.map(session=>new Promise((resolve,reject)=>{const req=objectStore.delete([session.senderKey,session.sessionId]);req.onsuccess=resolve,req.onerror=reject})))}markSessionsNeedingBackup(sessions,txn){txn||(txn=this._db.transaction("sessions_needing_backup","readwrite"));const objectStore=txn.objectStore("sessions_needing_backup");return Promise.all(sessions.map(session=>new Promise((resolve,reject)=>{const req=objectStore.put({senderCurve25519Key:session.senderKey,sessionId:session.sessionId});req.onsuccess=resolve,req.onerror=reject})))}doTxn(mode,stores,func){const txn=this._db.transaction(stores,mode),promise=promiseifyTxn(txn),result=func(txn);return promise.then(()=>result)}}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4),_interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCryptoAvailable=function isCryptoAvailable(){return Boolean(global.Olm)},exports.Crypto=Crypto,exports.verificationMethods=void 0;var _anotherJson=_interopRequireDefault(__webpack_require__(235)),_events=__webpack_require__(18),_ReEmitter=__webpack_require__(232),_logger=__webpack_require__(2),utils=_interopRequireWildcard(__webpack_require__(5)),_OlmDevice=__webpack_require__(404),olmlib=_interopRequireWildcard(__webpack_require__(64)),_DeviceList=__webpack_require__(915),_deviceinfo=__webpack_require__(149),algorithms=_interopRequireWildcard(__webpack_require__(405)),_CrossSigning=__webpack_require__(406),_SecretStorage=__webpack_require__(916),_OutgoingRoomKeyRequestManager=__webpack_require__(917),_indexeddbCryptoStore=__webpack_require__(99),_QRCode=__webpack_require__(918),_SAS=__webpack_require__(919),_key_passphrase=__webpack_require__(408),_recoverykey=__webpack_require__(409),_VerificationRequest=__webpack_require__(237),_InRoomChannel=__webpack_require__(924),_ToDeviceChannel=__webpack_require__(925),httpApi=_interopRequireWildcard(__webpack_require__(147));const DeviceVerification=_deviceinfo.DeviceInfo.DeviceVerification,defaultVerificationMethods={[_QRCode.ScanQRCode.NAME]:_QRCode.ScanQRCode,[_QRCode.ShowQRCode.NAME]:_QRCode.ShowQRCode,[_SAS.SAS.NAME]:_SAS.SAS},verificationMethods={QR_CODE_SCAN:_QRCode.ScanQRCode.NAME,QR_CODE_SHOW:_QRCode.ShowQRCode.NAME,SAS:_SAS.SAS.NAME};exports.verificationMethods=verificationMethods;function Crypto(baseApis,sessionStore,userId,deviceId,clientStore,cryptoStore,roomList,verificationMethods){if(this._onDeviceListUserCrossSigningUpdated=this._onDeviceListUserCrossSigningUpdated.bind(this),this._reEmitter=new _ReEmitter.ReEmitter(this),this._baseApis=baseApis,this._sessionStore=sessionStore,this._userId=userId,this._deviceId=deviceId,this._clientStore=clientStore,this._cryptoStore=cryptoStore,this._roomList=roomList,this._verificationMethods=new Map,verificationMethods)for(const method of verificationMethods)"string"==typeof method?defaultVerificationMethods[method]&&this._verificationMethods.set(method,defaultVerificationMethods[method]):method.NAME&&this._verificationMethods.set(method.NAME,method);this.backupInfo=null,this.backupKey=null,this._checkedForBackup=!1,this._sendingBackups=!1,this._olmDevice=new _OlmDevice.OlmDevice(cryptoStore),this._deviceList=new _DeviceList.DeviceList(baseApis,cryptoStore,this._olmDevice),this._deviceList.on("userCrossSigningUpdated",this._onDeviceListUserCrossSigningUpdated),this._reEmitter.reEmit(this._deviceList,["crypto.devicesUpdated"]),this._lastOneTimeKeyCheck=null,this._oneTimeKeyCheckInProgress=!1,this._roomEncryptors={},this._roomDecryptors={},this._supportedAlgorithms=utils.keys(algorithms.DECRYPTION_CLASSES),this._deviceKeys={},this._globalBlacklistUnverifiedDevices=!1,this._globalErrorOnUnknownDevices=!0,this._outgoingRoomKeyRequestManager=new _OutgoingRoomKeyRequestManager.OutgoingRoomKeyRequestManager(baseApis,this._deviceId,this._cryptoStore),this._receivedRoomKeyRequests=[],this._receivedRoomKeyRequestCancellations=[],this._processingRoomKeyRequests=!1,this._lazyLoadMembers=!1,this._roomDeviceTrackingState={},this._lastNewSessionForced={},this._toDeviceVerificationRequests=new Map,this._inRoomVerificationRequests=new Map;const cryptoCallbacks=this._baseApis._cryptoCallbacks||{};this._crossSigningInfo=new _CrossSigning.CrossSigningInfo(userId,cryptoCallbacks),this._secretStorage=new _SecretStorage.SecretStorage(baseApis,cryptoCallbacks,this._crossSigningInfo),!cryptoCallbacks.getCrossSigningKey&&cryptoCallbacks.getSecretStorageKey&&(cryptoCallbacks.getCrossSigningKey=async type=>_CrossSigning.CrossSigningInfo.getFromSecretStorage(type,this._secretStorage))}function _maybeUploadOneTimeKeys(crypto){const maxKeysPerCycle=5;if(crypto._oneTimeKeyCheckInProgress)return;const now=Date.now();if(null!==crypto._lastOneTimeKeyCheck&&now-crypto._lastOneTimeKeyCheck<6e4)return;crypto._lastOneTimeKeyCheck=now;const maxOneTimeKeys=crypto._olmDevice.maxNumberOfOneTimeKeys(),keyLimit=Math.floor(maxOneTimeKeys/2);function uploadLoop(keyCount){if(keyLimit<=keyCount)return Promise.resolve();const keysThisLoop=Math.min(keyLimit-keyCount,maxKeysPerCycle);return crypto._olmDevice.generateOneTimeKeys(keysThisLoop).then(()=>(async function _uploadOneTimeKeys(crypto){const oneTimeKeys=await crypto._olmDevice.getOneTimeKeys(),oneTimeJson={},promises=[];for(const keyId in oneTimeKeys.curve25519)if(oneTimeKeys.curve25519.hasOwnProperty(keyId)){const k={key:oneTimeKeys.curve25519[keyId]};oneTimeJson["signed_curve25519:"+keyId]=k,promises.push(crypto._signObject(k))}await Promise.all(promises);const res=await crypto._baseApis.uploadKeysRequest({one_time_keys:oneTimeJson},{device_id:crypto._deviceId});return await crypto._olmDevice.markKeysAsPublished(),res})(crypto)).then(res=>{if(res.one_time_key_counts&&res.one_time_key_counts.signed_curve25519)return uploadLoop(res.one_time_key_counts.signed_curve25519);throw new Error("response for uploading keys does not contain one_time_key_counts.signed_curve25519")})}crypto._oneTimeKeyCheckInProgress=!0,Promise.resolve().then(()=>void 0!==crypto._oneTimeKeyCount?Promise.resolve(crypto._oneTimeKeyCount):crypto._baseApis.uploadKeysRequest({},{device_id:crypto._deviceId}).then(res=>res.one_time_key_counts.signed_curve25519||0)).then(keyCount=>uploadLoop(keyCount)).catch(e=>{_logger.logger.error("Error uploading one-time keys",e.stack||e)}).finally(()=>{crypto._oneTimeKeyCount=void 0,crypto._oneTimeKeyCheckInProgress=!1})}utils.inherits(Crypto,_events.EventEmitter),Crypto.prototype.init=async function(){_logger.logger.log("Crypto: initialising Olm..."),await global.Olm.init(),_logger.logger.log("Crypto: initialising Olm device..."),await this._olmDevice.init(),_logger.logger.log("Crypto: loading device list..."),await this._deviceList.load(),this._deviceKeys["ed25519:"+this._deviceId]=this._olmDevice.deviceEd25519Key,this._deviceKeys["curve25519:"+this._deviceId]=this._olmDevice.deviceCurve25519Key,_logger.logger.log("Crypto: fetching own devices...");let myDevices=this._deviceList.getRawStoredDevicesForUser(this._userId);if(myDevices||(myDevices={}),!myDevices[this._deviceId]){_logger.logger.log("Crypto: adding this device to the store...");const deviceInfo={keys:this._deviceKeys,algorithms:this._supportedAlgorithms,verified:DeviceVerification.VERIFIED,known:!0};myDevices[this._deviceId]=deviceInfo,this._deviceList.storeDevicesForUser(this._userId,myDevices),this._deviceList.saveIfDirty()}await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT],txn=>{this._cryptoStore.getCrossSigningKeys(txn,keys=>{keys&&(_logger.logger.log("Loaded cross-signing public keys from crypto store"),this._crossSigningInfo.setKeys(keys))})}),this._deviceList.startTrackingDeviceList(this._userId),_logger.logger.log("Crypto: checking for key backup..."),this._checkAndStartKeyBackup()},Crypto.prototype.createRecoveryKeyFromPassphrase=async function(password){const decryption=new global.Olm.PkDecryption;try{const keyInfo={};if(password){const derivation=await(0,_key_passphrase.keyFromPassphrase)(password);keyInfo.passphrase={algorithm:"m.pbkdf2",iterations:derivation.iterations,salt:derivation.salt},keyInfo.pubkey=decryption.init_with_private_key(derivation.key)}else keyInfo.pubkey=decryption.generate_key();const privateKey=decryption.get_private_key();return[keyInfo,(0,_recoverykey.encodeRecoveryKey)(privateKey),privateKey]}finally{decryption&&decryption.free()}},Crypto.prototype.bootstrapSecretStorage=async function({authUploadDeviceSigningKeys:authUploadDeviceSigningKeys,createSecretStorageKey:createSecretStorageKey=(async()=>{}),keyBackupInfo:keyBackupInfo}={}){_logger.logger.log("Bootstrapping Secure Secret Storage");let crossSigningPrivateKeys={};const appCallbacks=Object.assign({},this._baseApis._cryptoCallbacks);try{const inStorage=await this._crossSigningInfo.isStoredInSecretStorage(this._secretStorage);if(this._crossSigningInfo.getId()&&inStorage?_logger.logger.log("Cross signing keys are present in secret storage"):(_logger.logger.log("Cross-signing public and/or private keys not found, checking secret storage for private keys"),inStorage?(_logger.logger.log("Cross-signing private keys found in secret storage"),await this.checkOwnCrossSigningTrust()):(_logger.logger.log("Cross-signing private keys not found in secret storage, creating new keys"),this._baseApis._cryptoCallbacks.saveCrossSigningKeys=keys=>crossSigningPrivateKeys=keys,this._baseApis._cryptoCallbacks.getCrossSigningKey=name=>crossSigningPrivateKeys[name],await this.resetCrossSigningKeys(_CrossSigning.CrossSigningLevel.MASTER,{authUploadDeviceSigningKeys:authUploadDeviceSigningKeys}))),await this.hasSecretStorageKey())_logger.logger.log("Have secret storage key");else{let newKeyId;if(keyBackupInfo){_logger.logger.log("Secret storage default key not found, using key backup key");const opts={pubkey:keyBackupInfo.auth_data.public_key};keyBackupInfo.auth_data.private_key_salt&&keyBackupInfo.auth_data.private_key_iterations&&(opts.passphrase={algorithm:"m.pbkdf2",iterations:keyBackupInfo.auth_data.private_key_iterations,salt:keyBackupInfo.auth_data.private_key_salt}),newKeyId=await this.addSecretStorageKey(_SecretStorage.SECRET_STORAGE_ALGORITHM_V1,opts),this._secretStorage.storePassthrough("m.megolm_backup.v1",newKeyId),(await this.checkKeyBackup(keyBackupInfo)).trustInfo.usable?(console.log("Adding cross signing signature to key backup"),await this._crossSigningInfo.signObject(keyBackupInfo.auth_data,"master"),await this._baseApis._http.authedRequest(void 0,"PUT","/room_keys/version/"+keyBackupInfo.version,void 0,keyBackupInfo,{prefix:httpApi.PREFIX_UNSTABLE})):console.log("Key backup is NOT TRUSTED: NOT adding cross signing signature")}else{_logger.logger.log("Secret storage default key not found, creating new key");const keyOptions=await createSecretStorageKey();newKeyId=await this.addSecretStorageKey(_SecretStorage.SECRET_STORAGE_ALGORITHM_V1,keyOptions)}await this.setDefaultSecretStorageKeyId(newKeyId)}Object.keys(crossSigningPrivateKeys).length&&(_logger.logger.log("Storing cross-signing private keys in secret storage"),await this._secretStorage.signKey(),appCallbacks.saveCrossSigningKeys||await _CrossSigning.CrossSigningInfo.storeInSecretStorage(crossSigningPrivateKeys,this._secretStorage))}finally{this._baseApis._cryptoCallbacks=appCallbacks}_logger.logger.log("Secure Secret Storage ready")},Crypto.prototype.addSecretStorageKey=function(algorithm,opts,keyID){return this._secretStorage.addKey(algorithm,opts,keyID)},Crypto.prototype.hasSecretStorageKey=function(keyID){return this._secretStorage.hasKey(keyID)},Crypto.prototype.storeSecret=function(name,secret,keys){return this._secretStorage.store(name,secret,keys)},Crypto.prototype.getSecret=function(name){return this._secretStorage.get(name)},Crypto.prototype.isSecretStored=function(name,checkKey){return this._secretStorage.isStored(name,checkKey)},Crypto.prototype.requestSecret=function(name,devices){return devices||(devices=Object.keys(this._deviceList.getRawStoredDevicesForUser(this._userId))),this._secretStorage.request(name,devices)},Crypto.prototype.getDefaultSecretStorageKeyId=function(){return this._secretStorage.getDefaultKeyId()},Crypto.prototype.setDefaultSecretStorageKeyId=function(k){return this._secretStorage.setDefaultKeyId(k)},Crypto.prototype.checkSecretStoragePrivateKey=function(privateKey,expectedPublicKey){let decryption=null;try{return(decryption=new global.Olm.PkDecryption).init_with_private_key(privateKey)===expectedPublicKey}finally{decryption&&decryption.free()}},Crypto.prototype.checkCrossSigningPrivateKey=function(privateKey,expectedPublicKey){let signing=null;try{return(signing=new global.Olm.PkSigning).init_with_seed(privateKey)===expectedPublicKey}finally{signing&&signing.free()}},Crypto.prototype.resetCrossSigningKeys=async function(level,{authUploadDeviceSigningKeys:authUploadDeviceSigningKeys=(async func=>await func())}={}){_logger.logger.info(`Resetting cross-signing keys at level ${level}`);const oldKeys=Object.assign({},this._crossSigningInfo.keys);try{await this._crossSigningInfo.resetKeys(level),await this._signObject(this._crossSigningInfo.keys.master);const keys={};for(const[name,key]of Object.entries(this._crossSigningInfo.keys))keys[name+"_key"]=key;await authUploadDeviceSigningKeys(async authDict=>{await this._baseApis.uploadDeviceSigningKeys(authDict,keys)}),await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT],txn=>{this._cryptoStore.storeCrossSigningKeys(txn,this._crossSigningInfo.keys)})}catch(e){throw _logger.logger.error("Resetting cross-signing keys failed, revert to previous keys",e),this._crossSigningInfo.keys=oldKeys,e}this._baseApis.emit("crossSigning.keysChanged",{}),await this._afterCrossSigningLocalKeyChange(),_logger.logger.info("Cross-signing key reset complete")},Crypto.prototype._afterCrossSigningLocalKeyChange=async function(){const device=this._deviceList.getStoredDevice(this._userId,this._deviceId),signedDevice=await this._crossSigningInfo.signDevice(this._userId,device);await this._baseApis.uploadKeySignatures({[this._userId]:{[this._deviceId]:signedDevice}});const users={};for(const[userId,crossSigningInfo]of Object.entries(this._deviceList._crossSigningInfo)){const upgradeInfo=await this._checkForDeviceVerificationUpgrade(userId,_CrossSigning.CrossSigningInfo.fromStorage(crossSigningInfo,userId));upgradeInfo&&(users[userId]=upgradeInfo)}const shouldUpgradeCb=this._baseApis._cryptoCallbacks.shouldUpgradeDeviceVerifications;if(Object.keys(users).length>0&&shouldUpgradeCb)try{const usersToUpgrade=await shouldUpgradeCb({users:users});if(usersToUpgrade)for(const userId of usersToUpgrade)userId in users&&await this._baseApis.setDeviceVerified(userId,users[userId].crossSigningInfo.getId())}catch(e){_logger.logger.log("shouldUpgradeDeviceVerifications threw an error: not upgrading",e)}},Crypto.prototype._checkForDeviceVerificationUpgrade=async function(userId,crossSigningInfo){const trustLevel=this._crossSigningInfo.checkUserTrust(crossSigningInfo);if(crossSigningInfo.firstUse&&!trustLevel.verified){const devices=this._deviceList.getRawStoredDevicesForUser(userId),deviceIds=await this._checkForValidDeviceSignature(userId,crossSigningInfo.keys.master,devices);if(deviceIds.length)return{devices:deviceIds.map(deviceId=>_deviceinfo.DeviceInfo.fromStorage(devices[deviceId],deviceId)),crossSigningInfo:crossSigningInfo}}},Crypto.prototype._checkForValidDeviceSignature=async function(userId,key,devices){const deviceIds=[];if(devices&&key.signatures&&key.signatures[userId])for(const signame of Object.keys(key.signatures[userId])){const[,deviceId]=signame.split(":",2);if(deviceId in devices&&devices[deviceId].verified===DeviceVerification.VERIFIED)try{await olmlib.verifySignature(this._olmDevice,key,userId,deviceId,devices[deviceId].keys[signame]),deviceIds.push(deviceId)}catch(e){}}return deviceIds},Crypto.prototype.getCrossSigningId=function(type){return this._crossSigningInfo.getId(type)},Crypto.prototype.getStoredCrossSigningForUser=function(userId){return this._deviceList.getStoredCrossSigningForUser(userId)},Crypto.prototype.checkUserTrust=function(userId){const userCrossSigning=this._deviceList.getStoredCrossSigningForUser(userId);return userCrossSigning?this._crossSigningInfo.checkUserTrust(userCrossSigning):new _CrossSigning.UserTrustLevel(!1,!1)},Crypto.prototype.checkDeviceTrust=function(userId,deviceId){const device=this._deviceList.getStoredDevice(userId,deviceId),trustedLocally=device&&device.isVerified(),userCrossSigning=this._deviceList.getStoredCrossSigningForUser(userId);return device&&userCrossSigning?this._crossSigningInfo.checkDeviceTrust(userCrossSigning,device,trustedLocally):new _CrossSigning.DeviceTrustLevel(!1,!1,trustedLocally)},Crypto.prototype._onDeviceListUserCrossSigningUpdated=async function(userId){if(userId===this._userId){const newCrossSigning=this._deviceList.getStoredCrossSigningForUser(userId),seenPubkey=newCrossSigning?newCrossSigning.getId():null,currentPubkey=this._crossSigningInfo.getId(),changed=currentPubkey!==seenPubkey;currentPubkey&&seenPubkey&&!changed?await this.checkOwnCrossSigningTrust():this.emit("crossSigning.keysChanged",{})}else await this._checkDeviceVerifications(userId),this.emit("userTrustStatusChanged",userId,this.checkUserTrust(userId))},Crypto.prototype.checkOwnCrossSigningTrust=async function(){const userId=this._userId,newCrossSigning=this._deviceList.getStoredCrossSigningForUser(userId);if(!newCrossSigning)return void _logger.logger.error("Got cross-signing update event for user "+userId+" but no new cross-signing information found!");const seenPubkey=newCrossSigning.getId(),masterChanged=this._crossSigningInfo.getId()!==seenPubkey;if(masterChanged){_logger.logger.info("Got new master public key",seenPubkey);let signing=null;try{if(!(signing=(await this._crossSigningInfo.getCrossSigningKey("master",seenPubkey))[1]))throw new Error("Cross-signing master private key not available")}finally{signing&&signing.free()}_logger.logger.info("Got matching private key from callback for new public master key")}const oldSelfSigningId=this._crossSigningInfo.getId("self_signing"),oldUserSigningId=this._crossSigningInfo.getId("user_signing");this._crossSigningInfo.setKeys(newCrossSigning.keys),await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_ACCOUNT],txn=>{this._cryptoStore.storeCrossSigningKeys(txn,this._crossSigningInfo.keys)});const keySignatures={};if(oldSelfSigningId!==newCrossSigning.getId("self_signing")){_logger.logger.info("Got new self-signing key",newCrossSigning.getId("self_signing"));const device=this._deviceList.getStoredDevice(this._userId,this._deviceId),signedDevice=await this._crossSigningInfo.signDevice(this._userId,device);keySignatures[this._deviceId]=signedDevice}oldUserSigningId!==newCrossSigning.getId("user_signing")&&_logger.logger.info("Got new user-signing key",newCrossSigning.getId("user_signing")),masterChanged&&(await this._signObject(this._crossSigningInfo.keys.master),keySignatures[this._crossSigningInfo.getId()]=this._crossSigningInfo.keys.master),Object.keys(keySignatures).length&&await this._baseApis.uploadKeySignatures({[this._userId]:keySignatures}),this.emit("userTrustStatusChanged",userId,this.checkUserTrust(userId)),masterChanged&&(this._baseApis.emit("crossSigning.keysChanged",{}),await this._afterCrossSigningLocalKeyChange()),await this.checkKeyBackup()},Crypto.prototype._checkDeviceVerifications=async function(userId){if(this._crossSigningInfo.keys.user_signing){const crossSigningInfo=this._deviceList.getStoredCrossSigningForUser(userId);if(crossSigningInfo){const upgradeInfo=await this._checkForDeviceVerificationUpgrade(userId,crossSigningInfo),shouldUpgradeCb=this._baseApis._cryptoCallbacks.shouldUpgradeDeviceVerifications;if(upgradeInfo&&shouldUpgradeCb){(await shouldUpgradeCb({users:{[userId]:upgradeInfo}})).includes(userId)&&await this._baseApis.setDeviceVerified(userId,crossSigningInfo.getId())}}}},Crypto.prototype._checkAndStartKeyBackup=async function(){if(_logger.logger.log("Checking key backup status..."),this._baseApis.isGuest())return _logger.logger.log("Skipping key backup check since user is guest"),this._checkedForBackup=!0,null;let backupInfo;try{backupInfo=await this._baseApis.getKeyBackupVersion()}catch(e){return _logger.logger.log("Error checking for active key backup",e),e.httpStatus/100==4&&(this._checkedForBackup=!0),null}this._checkedForBackup=!0;const trustInfo=await this.isKeyBackupTrusted(backupInfo);return trustInfo.usable&&!this.backupInfo?(_logger.logger.log("Found usable key backup v"+backupInfo.version+": enabling key backups"),this._baseApis.enableKeyBackup(backupInfo)):!trustInfo.usable&&this.backupInfo?(_logger.logger.log("No usable key backup: disabling key backup"),this._baseApis.disableKeyBackup()):trustInfo.usable||this.backupInfo?trustInfo.usable&&this.backupInfo&&(backupInfo.version!==this.backupInfo.version?(_logger.logger.log("On backup version "+this.backupInfo.version+" but found version "+backupInfo.version+": switching."),this._baseApis.disableKeyBackup(),this._baseApis.enableKeyBackup(backupInfo)):_logger.logger.log("Backup version "+backupInfo.version+" still current")):_logger.logger.log("No usable key backup: not enabling key backup"),{backupInfo:backupInfo,trustInfo:trustInfo}},Crypto.prototype.setTrustedBackupPubKey=async function(trustedPubKey){this._sessionStore.setLocalTrustedBackupPubKey(trustedPubKey),await this.checkKeyBackup()},Crypto.prototype.checkKeyBackup=async function(){return this._checkedForBackup=!1,this._checkAndStartKeyBackup()},Crypto.prototype.isKeyBackupTrusted=async function(backupInfo){const ret={usable:!1,trusted_locally:!1,sigs:[]};if(!(backupInfo&&backupInfo.algorithm&&backupInfo.auth_data&&backupInfo.auth_data.public_key&&backupInfo.auth_data.signatures))return _logger.logger.info("Key backup is absent or missing required data"),ret;const trustedPubkey=this._sessionStore.getLocalTrustedBackupPubKey();backupInfo.auth_data.public_key===trustedPubkey&&(_logger.logger.info("Backup public key "+trustedPubkey+" is trusted locally"),ret.trusted_locally=!0);const mySigs=backupInfo.auth_data.signatures[this._userId]||[];for(const keyId of Object.keys(mySigs)){const keyIdParts=keyId.split(":");if("ed25519"!==keyIdParts[0]){_logger.logger.log("Ignoring unknown signature type: "+keyIdParts[0]);continue}const sigInfo={deviceId:keyIdParts[1]},crossSigningId=this._crossSigningInfo.getId();if(crossSigningId===sigInfo.deviceId){sigInfo.crossSigningId=!0;try{await olmlib.verifySignature(this._olmDevice,backupInfo.auth_data,this._userId,sigInfo.deviceId,crossSigningId),sigInfo.valid=!0}catch(e){_logger.logger.warning("Bad signature from cross signing key "+crossSigningId,e),sigInfo.valid=!1}ret.sigs.push(sigInfo);continue}const device=this._deviceList.getStoredDevice(this._userId,sigInfo.deviceId);if(device){sigInfo.device=device,sigInfo.deviceTrust=await this.checkDeviceTrust(this._userId,sigInfo.deviceId);try{await olmlib.verifySignature(this._olmDevice,backupInfo.auth_data,this._userId,device.deviceId,device.getFingerprint()),sigInfo.valid=!0}catch(e){_logger.logger.info("Bad signature from key ID "+keyId+" userID "+this._userId+" device ID "+device.deviceId+" fingerprint: "+device.getFingerprint(),backupInfo.auth_data,e),sigInfo.valid=!1}}else sigInfo.valid=null,_logger.logger.info("Ignoring signature from unknown key "+keyId);ret.sigs.push(sigInfo)}return ret.usable=ret.sigs.some(s=>s.valid&&(s.device&&s.deviceTrust.isVerified()||s.crossSigningId)),ret.usable|=ret.trusted_locally,ret},Crypto.prototype.enableLazyLoading=function(){this._lazyLoadMembers=!0},Crypto.prototype.registerEventHandlers=function(eventEmitter){const crypto=this;eventEmitter.on("RoomMember.membership",function(event,member,oldMembership){try{crypto._onRoomMembership(event,member,oldMembership)}catch(e){_logger.logger.error("Error handling membership change:",e)}}),eventEmitter.on("toDeviceEvent",function(event){crypto._onToDeviceEvent(event)}),eventEmitter.on("Room.timeline",function(event){crypto._onTimelineEvent(event)}),eventEmitter.on("Event.decrypted",function(event){crypto._onTimelineEvent(event)})},Crypto.prototype.start=function(){this._outgoingRoomKeyRequestManager.start()},Crypto.prototype.stop=function(){this._outgoingRoomKeyRequestManager.stop(),this._deviceList.stop()},Crypto.getOlmVersion=function(){return _OlmDevice.OlmDevice.getOlmVersion()},Crypto.prototype.getDeviceEd25519Key=function(){return this._olmDevice.deviceEd25519Key},Crypto.prototype.setGlobalBlacklistUnverifiedDevices=function(value){this._globalBlacklistUnverifiedDevices=value},Crypto.prototype.getGlobalBlacklistUnverifiedDevices=function(){return this._globalBlacklistUnverifiedDevices},Crypto.prototype.setGlobalErrorOnUnknownDevices=function(value){this._globalErrorOnUnknownDevices=value},Crypto.prototype.getGlobalErrorOnUnknownDevices=function(){return this._globalErrorOnUnknownDevices},Crypto.prototype.uploadDeviceKeys=function(){const crypto=this,userId=crypto._userId,deviceId=crypto._deviceId,deviceKeys={algorithms:crypto._supportedAlgorithms,device_id:deviceId,keys:crypto._deviceKeys,user_id:userId};return crypto._signObject(deviceKeys).then(()=>crypto._baseApis.uploadKeysRequest({device_keys:deviceKeys},{device_id:deviceId}))},Crypto.prototype.updateOneTimeKeyCount=function(currentCount){if(!isFinite(currentCount))throw new TypeError("Parameter for updateOneTimeKeyCount has to be a number");this._oneTimeKeyCount=currentCount},Crypto.prototype.downloadKeys=function(userIds,forceDownload){return this._deviceList.downloadKeys(userIds,forceDownload)},Crypto.prototype.getStoredDevicesForUser=function(userId){return this._deviceList.getStoredDevicesForUser(userId)},Crypto.prototype.getStoredDevice=function(userId,deviceId){return this._deviceList.getStoredDevice(userId,deviceId)},Crypto.prototype.saveDeviceList=function(delay){return this._deviceList.saveIfDirty(delay)},Crypto.prototype.setDeviceVerification=async function(userId,deviceId,verified,blocked,known){void 0===verified&&(verified=null),void 0===blocked&&(blocked=null),void 0===known&&(known=null);const xsk=this._deviceList.getStoredCrossSigningForUser(userId);if(xsk&&xsk.getId()===deviceId){if(null!==blocked||null!==known)throw new Error("Cannot set blocked or known for a cross-signing key");if(!verified)throw new Error("Cannot set a cross-signing key as unverified");const device=await this._crossSigningInfo.signUser(xsk);return device&&await this._baseApis.uploadKeySignatures({[userId]:{[deviceId]:device}}),device}const devices=this._deviceList.getRawStoredDevicesForUser(userId);if(!devices||!devices[deviceId])throw new Error("Unknown device "+userId+":"+deviceId);const dev=devices[deviceId];let verificationStatus=dev.verified;verified?verificationStatus=DeviceVerification.VERIFIED:null!==verified&&verificationStatus==DeviceVerification.VERIFIED&&(verificationStatus=DeviceVerification.UNVERIFIED),blocked?verificationStatus=DeviceVerification.BLOCKED:null!==blocked&&verificationStatus==DeviceVerification.BLOCKED&&(verificationStatus=DeviceVerification.UNVERIFIED);let knownStatus=dev.known;if(null!==known&&(knownStatus=known),dev.verified===verificationStatus&&dev.known===knownStatus||(dev.verified=verificationStatus,dev.known=knownStatus,this._deviceList.storeDevicesForUser(userId,devices),this._deviceList.saveIfDirty()),verified&&userId===this._userId){const device=await this._crossSigningInfo.signDevice(userId,_deviceinfo.DeviceInfo.fromStorage(dev,deviceId));device&&await this._baseApis.uploadKeySignatures({[userId]:{[deviceId]:device}})}const deviceObj=_deviceinfo.DeviceInfo.fromStorage(dev,deviceId);return this.emit("deviceVerificationChanged",userId,deviceId,deviceObj),deviceObj},Crypto.prototype.requestVerificationDM=async function(userId,roomId,methods){const channel=new _InRoomChannel.InRoomChannel(this._baseApis,roomId,userId),request=await this._requestVerificationWithChannel(userId,methods,channel,this._inRoomVerificationRequests);return await request.waitForVerifier()},Crypto.prototype.acceptVerificationDM=function(event,method){if(!_InRoomChannel.InRoomChannel.validateEvent(event,this._baseApis))return;const sender=event.getSender(),requestsByTxnId=this._inRoomVerificationRequests.get(sender);if(!requestsByTxnId)return;const transactionId=_InRoomChannel.InRoomChannel.getTransactionId(event),request=requestsByTxnId.get(transactionId);return request?request.beginKeyVerification(method):void 0},Crypto.prototype.requestVerification=async function(userId,methods,devices){devices||(devices=Object.keys(this._deviceList.getRawStoredDevicesForUser(userId)));const channel=new _ToDeviceChannel.ToDeviceChannel(this._baseApis,userId,devices),request=await this._requestVerificationWithChannel(userId,methods,channel,this._toDeviceVerificationRequests);return await request.waitForVerifier()},Crypto.prototype._requestVerificationWithChannel=async function(userId,methods,channel,requestsMap){methods||(methods=[...this._verificationMethods.keys()]);const request=new _VerificationRequest.VerificationRequest(channel,this._verificationMethods,userId,this._baseApis);await request.sendRequest();let requestsByTxnId=requestsMap.get(userId);return requestsByTxnId||(requestsByTxnId=new Map,requestsMap.set(userId,requestsByTxnId)),requestsByTxnId.set(channel.transactionId,request),request},Crypto.prototype.beginKeyVerification=function(method,userId,deviceId,transactionId=null){let request,requestsByTxnId=this._toDeviceVerificationRequests.get(userId);if(requestsByTxnId||(requestsByTxnId=new Map,this._toDeviceVerificationRequests.set(userId,requestsByTxnId)),transactionId)request=requestsByTxnId.get(transactionId);else{transactionId=_ToDeviceChannel.ToDeviceChannel.makeTransactionId();const channel=new _ToDeviceChannel.ToDeviceChannel(this._baseApis,userId,[deviceId],transactionId,deviceId);request=new _VerificationRequest.VerificationRequest(channel,this._verificationMethods,userId,this._baseApis),requestsByTxnId.set(transactionId,request)}if(!request)throw new Error(`No request found for user ${userId} with transactionId ${transactionId}`);return request.beginKeyVerification(method,{userId:userId,deviceId:deviceId})},Crypto.prototype.getOlmSessionsForUser=async function(userId){const devices=this.getStoredDevicesForUser(userId)||[],result={};for(let j=0;j<devices.length;++j){const device=devices[j],deviceKey=device.getIdentityKey(),sessions=await this._olmDevice.getSessionInfoForDevice(deviceKey);result[device.deviceId]={deviceIdKey:deviceKey,sessions:sessions}}return result},Crypto.prototype.getEventSenderDeviceInfo=function(event){const senderKey=event.getSenderKey(),algorithm=event.getWireContent().algorithm;if(!senderKey||!algorithm)return null;if(event.getForwardingCurve25519KeyChain().length>0)return null;const device=this._deviceList.getDeviceByIdentityKey(algorithm,senderKey);if(null===device)return null;const claimedKey=event.getClaimedEd25519Key();return claimedKey?claimedKey!==device.getFingerprint()?(_logger.logger.warn("Event "+event.getId()+" claims ed25519 key "+claimedKey+"but sender device has key "+device.getFingerprint()),null):device:(_logger.logger.warn("Event "+event.getId()+" claims no ed25519 key: cannot verify sending device"),null)},Crypto.prototype.forceDiscardSession=function(roomId){const alg=this._roomEncryptors[roomId];if(void 0===alg)throw new Error("Room not encrypted");if(void 0===alg.forceDiscardSession)throw new Error("Room encryption algorithm doesn't support session discarding");alg.forceDiscardSession()},Crypto.prototype.setRoomEncryption=async function(roomId,config,inhibitDeviceQuery){if(!config.algorithm)return void _logger.logger.log("Ignoring setRoomEncryption with no algorithm");const existingConfig=this._roomList.getRoomEncryption(roomId);if(existingConfig&&JSON.stringify(existingConfig)!=JSON.stringify(config))return void _logger.logger.error("Ignoring m.room.encryption event which requests a change of config in "+roomId);if(this._roomEncryptors[roomId])return;let storeConfigPromise=null;existingConfig||(storeConfigPromise=this._roomList.setRoomEncryption(roomId,config));const AlgClass=algorithms.ENCRYPTION_CLASSES[config.algorithm];if(!AlgClass)throw new Error("Unable to encrypt with "+config.algorithm);const alg=new AlgClass({userId:this._userId,deviceId:this._deviceId,crypto:this,olmDevice:this._olmDevice,baseApis:this._baseApis,roomId:roomId,config:config});this._roomEncryptors[roomId]=alg,storeConfigPromise&&await storeConfigPromise,this._lazyLoadMembers?_logger.logger.log("Enabling encryption in "+roomId):(_logger.logger.log("Enabling encryption in "+roomId+"; starting to track device lists for all users therein"),await this.trackRoomDevices(roomId),this.inhibitDeviceQuery||this._deviceList.refreshOutdatedDeviceLists())},Crypto.prototype.trackRoomDevices=function(roomId){const trackMembers=async()=>{if(!this._roomEncryptors[roomId])return;const room=this._clientStore.getRoom(roomId);if(!room)throw new Error(`Unable to start tracking devices in unknown room ${roomId}`);_logger.logger.log(`Starting to track devices for room ${roomId} ...`),(await room.getEncryptionTargetMembers()).forEach(m=>{this._deviceList.startTrackingDeviceList(m.userId)})};let promise=this._roomDeviceTrackingState[roomId];return promise||(promise=trackMembers(),this._roomDeviceTrackingState[roomId]=promise),promise},Crypto.prototype.ensureOlmSessionsForUsers=function(users){const devicesByUser={};for(let i=0;i<users.length;++i){const userId=users[i];devicesByUser[userId]=[];const devices=this.getStoredDevicesForUser(userId)||[];for(let j=0;j<devices.length;++j){const deviceInfo=devices[j];deviceInfo.getIdentityKey()!=this._olmDevice.deviceCurve25519Key&&(deviceInfo.verified!=DeviceVerification.BLOCKED&&devicesByUser[userId].push(deviceInfo))}}return olmlib.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,devicesByUser)},Crypto.prototype.exportRoomKeys=async function(){const exportedSessions=[];return await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS],txn=>{this._cryptoStore.getAllEndToEndInboundGroupSessions(txn,s=>{if(null===s)return;const sess=this._olmDevice.exportInboundGroupSession(s.senderKey,s.sessionId,s.sessionData);delete sess.first_known_index,sess.algorithm=olmlib.MEGOLM_ALGORITHM,exportedSessions.push(sess)})}),exportedSessions},Crypto.prototype.importRoomKeys=function(keys){return Promise.all(keys.map(key=>{if(!key.room_id||!key.algorithm)return _logger.logger.warn("ignoring room key entry with missing fields",key),null;return this._getRoomDecryptor(key.room_id,key.algorithm).importRoomKey(key)}))},Crypto.prototype.scheduleKeyBackupSend=async function(maxDelay=1e4){if(!this._sendingBackups){this._sendingBackups=!0;try{const delay=Math.random()*maxDelay;await(0,utils.sleep)(delay);let numFailures=0;for(;;){if(!this.backupKey)return;try{if(0===await this._backupPendingKeys(200))return;numFailures=0}catch(err){if(numFailures++,_logger.logger.log("Key backup request failed",err),err.data&&("M_NOT_FOUND"==err.data.errcode||"M_WRONG_ROOM_KEYS_VERSION"==err.data.errcode))throw await this.checkKeyBackup(),this.emit("crypto.keyBackupFailed",err.data.errcode),err}numFailures&&await(0,utils.sleep)(1e3*Math.pow(2,Math.min(numFailures-1,4)))}}finally{this._sendingBackups=!1}}},Crypto.prototype._backupPendingKeys=async function(limit){const sessions=await this._cryptoStore.getSessionsNeedingBackup(limit);if(!sessions.length)return 0;let remaining=await this._cryptoStore.countSessionsNeedingBackup();this.emit("crypto.keyBackupSessionsRemaining",remaining);const data={};for(const session of sessions){const roomId=session.sessionData.room_id;void 0===data[roomId]&&(data[roomId]={sessions:{}});const sessionData=await this._olmDevice.exportInboundGroupSession(session.senderKey,session.sessionId,session.sessionData);sessionData.algorithm=olmlib.MEGOLM_ALGORITHM,delete sessionData.session_id,delete sessionData.room_id;const firstKnownIndex=sessionData.first_known_index;delete sessionData.first_known_index;const encrypted=this.backupKey.encrypt(JSON.stringify(sessionData)),forwardedCount=(sessionData.forwarding_curve25519_key_chain||[]).length,device=this._deviceList.getDeviceByIdentityKey(olmlib.MEGOLM_ALGORITHM,session.senderKey);data[roomId].sessions[session.sessionId]={first_message_index:firstKnownIndex,forwarded_count:forwardedCount,is_verified:!(!device||!device.isVerified()),session_data:encrypted}}return await this._baseApis.sendKeyBackup(void 0,void 0,this.backupInfo.version,{rooms:data}),await this._cryptoStore.unmarkSessionsNeedingBackup(sessions),remaining=await this._cryptoStore.countSessionsNeedingBackup(),this.emit("crypto.keyBackupSessionsRemaining",remaining),sessions.length},Crypto.prototype.backupGroupSession=async function(roomId,senderKey,forwardingCurve25519KeyChain,sessionId,sessionKey,keysClaimed,exportFormat){if(!this.backupInfo)throw new Error("Key backups are not enabled");await this._cryptoStore.markSessionsNeedingBackup([{senderKey:senderKey,sessionId:sessionId}]),this.scheduleKeyBackupSend()},Crypto.prototype.scheduleAllGroupSessionsForBackup=async function(){await this.flagAllGroupSessionsForBackup(),this.scheduleKeyBackupSend(0)},Crypto.prototype.flagAllGroupSessionsForBackup=async function(){await this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_BACKUP],txn=>{this._cryptoStore.getAllEndToEndInboundGroupSessions(txn,session=>{null!==session&&this._cryptoStore.markSessionsNeedingBackup([session],txn)})});const remaining=await this._cryptoStore.countSessionsNeedingBackup();return this.emit("crypto.keyBackupSessionsRemaining",remaining),remaining},Crypto.prototype.encryptEvent=async function(event,room){if(!room)throw new Error("Cannot send encrypted messages in unknown rooms");const roomId=event.getRoomId(),alg=this._roomEncryptors[roomId];if(!alg)throw new Error("Room was previously configured to use encryption, but is no longer. Perhaps the homeserver is hiding the configuration event.");this._roomDeviceTrackingState[roomId]||this.trackRoomDevices(roomId),await this._roomDeviceTrackingState[roomId];let content=event.getContent();const mRelatesTo=content["m.relates_to"];mRelatesTo&&delete(content=Object.assign({},content))["m.relates_to"];const encryptedContent=await alg.encryptMessage(room,event.getType(),content);mRelatesTo&&(encryptedContent["m.relates_to"]=mRelatesTo),event.makeEncrypted("m.room.encrypted",encryptedContent,this._olmDevice.deviceCurve25519Key,this._olmDevice.deviceEd25519Key)},Crypto.prototype.decryptEvent=function(event){if(event.isRedacted())return Promise.resolve({clearEvent:{room_id:event.getRoomId(),type:"m.room.message",content:{}}});const content=event.getWireContent();return this._getRoomDecryptor(event.getRoomId(),content.algorithm).decryptEvent(event)},Crypto.prototype.handleDeviceListChanges=async function(syncData,syncDeviceLists){syncData.oldSyncToken&&await this._evalDeviceListChanges(syncDeviceLists)},Crypto.prototype.requestRoomKey=function(requestBody,recipients,resend=!1){return this._outgoingRoomKeyRequestManager.sendRoomKeyRequest(requestBody,recipients,resend).catch(e=>{_logger.logger.error("Error requesting key for event",e)})},Crypto.prototype.cancelRoomKeyRequest=function(requestBody){this._outgoingRoomKeyRequestManager.cancelRoomKeyRequest(requestBody).catch(e=>{_logger.logger.warn("Error clearing pending room key requests",e)})},Crypto.prototype.onCryptoEvent=async function(event){const roomId=event.getRoomId(),content=event.getContent();try{await this.setRoomEncryption(roomId,content,!0)}catch(e){_logger.logger.error("Error configuring encryption in room "+roomId+":",e)}},Crypto.prototype.onSyncWillProcess=async function(syncData){syncData.oldSyncToken||(_logger.logger.log("Initial sync performed - resetting device tracking state"),this._deviceList.stopTrackingAllDeviceLists(),this._deviceList.startTrackingDeviceList(this._userId),this._roomDeviceTrackingState={})},Crypto.prototype.onSyncCompleted=async function(syncData){const nextSyncToken=syncData.nextSyncToken;this._deviceList.setSyncToken(syncData.nextSyncToken),this._deviceList.saveIfDirty(),this._deviceList.lastKnownSyncToken=nextSyncToken,this._deviceList.startTrackingDeviceList(this._userId),this._deviceList.refreshOutdatedDeviceLists(),syncData.catchingUp||(_maybeUploadOneTimeKeys(this),this._processReceivedRoomKeyRequests())},Crypto.prototype._evalDeviceListChanges=async function(deviceLists){if(deviceLists.changed&&Array.isArray(deviceLists.changed)&&deviceLists.changed.forEach(u=>{this._deviceList.invalidateUserDeviceList(u)}),deviceLists.left&&Array.isArray(deviceLists.left)&&deviceLists.left.length){const e2eUserIds=new Set(await this._getTrackedE2eUsers());deviceLists.left.forEach(u=>{e2eUserIds.has(u)||this._deviceList.stopTrackingDeviceList(u)})}},Crypto.prototype._getTrackedE2eUsers=async function(){const e2eUserIds=[];for(const room of this._getTrackedE2eRooms()){const members=await room.getEncryptionTargetMembers();for(const member of members)e2eUserIds.push(member.userId)}return e2eUserIds},Crypto.prototype._getTrackedE2eRooms=function(){return this._clientStore.getRooms().filter(room=>{if(!this._roomEncryptors[room.roomId])return!1;if(!this._roomDeviceTrackingState[room.roomId])return!1;const myMembership=room.getMyMembership();return"join"===myMembership||"invite"===myMembership})},Crypto.prototype._onToDeviceEvent=function(event){try{_logger.logger.log(`received to_device ${event.getType()} from: `+`${event.getSender()} id: ${event.getId()}`),"m.room_key"==event.getType()||"m.forwarded_room_key"==event.getType()?this._onRoomKeyEvent(event):"m.room_key_request"==event.getType()?this._onRoomKeyRequestEvent(event):"m.secret.request"===event.getType()?this._secretStorage._onRequestReceived(event):"m.secret.send"===event.getType()?this._secretStorage._onSecretReceived(event):"org.matrix.room_key.withheld"===event.getType()?this._onRoomKeyWithheldEvent(event):event.getContent().transaction_id?this._onKeyVerificationMessage(event):"m.bad.encrypted"===event.getContent().msgtype?this._onToDeviceBadEncrypted(event):event.isBeingDecrypted()&&event.once("Event.decrypted",ev=>{this._onToDeviceEvent(ev)})}catch(e){_logger.logger.error("Error handling toDeviceEvent:",e)}},Crypto.prototype._onRoomKeyEvent=function(event){const content=event.getContent();content.room_id&&content.algorithm?(this._checkedForBackup||this._checkAndStartKeyBackup(),this._getRoomDecryptor(content.room_id,content.algorithm).onRoomKeyEvent(event)):_logger.logger.error("key event is missing fields")},Crypto.prototype._onRoomKeyWithheldEvent=function(event){const content=event.getContent();if(!(("m.no_olm"===content.code||content.room_id&&content.session_id)&&content.algorithm&&content.sender_key))return void _logger.logger.error("key withheld event is missing fields");_logger.logger.info(`Got room key withheld event from ${event.getSender()} (${content.sender_key}) `+`for ${content.algorithm}/${content.room_id}/${content.session_id} `+`with reason ${content.code} (${content.reason})`);const alg=this._getRoomDecryptor(content.room_id,content.algorithm);if(alg.onRoomKeyWithheldEvent&&alg.onRoomKeyWithheldEvent(event),!content.room_id){const roomDecryptors=this._getRoomDecryptors(content.algorithm);for(const decryptor of roomDecryptors)decryptor.retryDecryptionFromSender(content.sender_key)}},Crypto.prototype._onKeyVerificationMessage=function(event){if(!_ToDeviceChannel.ToDeviceChannel.validateEvent(event,this._baseApis))return;const transactionId=_ToDeviceChannel.ToDeviceChannel.getTransactionId(event);this._handleVerificationEvent(event,transactionId,this._toDeviceVerificationRequests,event=>{if(!_ToDeviceChannel.ToDeviceChannel.canCreateRequest(_ToDeviceChannel.ToDeviceChannel.getEventType(event)))return;const content=event.getContent(),deviceId=content&&content.from_device;if(!deviceId)return;const userId=event.getSender(),channel=new _ToDeviceChannel.ToDeviceChannel(this._baseApis,userId,[deviceId]);return new _VerificationRequest.VerificationRequest(channel,this._verificationMethods,userId,this._baseApis)})},Crypto.prototype._onTimelineEvent=function(event){if(!_InRoomChannel.InRoomChannel.validateEvent(event,this._baseApis))return;const transactionId=_InRoomChannel.InRoomChannel.getTransactionId(event);this._handleVerificationEvent(event,transactionId,this._inRoomVerificationRequests,event=>{if(!_InRoomChannel.InRoomChannel.canCreateRequest(_InRoomChannel.InRoomChannel.getEventType(event)))return;const userId=event.getSender(),channel=new _InRoomChannel.InRoomChannel(this._baseApis,event.getRoomId(),userId);return new _VerificationRequest.VerificationRequest(channel,this._verificationMethods,userId,this._baseApis)})},Crypto.prototype._handleVerificationEvent=async function(event,transactionId,requestsMap,createRequest){const sender=event.getSender();let requestsByTxnId=requestsMap.get(sender),isNewRequest=!1,request=requestsByTxnId&&requestsByTxnId.get(transactionId);if(!request){if(!(request=createRequest(event)))return;isNewRequest=!0,requestsByTxnId||(requestsByTxnId=new Map,requestsMap.set(sender,requestsByTxnId)),requestsByTxnId.set(transactionId,request)}try{const hadVerifier=!!request.verifier;await request.channel.handleEvent(event,request),!hadVerifier&&request.verifier&&this._baseApis.emit("crypto.verification.start",request.verifier)}catch(err){console.error("error while handling verification event",event,err)}request.pending?isNewRequest&&!request.initiatedByMe&&this._baseApis.emit("crypto.verification.request",request):(requestsByTxnId.delete(transactionId),0===requestsByTxnId.size&&requestsMap.delete(sender))},Crypto.prototype._onToDeviceBadEncrypted=async function(event){const content=event.getWireContent(),sender=event.getSender(),algorithm=content.algorithm,deviceKey=content.sender_key,retryDecryption=()=>{const roomDecryptors=this._getRoomDecryptors(olmlib.MEGOLM_ALGORITHM);for(const decryptor of roomDecryptors)decryptor.retryDecryptionFromSender(deviceKey)};if(void 0===sender||void 0===deviceKey||void 0===deviceKey)return;this._lastNewSessionForced[sender]=this._lastNewSessionForced[sender]||{};const lastNewSessionForced=this._lastNewSessionForced[sender][deviceKey]||0;if(lastNewSessionForced+36e5>Date.now())return _logger.logger.debug("New session already forced with device "+sender+":"+deviceKey+" at "+lastNewSessionForced+": not forcing another"),await this._olmDevice.recordSessionProblem(deviceKey,"wedged",!0),void retryDecryption();const device=this._deviceList.getDeviceByIdentityKey(algorithm,deviceKey);if(!device)return _logger.logger.info("Couldn't find device for identity key "+deviceKey+": not re-establishing session"),await this._olmDevice.recordSessionProblem(deviceKey,"wedged",!1),void retryDecryption();const devicesByUser={};devicesByUser[sender]=[device],await olmlib.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,devicesByUser,!0),this._lastNewSessionForced[sender][deviceKey]=Date.now();const encryptedContent={algorithm:olmlib.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}};await olmlib.encryptMessageForDevice(encryptedContent.ciphertext,this._userId,this._deviceId,this._olmDevice,sender,device,{type:"m.dummy"}),await this._olmDevice.recordSessionProblem(deviceKey,"wedged",!0),retryDecryption(),await this._baseApis.sendToDevice("m.room.encrypted",{[sender]:{[device.deviceId]:encryptedContent}});const requestsToResend=await this._outgoingRoomKeyRequestManager.getOutgoingSentRoomKeyRequest(sender,device.deviceId);for(const keyReq of requestsToResend)this.requestRoomKey(keyReq.requestBody,keyReq.recipients,!0)},Crypto.prototype._onRoomMembership=function(event,member,oldMembership){const roomId=member.roomId,alg=this._roomEncryptors[roomId];alg&&(this._roomDeviceTrackingState[roomId]&&("join"==member.membership?(_logger.logger.log("Join event for "+member.userId+" in "+roomId),this._deviceList.startTrackingDeviceList(member.userId)):"invite"==member.membership&&this._clientStore.getRoom(roomId).shouldEncryptForInvitedMembers()&&(_logger.logger.log("Invite event for "+member.userId+" in "+roomId),this._deviceList.startTrackingDeviceList(member.userId))),alg.onRoomMembership(event,member,oldMembership))},Crypto.prototype._onRoomKeyRequestEvent=function(event){const content=event.getContent();if("request"===content.action){const req=new IncomingRoomKeyRequest(event);this._receivedRoomKeyRequests.push(req)}else if("request_cancellation"===content.action){const req=new IncomingRoomKeyRequestCancellation(event);this._receivedRoomKeyRequestCancellations.push(req)}},Crypto.prototype._processReceivedRoomKeyRequests=async function(){if(!this._processingRoomKeyRequests){this._processingRoomKeyRequests=!0;try{const requests=this._receivedRoomKeyRequests;this._receivedRoomKeyRequests=[];const cancellations=this._receivedRoomKeyRequestCancellations;this._receivedRoomKeyRequestCancellations=[],await Promise.all(requests.map(req=>this._processReceivedRoomKeyRequest(req))),await Promise.all(cancellations.map(cancellation=>this._processReceivedRoomKeyRequestCancellation(cancellation)))}catch(e){_logger.logger.error(`Error processing room key requsts: ${e}`)}finally{this._processingRoomKeyRequests=!1}}},Crypto.prototype._processReceivedRoomKeyRequest=async function(req){const userId=req.userId,deviceId=req.deviceId,body=req.requestBody,roomId=body.room_id,alg=body.algorithm;if(_logger.logger.log(`m.room_key_request from ${userId}:${deviceId}`+` for ${roomId} / ${body.session_id} (id ${req.requestId})`),userId!==this._userId){if(!this._roomEncryptors[roomId])return void _logger.logger.debug(`room key request for unencrypted room ${roomId}`);const encryptor=this._roomEncryptors[roomId],device=this._deviceList.getStoredDevice(userId,deviceId);if(!device)return void _logger.logger.debug(`Ignoring keyshare for unknown device ${userId}:${deviceId}`);try{await encryptor.reshareKeyWithDevice(body.sender_key,body.session_id,userId,device)}catch(e){_logger.logger.warn("Failed to re-share keys for session "+body.session_id+" with device "+userId+":"+device.deviceId,e)}return}if(!this._roomDecryptors[roomId])return void _logger.logger.log(`room key request for unencrypted room ${roomId}`);const decryptor=this._roomDecryptors[roomId][alg];if(!decryptor)return void _logger.logger.log(`room key request for unknown alg ${alg} in room ${roomId}`);if(!await decryptor.hasKeysForKeyRequest(req))return void _logger.logger.log(`room key request for unknown session ${roomId} / `+body.session_id);req.share=()=>{decryptor.shareKeysWithDevice(req)};const device=this._deviceList.getStoredDevice(userId,deviceId);if(device&&device.isVerified())return _logger.logger.log("device is already verified: sharing keys"),void req.share();this.emit("crypto.roomKeyRequest",req)},Crypto.prototype._processReceivedRoomKeyRequestCancellation=async function(cancellation){_logger.logger.log(`m.room_key_request cancellation for ${cancellation.userId}:`+`${cancellation.deviceId} (id ${cancellation.requestId})`),this.emit("crypto.roomKeyRequestCancellation",cancellation)},Crypto.prototype._getRoomDecryptor=function(roomId,algorithm){let decryptors,alg;if((roomId=roomId||null)&&((decryptors=this._roomDecryptors[roomId])||(this._roomDecryptors[roomId]=decryptors={}),alg=decryptors[algorithm]))return alg;const AlgClass=algorithms.DECRYPTION_CLASSES[algorithm];if(!AlgClass)throw new algorithms.DecryptionError("UNKNOWN_ENCRYPTION_ALGORITHM",'Unknown encryption algorithm "'+algorithm+'".');return alg=new AlgClass({userId:this._userId,crypto:this,olmDevice:this._olmDevice,baseApis:this._baseApis,roomId:roomId}),decryptors&&(decryptors[algorithm]=alg),alg},Crypto.prototype._getRoomDecryptors=function(algorithm){const decryptors=[];for(const d of Object.values(this._roomDecryptors))algorithm in d&&decryptors.push(d[algorithm]);return decryptors},Crypto.prototype._signObject=async function(obj){const sigs=obj.signatures||{},unsigned=obj.unsigned;delete obj.signatures,delete obj.unsigned,sigs[this._userId]=sigs[this._userId]||{},sigs[this._userId]["ed25519:"+this._deviceId]=await this._olmDevice.sign(_anotherJson.default.stringify(obj)),obj.signatures=sigs,void 0!==unsigned&&(obj.unsigned=unsigned)};class IncomingRoomKeyRequest{constructor(event){const content=event.getContent();this.userId=event.getSender(),this.deviceId=content.requesting_device_id,this.requestId=content.request_id,this.requestBody=content.body||{},this.share=()=>{throw new Error("don't know how to share keys for this request yet")}}}class IncomingRoomKeyRequestCancellation{constructor(event){const content=event.getContent();this.userId=event.getSender(),this.deviceId=content.requesting_device_id,this.requestId=content.request_id}}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4),_logger=__webpack_require__(2),utils=_interopRequireWildcard(__webpack_require__(5)),olmlib=_interopRequireWildcard(__webpack_require__(64)),_deviceinfo=__webpack_require__(149),_base=__webpack_require__(236);const DeviceVerification=_deviceinfo.DeviceInfo.DeviceVerification;function OlmEncryption(params){(0,utils.polyfillSuper)(this,_base.EncryptionAlgorithm,params),this._sessionPrepared=!1,this._prepPromise=null}function OlmDecryption(params){(0,utils.polyfillSuper)(this,_base.DecryptionAlgorithm,params)}utils.inherits(OlmEncryption,_base.EncryptionAlgorithm),OlmEncryption.prototype._ensureSession=function(roomMembers){if(this._prepPromise)return this._prepPromise;if(this._sessionPrepared)return Promise.resolve();const self=this;return this._prepPromise=self._crypto.downloadKeys(roomMembers).then(function(res){return self._crypto.ensureOlmSessionsForUsers(roomMembers)}).then(function(){self._sessionPrepared=!0}).finally(function(){self._prepPromise=null}),this._prepPromise},OlmEncryption.prototype.encryptMessage=async function(room,eventType,content){const members=await room.getEncryptionTargetMembers(),users=utils.map(members,function(u){return u.userId}),self=this;await this._ensureSession(users);const payloadFields={room_id:room.roomId,type:eventType,content:content},encryptedContent={algorithm:olmlib.OLM_ALGORITHM,sender_key:self._olmDevice.deviceCurve25519Key,ciphertext:{}},promises=[];for(let i=0;i<users.length;++i){const userId=users[i],devices=self._crypto.getStoredDevicesForUser(userId);for(let j=0;j<devices.length;++j){const deviceInfo=devices[j];deviceInfo.getIdentityKey()!=self._olmDevice.deviceCurve25519Key&&(deviceInfo.verified!=DeviceVerification.BLOCKED&&promises.push(olmlib.encryptMessageForDevice(encryptedContent.ciphertext,self._userId,self._deviceId,self._olmDevice,userId,deviceInfo,payloadFields)))}}return await Promise.all(promises).then(()=>encryptedContent)},utils.inherits(OlmDecryption,_base.DecryptionAlgorithm),OlmDecryption.prototype.decryptEvent=async function(event){const content=event.getWireContent(),deviceKey=content.sender_key,ciphertext=content.ciphertext;if(!ciphertext)throw new _base.DecryptionError("OLM_MISSING_CIPHERTEXT","Missing ciphertext");if(!(this._olmDevice.deviceCurve25519Key in ciphertext))throw new _base.DecryptionError("OLM_NOT_INCLUDED_IN_RECIPIENTS","Not included in recipients");const message=ciphertext[this._olmDevice.deviceCurve25519Key];let payloadString;try{payloadString=await this._decryptMessage(deviceKey,message)}catch(e){throw new _base.DecryptionError("OLM_BAD_ENCRYPTED_MESSAGE","Bad Encrypted Message",{sender:deviceKey,err:e})}const payload=JSON.parse(payloadString);if(payload.recipient!=this._userId)throw new _base.DecryptionError("OLM_BAD_RECIPIENT","Message was intented for "+payload.recipient);if(payload.recipient_keys.ed25519!=this._olmDevice.deviceEd25519Key)throw new _base.DecryptionError("OLM_BAD_RECIPIENT_KEY","Message not intended for this device",{intended:payload.recipient_keys.ed25519,our_key:this._olmDevice.deviceEd25519Key});if(payload.sender!=event.getSender())throw new _base.DecryptionError("OLM_FORWARDED_MESSAGE","Message forwarded from "+payload.sender,{reported_sender:event.getSender()});if(payload.room_id!==event.getRoomId())throw new _base.DecryptionError("OLM_BAD_ROOM","Message intended for room "+payload.room_id,{reported_room:event.room_id});return{clearEvent:payload,senderCurve25519Key:deviceKey,claimedEd25519Key:(payload.keys||{}).ed25519||null}},OlmDecryption.prototype._decryptMessage=async function(theirDeviceIdentityKey,message){const sessionIds=await this._olmDevice.getSessionIdsForDevice(theirDeviceIdentityKey),decryptionErrors={};for(let i=0;i<sessionIds.length;i++){const sessionId=sessionIds[i];try{const payload=await this._olmDevice.decryptMessage(theirDeviceIdentityKey,sessionId,message.type,message.body);return _logger.logger.log("Decrypted Olm message from "+theirDeviceIdentityKey+" with session "+sessionId),payload}catch(e){if(await this._olmDevice.matchesSession(theirDeviceIdentityKey,sessionId,message.type,message.body))throw new Error("Error decrypting prekey message with existing session id "+sessionId+": "+e.message);decryptionErrors[sessionId]=e.message}}if(0!==message.type){if(0===sessionIds.length)throw new Error("No existing sessions");throw new Error("Error decrypting non-prekey message with existing sessions: "+JSON.stringify(decryptionErrors))}let res;try{res=await this._olmDevice.createInboundSession(theirDeviceIdentityKey,message.type,message.body)}catch(e){throw decryptionErrors["(new)"]=e.message,new Error("Error decrypting prekey message: "+JSON.stringify(decryptionErrors))}return _logger.logger.log("created new inbound Olm session ID "+res.session_id+" with "+theirDeviceIdentityKey),res.payload},(0,_base.registerAlgorithm)(olmlib.OLM_ALGORITHM,OlmEncryption,OlmDecryption)},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4),_logger=__webpack_require__(2),utils=_interopRequireWildcard(__webpack_require__(5)),olmlib=_interopRequireWildcard(__webpack_require__(64)),_base=__webpack_require__(236),_OlmDevice=__webpack_require__(404);function OutboundSessionInfo(sessionId){this.sessionId=sessionId,this.useCount=0,this.creationTime=(new Date).getTime(),this.sharedWithDevices={},this.blockedDevicesNotified={}}function MegolmEncryption(params){(0,utils.polyfillSuper)(this,_base.EncryptionAlgorithm,params),this._setupPromise=Promise.resolve(),this._outboundSessions={},this._sessionRotationPeriodMsgs=100,this._sessionRotationPeriodMs=6048e5,void 0!==params.config.rotation_period_ms&&(this._sessionRotationPeriodMs=params.config.rotation_period_ms),void 0!==params.config.rotation_period_msgs&&(this._sessionRotationPeriodMsgs=params.config.rotation_period_msgs)}function MegolmDecryption(params){(0,utils.polyfillSuper)(this,_base.DecryptionAlgorithm,params),this._pendingEvents={},this.olmlib=olmlib}OutboundSessionInfo.prototype.needsRotation=function(rotationPeriodMsgs,rotationPeriodMs){const sessionLifetime=(new Date).getTime()-this.creationTime;return(this.useCount>=rotationPeriodMsgs||sessionLifetime>=rotationPeriodMs)&&(_logger.logger.log("Rotating megolm session after "+this.useCount+" messages, "+sessionLifetime+"ms"),!0)},OutboundSessionInfo.prototype.markSharedWithDevice=function(userId,deviceId,chainIndex){this.sharedWithDevices[userId]||(this.sharedWithDevices[userId]={}),this.sharedWithDevices[userId][deviceId]=chainIndex},OutboundSessionInfo.prototype.markNotifiedBlockedDevice=function(userId,deviceId){this.blockedDevicesNotified[userId]||(this.blockedDevicesNotified[userId]={}),this.blockedDevicesNotified[userId][deviceId]=!0},OutboundSessionInfo.prototype.sharedWithTooManyDevices=function(devicesInRoom){for(const userId in this.sharedWithDevices)if(this.sharedWithDevices.hasOwnProperty(userId)){if(!devicesInRoom.hasOwnProperty(userId))return _logger.logger.log("Starting new megolm session because we shared with "+userId),!0;for(const deviceId in this.sharedWithDevices[userId])if(this.sharedWithDevices[userId].hasOwnProperty(deviceId)&&!devicesInRoom[userId].hasOwnProperty(deviceId))return _logger.logger.log("Starting new megolm session because we shared with "+userId+":"+deviceId),!0}},utils.inherits(MegolmEncryption,_base.EncryptionAlgorithm),MegolmEncryption.prototype._ensureOutboundSession=async function(devicesInRoom,blocked){const self=this;let session;function returnSession(){return session}const prom=this._setupPromise.then(async function prepareSession(oldSession){(session=oldSession)&&session.needsRotation(self._sessionRotationPeriodMsgs,self._sessionRotationPeriodMs)&&(_logger.logger.log("Starting new megolm session because we need to rotate."),session=null),session&&session.sharedWithTooManyDevices(devicesInRoom)&&(session=null),session||(_logger.logger.log(`Starting new megolm session for room ${self._roomId}`),session=await self._prepareNewSession(),_logger.logger.log(`Started new megolm session ${session.sessionId} `+`for room ${self._roomId}`),self._outboundSessions[session.sessionId]=session);const shareMap={};for(const userId in devicesInRoom){if(!devicesInRoom.hasOwnProperty(userId))continue;const userDevices=devicesInRoom[userId];for(const deviceId in userDevices){if(!userDevices.hasOwnProperty(deviceId))continue;const deviceInfo=userDevices[deviceId];deviceInfo.getIdentityKey()!=self._olmDevice.deviceCurve25519Key&&(session.sharedWithDevices[userId]&&void 0!==session.sharedWithDevices[userId][deviceId]||(shareMap[userId]=shareMap[userId]||[],shareMap[userId].push(deviceInfo)))}}const errorDevices=[];await self._shareKeyWithDevices(session,shareMap,errorDevices);const blockedMap={};for(const userId in blocked){if(!blocked.hasOwnProperty(userId))continue;const userBlockedDevices=blocked[userId];for(const deviceId in userBlockedDevices)userBlockedDevices.hasOwnProperty(deviceId)&&(session.blockedDevicesNotified[userId]&&void 0!==session.blockedDevicesNotified[userId][deviceId]||(blockedMap[userId]=blockedMap[userId]||[],blockedMap[userId].push(userBlockedDevices[deviceId])))}const filteredErrorDevices=await self._olmDevice.filterOutNotifiedErrorDevices(errorDevices);for(const{userId:userId,deviceInfo:deviceInfo}of filteredErrorDevices)blockedMap[userId]=blockedMap[userId]||[],blockedMap[userId].push({code:"m.no_olm",reason:_OlmDevice.WITHHELD_MESSAGES["m.no_olm"],deviceInfo:deviceInfo});await self._notifyBlockedDevices(session,blockedMap)});return this._setupPromise=prom.then(returnSession,returnSession),prom.then(returnSession)},MegolmEncryption.prototype._prepareNewSession=async function(){const sessionId=this._olmDevice.createOutboundGroupSession(),key=this._olmDevice.getOutboundGroupSessionKey(sessionId);return await this._olmDevice.addInboundGroupSession(this._roomId,this._olmDevice.deviceCurve25519Key,[],sessionId,key.key,{ed25519:this._olmDevice.deviceEd25519Key}),this._crypto.backupInfo&&this._crypto.backupGroupSession(this._roomId,this._olmDevice.deviceCurve25519Key,[],sessionId,key.key).catch(e=>{_logger.logger.log("Failed to back up megolm session",e)}),new OutboundSessionInfo(sessionId)},MegolmEncryption.prototype._splitUserDeviceMap=function(session,chainIndex,devicemap,devicesByUser,errorDevices){const mapSlices=[];let currentSliceId=0,entriesInCurrentSlice=0;for(const userId of Object.keys(devicesByUser)){const devicesToShareWith=devicesByUser[userId],sessionResults=devicemap[userId];for(let i=0;i<devicesToShareWith.length;i++){const deviceInfo=devicesToShareWith[i],deviceId=deviceInfo.deviceId;sessionResults[deviceId].sessionId?(_logger.logger.log("share keys with device "+userId+":"+deviceId),mapSlices[currentSliceId]||(mapSlices[currentSliceId]=[]),mapSlices[currentSliceId].push({userId:userId,deviceInfo:deviceInfo}),entriesInCurrentSlice++):(session.markSharedWithDevice(userId,deviceId,chainIndex),errorDevices.push({userId:userId,deviceInfo:deviceInfo}))}entriesInCurrentSlice>20&&(entriesInCurrentSlice=0,currentSliceId++)}return mapSlices},MegolmEncryption.prototype._splitBlockedDevices=function(devicesByUser){let currentSlice=[];const mapSlices=[currentSlice];for(const userId of Object.keys(devicesByUser)){const userBlockedDevicesToShareWith=devicesByUser[userId];for(const blockedInfo of userBlockedDevicesToShareWith)currentSlice.push({userId:userId,blockedInfo:blockedInfo});currentSlice.length>20&&(currentSlice=[],mapSlices.push(currentSlice))}return 0===currentSlice.length&&mapSlices.pop(),mapSlices},MegolmEncryption.prototype._encryptAndSendKeysToDevices=function(session,chainIndex,userDeviceMap,payload){const contentMap={},promises=[];for(let i=0;i<userDeviceMap.length;i++){const encryptedContent={algorithm:olmlib.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}},val=userDeviceMap[i],userId=val.userId,deviceInfo=val.deviceInfo,deviceId=deviceInfo.deviceId;contentMap[userId]||(contentMap[userId]={}),contentMap[userId][deviceId]=encryptedContent,promises.push(olmlib.encryptMessageForDevice(encryptedContent.ciphertext,this._userId,this._deviceId,this._olmDevice,userId,deviceInfo,payload))}return Promise.all(promises).then(()=>this._baseApis.sendToDevice("m.room.encrypted",contentMap).then(()=>{for(const userId of Object.keys(contentMap))for(const deviceId of Object.keys(contentMap[userId]))session.markSharedWithDevice(userId,deviceId,chainIndex)}))},MegolmEncryption.prototype._sendBlockedNotificationsToDevices=async function(session,userDeviceMap,payload){const contentMap={};for(const val of userDeviceMap){const userId=val.userId,blockedInfo=val.blockedInfo,deviceId=blockedInfo.deviceInfo.deviceId,message=Object.assign({},payload);message.code=blockedInfo.code,message.reason=blockedInfo.reason,"m.no_olm"===message.code&&(delete message.room_id,delete message.session_id),contentMap[userId]||(contentMap[userId]={}),contentMap[userId][deviceId]=message}await this._baseApis.sendToDevice("org.matrix.room_key.withheld",contentMap);for(const userId of Object.keys(contentMap))for(const deviceId of Object.keys(contentMap[userId]))session.markNotifiedBlockedDevice(userId,deviceId)},MegolmEncryption.prototype.reshareKeyWithDevice=async function(senderKey,sessionId,userId,device){const obSessionInfo=this._outboundSessions[sessionId];if(!obSessionInfo)return void _logger.logger.debug(`megolm session ${sessionId} not found: not re-sharing keys`);if(void 0===obSessionInfo.sharedWithDevices[userId])return void _logger.logger.debug(`megolm session ${sessionId} never shared with user ${userId}`);const sentChainIndex=obSessionInfo.sharedWithDevices[userId][device.deviceId];if(void 0===sentChainIndex)return void _logger.logger.debug("megolm session ID "+sessionId+" never shared with device "+userId+":"+device.deviceId);const key=await this._olmDevice.getInboundGroupSessionKey(this._roomId,senderKey,sessionId,sentChainIndex);if(!key)return void _logger.logger.warn(`No inbound session key found for megolm ${sessionId}: not re-sharing keys`);await olmlib.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,{[userId]:{[device.deviceId]:device}});const payload={type:"m.forwarded_room_key",content:{algorithm:olmlib.MEGOLM_ALGORITHM,room_id:this._roomId,session_id:sessionId,session_key:key.key,chain_index:key.chain_index,sender_key:senderKey,sender_claimed_ed25519_key:key.sender_claimed_ed25519_key,forwarding_curve25519_key_chain:key.forwarding_curve25519_key_chain}},encryptedContent={algorithm:olmlib.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}};await olmlib.encryptMessageForDevice(encryptedContent.ciphertext,this._userId,this._deviceId,this._olmDevice,userId,device,payload),await this._baseApis.sendToDevice("m.room.encrypted",{[userId]:{[device.deviceId]:encryptedContent}}),_logger.logger.debug(`Re-shared key for megolm session ${sessionId} `+`with ${userId}:${device.deviceId}`)},MegolmEncryption.prototype._shareKeyWithDevices=async function(session,devicesByUser,errorDevices){const key=this._olmDevice.getOutboundGroupSessionKey(session.sessionId),payload={type:"m.room_key",content:{algorithm:olmlib.MEGOLM_ALGORITHM,room_id:this._roomId,session_id:session.sessionId,session_key:key.key,chain_index:key.chain_index}},devicemap=await olmlib.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,devicesByUser),userDeviceMaps=this._splitUserDeviceMap(session,key.chain_index,devicemap,devicesByUser,errorDevices);for(let i=0;i<userDeviceMaps.length;i++)try{await this._encryptAndSendKeysToDevices(session,key.chain_index,userDeviceMaps[i],payload),_logger.logger.log(`Completed megolm keyshare for ${session.sessionId} `+`in ${this._roomId} (slice ${i+1}/${userDeviceMaps.length})`)}catch(e){throw _logger.logger.log(`megolm keyshare for ${session.sessionId} in ${this._roomId} `+`(slice ${i+1}/${userDeviceMaps.length}) failed`),e}},MegolmEncryption.prototype._notifyBlockedDevices=async function(session,devicesByUser){const payload={room_id:this._roomId,session_id:session.sessionId,algorithm:olmlib.MEGOLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key},userDeviceMaps=this._splitBlockedDevices(devicesByUser);for(let i=0;i<userDeviceMaps.length;i++)try{await this._sendBlockedNotificationsToDevices(session,userDeviceMaps[i],payload),_logger.logger.log(`Completed blacklist notification for ${session.sessionId} `+`in ${this._roomId} (slice ${i+1}/${userDeviceMaps.length})`)}catch(e){throw _logger.logger.log(`blacklist notification for ${session.sessionId} in `+`${this._roomId} (slice ${i+1}/${userDeviceMaps.length}) failed`),e}},MegolmEncryption.prototype.encryptMessage=async function(room,eventType,content){const self=this;_logger.logger.log(`Starting to encrypt event for ${this._roomId}`);const[devicesInRoom,blocked]=await this._getDevicesInRoom(room);this._crypto.getGlobalErrorOnUnknownDevices()&&self._checkForUnknownDevices(devicesInRoom);const session=await self._ensureOutboundSession(devicesInRoom,blocked),payloadJson={room_id:self._roomId,type:eventType,content:content},ciphertext=self._olmDevice.encryptGroupMessage(session.sessionId,JSON.stringify(payloadJson)),encryptedContent={algorithm:olmlib.MEGOLM_ALGORITHM,sender_key:self._olmDevice.deviceCurve25519Key,ciphertext:ciphertext,session_id:session.sessionId,device_id:self._deviceId};return session.useCount++,encryptedContent},MegolmEncryption.prototype.forceDiscardSession=function(){this._setupPromise=this._setupPromise.then(()=>null)},MegolmEncryption.prototype._checkForUnknownDevices=function(devicesInRoom){const unknownDevices={};if(Object.keys(devicesInRoom).forEach(userId=>{Object.keys(devicesInRoom[userId]).forEach(deviceId=>{const device=devicesInRoom[userId][deviceId];device.isUnverified()&&!device.isKnown()&&(unknownDevices[userId]||(unknownDevices[userId]={}),unknownDevices[userId][deviceId]=device)})}),Object.keys(unknownDevices).length)throw new _base.UnknownDeviceError("This room contains unknown devices which have not been verified. We strongly recommend you verify them before continuing.",unknownDevices)},MegolmEncryption.prototype._getDevicesInRoom=async function(room){const members=await room.getEncryptionTargetMembers(),roomMembers=utils.map(members,function(u){return u.userId});let isBlacklisting=this._crypto.getGlobalBlacklistUnverifiedDevices();"boolean"==typeof room.getBlacklistUnverifiedDevices()&&(isBlacklisting=room.getBlacklistUnverifiedDevices());const devices=await this._crypto.downloadKeys(roomMembers,!1),blocked={};for(const userId in devices){if(!devices.hasOwnProperty(userId))continue;const userDevices=devices[userId];for(const deviceId in userDevices)if(userDevices.hasOwnProperty(deviceId)&&(userDevices[deviceId].isBlocked()||userDevices[deviceId].isUnverified()&&isBlacklisting)){blocked[userId]||(blocked[userId]={});const blockedInfo=userDevices[deviceId].isBlocked()?{code:"m.blacklisted",reason:_OlmDevice.WITHHELD_MESSAGES["m.blacklisted"]}:{code:"m.unverified",reason:_OlmDevice.WITHHELD_MESSAGES["m.unverified"]};blockedInfo.deviceInfo=userDevices[deviceId],blocked[userId][deviceId]=blockedInfo,delete userDevices[deviceId]}}return[devices,blocked]},utils.inherits(MegolmDecryption,_base.DecryptionAlgorithm);const PROBLEM_DESCRIPTIONS={no_olm:"The sender was unable to establish a secure channel.",unknown:"The secure channel with the sender was corrupted."};MegolmDecryption.prototype.decryptEvent=async function(event){const content=event.getWireContent();if(!content.sender_key||!content.session_id||!content.ciphertext)throw new _base.DecryptionError("MEGOLM_MISSING_FIELDS","Missing fields in input");let res;this._addEventToPendingList(event);try{res=await this._olmDevice.decryptGroupMessage(event.getRoomId(),content.sender_key,content.session_id,content.ciphertext,event.getId(),event.getTs())}catch(e){if("DecryptionError"===e.name)throw e;let errorCode="OLM_DECRYPT_GROUP_MESSAGE_ERROR";throw e&&"OLM.UNKNOWN_MESSAGE_INDEX"===e.message&&(this._requestKeysForEvent(event),errorCode="OLM_UNKNOWN_MESSAGE_INDEX"),new _base.DecryptionError(errorCode,e?e.toString():"Unknown Error: Error is undefined",{session:content.sender_key+"|"+content.session_id})}if(null===res){this._requestKeysForEvent(event);const problem=await this._olmDevice.sessionMayHaveProblems(content.sender_key,event.getTs()-12e4);if(problem){let problemDescription=PROBLEM_DESCRIPTIONS[problem.type]||PROBLEM_DESCRIPTIONS.unknown;throw problem.fixed&&(problemDescription+=" Trying to create a new secure channel and re-requesting the keys."),new _base.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",problemDescription,{session:content.sender_key+"|"+content.session_id})}throw new _base.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID","The sender's device has not sent us the keys for this message.",{session:content.sender_key+"|"+content.session_id})}this._removeEventFromPendingList(event);const payload=JSON.parse(res.result);if(payload.room_id!==event.getRoomId())throw new _base.DecryptionError("MEGOLM_BAD_ROOM","Message intended for room "+payload.room_id);return{clearEvent:payload,senderCurve25519Key:res.senderKey,claimedEd25519Key:res.keysClaimed.ed25519,forwardingCurve25519KeyChain:res.forwardingCurve25519KeyChain}},MegolmDecryption.prototype._requestKeysForEvent=function(event){const wireContent=event.getWireContent(),recipients=event.getKeyRequestRecipients(this._userId);this._crypto.requestRoomKey({room_id:event.getRoomId(),algorithm:wireContent.algorithm,sender_key:wireContent.sender_key,session_id:wireContent.session_id},recipients)},MegolmDecryption.prototype._addEventToPendingList=function(event){const content=event.getWireContent(),senderKey=content.sender_key,sessionId=content.session_id;this._pendingEvents[senderKey]||(this._pendingEvents[senderKey]=new Map);const senderPendingEvents=this._pendingEvents[senderKey];senderPendingEvents.has(sessionId)||senderPendingEvents.set(sessionId,new Set),senderPendingEvents.get(sessionId).add(event)},MegolmDecryption.prototype._removeEventFromPendingList=function(event){const content=event.getWireContent(),senderKey=content.sender_key,sessionId=content.session_id,senderPendingEvents=this._pendingEvents[senderKey],pendingEvents=senderPendingEvents&&senderPendingEvents.get(sessionId);pendingEvents&&(pendingEvents.delete(event),0===pendingEvents.size&&senderPendingEvents.delete(senderKey),0===senderPendingEvents.size&&delete this._pendingEvents[senderKey])},MegolmDecryption.prototype.onRoomKeyEvent=function(event){const content=event.getContent(),sessionId=content.session_id;let keysClaimed,senderKey=event.getSenderKey(),forwardingKeyChain=[],exportFormat=!1;if(content.room_id&&sessionId&&content.session_key){if(senderKey){if("m.forwarded_room_key"==event.getType()){if(exportFormat=!0,forwardingKeyChain=content.forwarding_curve25519_key_chain,utils.isArray(forwardingKeyChain)||(forwardingKeyChain=[]),(forwardingKeyChain=forwardingKeyChain.slice()).push(senderKey),!(senderKey=content.sender_key))return void _logger.logger.error("forwarded_room_key event is missing sender_key field");const ed25519Key=content.sender_claimed_ed25519_key;if(!ed25519Key)return void _logger.logger.error("forwarded_room_key_event is missing sender_claimed_ed25519_key field");keysClaimed={ed25519:ed25519Key}}else keysClaimed=event.getKeysClaimed();return _logger.logger.log(`Received and adding key for megolm session ${senderKey}|${sessionId}`),this._olmDevice.addInboundGroupSession(content.room_id,senderKey,forwardingKeyChain,sessionId,content.session_key,keysClaimed,exportFormat).then(()=>{this._retryDecryption(senderKey,sessionId).then(success=>{success&&this._crypto.cancelRoomKeyRequest({algorithm:content.algorithm,room_id:content.room_id,session_id:content.session_id,sender_key:senderKey})})}).then(()=>{this._crypto.backupInfo&&this._crypto.backupGroupSession(content.room_id,senderKey,forwardingKeyChain,content.session_id,content.session_key,keysClaimed,exportFormat).catch(e=>{_logger.logger.log("Failed to back up megolm session",e)})}).catch(e=>{_logger.logger.error(`Error handling m.room_key_event: ${e}`)})}_logger.logger.error("key event has no sender key (not encrypted?)")}else _logger.logger.error("key event is missing fields")},MegolmDecryption.prototype.onRoomKeyWithheldEvent=async function(event){const content=event.getContent(),senderKey=content.sender_key;if("m.no_olm"===content.code){const sender=event.getSender();if(await this._olmDevice.getSessionIdForDevice(senderKey))return await this._olmDevice.recordSessionProblem(senderKey,"no_olm",!0),void this.retryDecryptionFromSender(senderKey);const device=this._crypto._deviceList.getDeviceByIdentityKey(content.algorithm,senderKey);if(!device)return _logger.logger.info("Couldn't find device for identity key "+senderKey+": not establishing session"),await this._olmDevice.recordSessionProblem(senderKey,"no_olm",!1),void this.retryDecryptionFromSender(senderKey);await olmlib.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,{[sender]:[device]},!1);const encryptedContent={algorithm:olmlib.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}};await olmlib.encryptMessageForDevice(encryptedContent.ciphertext,this._userId,this._deviceId,this._olmDevice,sender,device,{type:"m.dummy"}),await this._olmDevice.recordSessionProblem(senderKey,"no_olm",!0),this.retryDecryptionFromSender(senderKey),await this._baseApis.sendToDevice("m.room.encrypted",{[sender]:{[device.deviceId]:encryptedContent}})}else await this._olmDevice.addInboundGroupSessionWithheld(content.room_id,senderKey,content.session_id,content.code,content.reason)},MegolmDecryption.prototype.hasKeysForKeyRequest=function(keyRequest){const body=keyRequest.requestBody;return this._olmDevice.hasInboundSessionKeys(body.room_id,body.sender_key,body.session_id)},MegolmDecryption.prototype.shareKeysWithDevice=function(keyRequest){const userId=keyRequest.userId,deviceId=keyRequest.deviceId,deviceInfo=this._crypto.getStoredDevice(userId,deviceId),body=keyRequest.requestBody;this.olmlib.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,{[userId]:[deviceInfo]}).then(devicemap=>{return devicemap[userId][deviceId].sessionId?(_logger.logger.log("sharing keys for session "+body.sender_key+"|"+body.session_id+" with device "+userId+":"+deviceId),this._buildKeyForwardingMessage(body.room_id,body.sender_key,body.session_id)):null}).then(payload=>{const encryptedContent={algorithm:olmlib.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}};return this.olmlib.encryptMessageForDevice(encryptedContent.ciphertext,this._userId,this._deviceId,this._olmDevice,userId,deviceInfo,payload).then(()=>{const contentMap={[userId]:{[deviceId]:encryptedContent}};return this._baseApis.sendToDevice("m.room.encrypted",contentMap)})})},MegolmDecryption.prototype._buildKeyForwardingMessage=async function(roomId,senderKey,sessionId){const key=await this._olmDevice.getInboundGroupSessionKey(roomId,senderKey,sessionId);return{type:"m.forwarded_room_key",content:{algorithm:olmlib.MEGOLM_ALGORITHM,room_id:roomId,sender_key:senderKey,sender_claimed_ed25519_key:key.sender_claimed_ed25519_key,session_id:sessionId,session_key:key.key,chain_index:key.chain_index,forwarding_curve25519_key_chain:key.forwarding_curve25519_key_chain}}},MegolmDecryption.prototype.importRoomKey=function(session){return this._olmDevice.addInboundGroupSession(session.room_id,session.sender_key,session.forwarding_curve25519_key_chain,session.session_id,session.session_key,session.sender_claimed_keys,!0).then(()=>{this._crypto.backupInfo&&this._crypto.backupGroupSession(session.room_id,session.sender_key,session.forwarding_curve25519_key_chain,session.session_id,session.session_key,session.sender_claimed_keys,!0).catch(e=>{_logger.logger.log("Failed to back up megolm session",e)}),this._retryDecryption(session.sender_key,session.session_id)})},MegolmDecryption.prototype._retryDecryption=async function(senderKey,sessionId){const senderPendingEvents=this._pendingEvents[senderKey];if(!senderPendingEvents)return!0;const pending=senderPendingEvents.get(sessionId);return!pending||(pending.delete(sessionId),0===pending.size&&this._pendingEvents[senderKey],await Promise.all([...pending].map(async ev=>{try{await ev.attemptDecryption(this._crypto)}catch(e){}})),!(this._pendingEvents[senderKey]||{})[sessionId])},MegolmDecryption.prototype.retryDecryptionFromSender=async function(senderKey){const senderPendingEvents=this._pendingEvents[senderKey];return _logger.logger.warn(senderPendingEvents),!senderPendingEvents||(delete this._pendingEvents[senderKey],await Promise.all([...senderPendingEvents].map(async([_sessionId,pending])=>{await Promise.all([...pending].map(async ev=>{try{_logger.logger.warn(ev.getId()),await ev.attemptDecryption(this._crypto)}catch(e){}}))})),!this._pendingEvents[senderKey])},(0,_base.registerAlgorithm)(olmlib.MEGOLM_ALGORITHM,MegolmEncryption,MegolmDecryption)},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceList=void 0;var _events=__webpack_require__(18),_logger=__webpack_require__(2),_deviceinfo=__webpack_require__(149),_CrossSigning=__webpack_require__(406),olmlib=_interopRequireWildcard(__webpack_require__(64)),_indexeddbCryptoStore=__webpack_require__(99),_utils=__webpack_require__(5);const TRACKING_STATUS_NOT_TRACKED=0,TRACKING_STATUS_PENDING_DOWNLOAD=1,TRACKING_STATUS_DOWNLOAD_IN_PROGRESS=2,TRACKING_STATUS_UP_TO_DATE=3;exports.DeviceList=class DeviceList extends _events.EventEmitter{constructor(baseApis,cryptoStore,olmDevice){super(),this._cryptoStore=cryptoStore,this._devices={},this._crossSigningInfo={},this._userByIdentityKey={},this._deviceTrackingStatus={},this._syncToken=null,this._serialiser=new DeviceListUpdateSerialiser(baseApis,olmDevice,this),this._keyDownloadsInProgressByUser={},this._dirty=!1,this._savePromise=null,this._resolveSavePromise=null,this._savePromiseTime=null,this._saveTimer=null}async load(){await this._cryptoStore.doTxn("readonly",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_DEVICE_DATA],txn=>{this._cryptoStore.getEndToEndDeviceData(txn,deviceData=>{this._devices=deviceData?deviceData.devices:{},this._crossSigningInfo=deviceData&&deviceData.crossSigningInfo||{},this._deviceTrackingStatus=deviceData?deviceData.trackingStatus:{},this._syncToken=deviceData?deviceData.syncToken:null,this._userByIdentityKey={};for(const user of Object.keys(this._devices)){const userDevices=this._devices[user];for(const device of Object.keys(userDevices)){const idKey=userDevices[device].keys["curve25519:"+device];void 0!==idKey&&(this._userByIdentityKey[idKey]=user)}}})});for(const u of Object.keys(this._deviceTrackingStatus))this._deviceTrackingStatus[u]==TRACKING_STATUS_DOWNLOAD_IN_PROGRESS&&(this._deviceTrackingStatus[u]=TRACKING_STATUS_PENDING_DOWNLOAD)}stop(){null!==this._saveTimer&&clearTimeout(this._saveTimer)}async saveIfDirty(delay){if(!this._dirty)return Promise.resolve(!1);void 0===delay&&(delay=500);const targetTime=Date.now+delay;this._savePromiseTime&&targetTime<this._savePromiseTime&&(clearTimeout(this._saveTimer),this._saveTimer=null,this._savePromiseTime=null);let savePromise=this._savePromise;if(null===savePromise&&(savePromise=new Promise((resolve,reject)=>{this._resolveSavePromise=resolve}),this._savePromise=savePromise),null===this._saveTimer){const resolveSavePromise=this._resolveSavePromise;this._savePromiseTime=targetTime,this._saveTimer=setTimeout(()=>{_logger.logger.log("Saving device tracking data at token "+this._syncToken),this._savePromiseTime=null,this._saveTimer=null,this._savePromise=null,this._resolveSavePromise=null,this._dirty=!1,this._cryptoStore.doTxn("readwrite",[_indexeddbCryptoStore.IndexedDBCryptoStore.STORE_DEVICE_DATA],txn=>{this._cryptoStore.storeEndToEndDeviceData({devices:this._devices,crossSigningInfo:this._crossSigningInfo,trackingStatus:this._deviceTrackingStatus,syncToken:this._syncToken},txn)}).then(()=>{resolveSavePromise()})},delay)}return savePromise}getSyncToken(){return this._syncToken}setSyncToken(st){this._syncToken=st}downloadKeys(userIds,forceDownload){const usersToDownload=[],promises=[];if(userIds.forEach(u=>{const trackingStatus=this._deviceTrackingStatus[u];this._keyDownloadsInProgressByUser[u]?(_logger.logger.log("downloadKeys: already have a download in progress for "+`${u}: awaiting its result`),promises.push(this._keyDownloadsInProgressByUser[u])):(forceDownload||trackingStatus!=TRACKING_STATUS_UP_TO_DATE)&&usersToDownload.push(u)}),0!=usersToDownload.length){_logger.logger.log("downloadKeys: downloading for",usersToDownload);const downloadPromise=this._doKeyDownload(usersToDownload);promises.push(downloadPromise)}return 0===promises.length&&_logger.logger.log("downloadKeys: already have all necessary keys"),Promise.all(promises).then(()=>this._getDevicesFromStore(userIds))}_getDevicesFromStore(userIds){const stored={},self=this;return userIds.map(function(u){stored[u]={},(self.getStoredDevicesForUser(u)||[]).map(function(dev){stored[u][dev.deviceId]=dev})}),stored}getStoredDevicesForUser(userId){const devs=this._devices[userId];if(!devs)return null;const res=[];for(const deviceId in devs)devs.hasOwnProperty(deviceId)&&res.push(_deviceinfo.DeviceInfo.fromStorage(devs[deviceId],deviceId));return res}getRawStoredDevicesForUser(userId){return this._devices[userId]}getStoredCrossSigningForUser(userId){return this._crossSigningInfo[userId]?_CrossSigning.CrossSigningInfo.fromStorage(this._crossSigningInfo[userId],userId):null}storeCrossSigningForUser(userId,info){this._crossSigningInfo[userId]=info,this._dirty=!0}getStoredDevice(userId,deviceId){const devs=this._devices[userId];if(devs&&devs[deviceId])return _deviceinfo.DeviceInfo.fromStorage(devs[deviceId],deviceId)}getDeviceByIdentityKey(algorithm,senderKey){const userId=this._userByIdentityKey[senderKey];if(!userId)return null;if(algorithm!==olmlib.OLM_ALGORITHM&&algorithm!==olmlib.MEGOLM_ALGORITHM)return null;const devices=this._devices[userId];if(!devices)return null;for(const deviceId in devices){if(!devices.hasOwnProperty(deviceId))continue;const device=devices[deviceId];for(const keyId in device.keys){if(!device.keys.hasOwnProperty(keyId))continue;if(0!==keyId.indexOf("curve25519:"))continue;if(device.keys[keyId]==senderKey)return _deviceinfo.DeviceInfo.fromStorage(device,deviceId)}}return null}storeDevicesForUser(u,devs){if(void 0!==this._devices[u])for(const[deviceId,dev]of Object.entries(this._devices[u])){const identityKey=dev.keys["curve25519:"+deviceId];delete this._userByIdentityKey[identityKey]}this._devices[u]=devs;for(const[deviceId,dev]of Object.entries(devs)){const identityKey=dev.keys["curve25519:"+deviceId];this._userByIdentityKey[identityKey]=u}this._dirty=!0}startTrackingDeviceList(userId){if("string"!=typeof userId)throw new Error("userId must be a string; was "+userId);this._deviceTrackingStatus[userId]||(_logger.logger.log("Now tracking device list for "+userId),this._deviceTrackingStatus[userId]=TRACKING_STATUS_PENDING_DOWNLOAD,this._dirty=!0)}stopTrackingDeviceList(userId){this._deviceTrackingStatus[userId]&&(_logger.logger.log("No longer tracking device list for "+userId),this._deviceTrackingStatus[userId]=TRACKING_STATUS_NOT_TRACKED,this._dirty=!0)}stopTrackingAllDeviceLists(){for(const userId of Object.keys(this._deviceTrackingStatus))this._deviceTrackingStatus[userId]=TRACKING_STATUS_NOT_TRACKED;this._dirty=!0}invalidateUserDeviceList(userId){this._deviceTrackingStatus[userId]&&(_logger.logger.log("Marking device list outdated for",userId),this._deviceTrackingStatus[userId]=TRACKING_STATUS_PENDING_DOWNLOAD,this._dirty=!0)}refreshOutdatedDeviceLists(){this.saveIfDirty();const usersToDownload=[];for(const userId of Object.keys(this._deviceTrackingStatus)){this._deviceTrackingStatus[userId]==TRACKING_STATUS_PENDING_DOWNLOAD&&usersToDownload.push(userId)}return this._doKeyDownload(usersToDownload)}_setRawStoredDevicesForUser(userId,devices){if(void 0!==this._devices[userId])for(const[deviceId,dev]of Object.entries(this._devices[userId])){const identityKey=dev.keys["curve25519:"+deviceId];delete this._userByIdentityKey[identityKey]}this._devices[userId]=devices;for(const[deviceId,dev]of Object.entries(devices)){const identityKey=dev.keys["curve25519:"+deviceId];this._userByIdentityKey[identityKey]=userId}}setRawStoredCrossSigningForUser(userId,info){this._crossSigningInfo[userId]=info}_doKeyDownload(users){if(0===users.length)return Promise.resolve();const prom=this._serialiser.updateDevicesForUsers(users,this._syncToken).then(()=>{finished(!0)},e=>{throw _logger.logger.error("Error downloading keys for "+users+":",e),finished(!1),e});users.forEach(u=>{this._keyDownloadsInProgressByUser[u]=prom,this._deviceTrackingStatus[u]==TRACKING_STATUS_PENDING_DOWNLOAD&&(this._deviceTrackingStatus[u]=TRACKING_STATUS_DOWNLOAD_IN_PROGRESS)});const finished=success=>{users.forEach(u=>{if(this._dirty=!0,this._keyDownloadsInProgressByUser[u]!==prom)return void _logger.logger.log("Another update in the queue for",u,"- not marking up-to-date");delete this._keyDownloadsInProgressByUser[u],this._deviceTrackingStatus[u]==TRACKING_STATUS_DOWNLOAD_IN_PROGRESS&&(success?(this._deviceTrackingStatus[u]=TRACKING_STATUS_UP_TO_DATE,_logger.logger.log("Device list for",u,"now up to date")):this._deviceTrackingStatus[u]=TRACKING_STATUS_PENDING_DOWNLOAD)}),this.saveIfDirty(),this.emit("crypto.devicesUpdated",users)};return prom}};class DeviceListUpdateSerialiser{constructor(baseApis,olmDevice,deviceList){this._baseApis=baseApis,this._olmDevice=olmDevice,this._deviceList=deviceList,this._downloadInProgress=!1,this._keyDownloadsQueuedByUser={},this._queuedQueryDeferred=null,this._syncToken=null}updateDevicesForUsers(users,syncToken){return users.forEach(u=>{this._keyDownloadsQueuedByUser[u]=!0}),this._queuedQueryDeferred||(this._queuedQueryDeferred=(0,_utils.defer)()),this._syncToken=syncToken,this._downloadInProgress?(_logger.logger.log("Queued key download for",users),this._queuedQueryDeferred.promise):this._doQueuedQueries()}_doQueuedQueries(){if(this._downloadInProgress)throw new Error("DeviceListUpdateSerialiser._doQueuedQueries called with request active");const downloadUsers=Object.keys(this._keyDownloadsQueuedByUser);this._keyDownloadsQueuedByUser={};const deferred=this._queuedQueryDeferred;this._queuedQueryDeferred=null,_logger.logger.log("Starting key download for",downloadUsers),this._downloadInProgress=!0;const opts={};return this._syncToken&&(opts.token=this._syncToken),this._baseApis.downloadKeysForUsers(downloadUsers,opts).then(res=>{const dk=res.device_keys||{},masterKeys=res.master_keys||{},ssks=res.self_signing_keys||{},usks=res.user_signing_keys||{};let prom=Promise.resolve();for(const userId of downloadUsers)prom=prom.then((0,_utils.sleep)(5)).then(()=>this._processQueryResponseForUser(userId,dk[userId],{master:masterKeys[userId],self_signing:ssks[userId],user_signing:usks[userId]}));return prom}).then(()=>{_logger.logger.log("Completed key download for "+downloadUsers),this._downloadInProgress=!1,deferred.resolve(),this._queuedQueryDeferred&&this._doQueuedQueries()},e=>{_logger.logger.warn("Error downloading keys for "+downloadUsers+":",e),this._downloadInProgress=!1,deferred.reject(e)}),deferred.promise}async _processQueryResponseForUser(userId,dkResponse,crossSigningResponse,sskResponse){_logger.logger.log("got device keys for "+userId+":",dkResponse),_logger.logger.log("got cross-signing keys for "+userId+":",crossSigningResponse);{const userStore={},devs=this._deviceList.getRawStoredDevicesForUser(userId);devs&&Object.keys(devs).forEach(deviceId=>{const d=_deviceinfo.DeviceInfo.fromStorage(devs[deviceId],deviceId);userStore[deviceId]=d}),await async function _updateStoredDeviceKeysForUser(_olmDevice,userId,userStore,userResult){let updated=!1;for(const deviceId in userStore)userStore.hasOwnProperty(deviceId)&&(deviceId in userResult||(_logger.logger.log("Device "+userId+":"+deviceId+" has been removed"),delete userStore[deviceId],updated=!0));for(const deviceId in userResult){if(!userResult.hasOwnProperty(deviceId))continue;const deviceResult=userResult[deviceId];deviceResult.user_id===userId?deviceResult.device_id===deviceId?await _storeDeviceKeys(_olmDevice,userStore,deviceResult)&&(updated=!0):_logger.logger.warn("Mismatched device_id "+deviceResult.device_id+" in keys from "+userId+":"+deviceId):_logger.logger.warn("Mismatched user_id "+deviceResult.user_id+" in keys from "+userId+":"+deviceId)}return updated}(this._olmDevice,userId,userStore,dkResponse||{});const storage={};Object.keys(userStore).forEach(deviceId=>{storage[deviceId]=userStore[deviceId].toStorage()}),this._deviceList._setRawStoredDevicesForUser(userId,storage)}if(crossSigningResponse&&(crossSigningResponse.master||crossSigningResponse.self_signing||crossSigningResponse.user_signing)){const crossSigning=this._deviceList.getStoredCrossSigningForUser(userId)||new _CrossSigning.CrossSigningInfo(userId);crossSigning.setKeys(crossSigningResponse),this._deviceList.setRawStoredCrossSigningForUser(userId,crossSigning.toStorage()),this._deviceList.emit("userCrossSigningUpdated",userId)}}}async function _storeDeviceKeys(_olmDevice,userStore,deviceResult){if(!deviceResult.keys)return!1;const deviceId=deviceResult.device_id,userId=deviceResult.user_id,signKeyId="ed25519:"+deviceId,signKey=deviceResult.keys[signKeyId];if(!signKey)return _logger.logger.warn("Device "+userId+":"+deviceId+" has no ed25519 key"),!1;const unsigned=deviceResult.unsigned||{},signatures=deviceResult.signatures||{};try{await olmlib.verifySignature(_olmDevice,deviceResult,userId,deviceId,signKey)}catch(e){return _logger.logger.warn("Unable to verify signature on device "+userId+":"+deviceId+":"+e),!1}let deviceStore;if(deviceId in userStore){if((deviceStore=userStore[deviceId]).getFingerprint()!=signKey)return _logger.logger.warn("Ed25519 key for device "+userId+":"+deviceId+" has changed"),!1}else userStore[deviceId]=deviceStore=new _deviceinfo.DeviceInfo(deviceId);return deviceStore.keys=deviceResult.keys||{},deviceStore.algorithms=deviceResult.algorithms||[],deviceStore.unsigned=unsigned,deviceStore.signatures=signatures,!0}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.SecretStorage=exports.SECRET_STORAGE_ALGORITHM_V1=void 0;var _events=__webpack_require__(18),_logger=__webpack_require__(2),olmlib=_interopRequireWildcard(__webpack_require__(64)),_randomstring=__webpack_require__(150);const SECRET_STORAGE_ALGORITHM_V1="m.secret_storage.v1.curve25519-aes-sha2";exports.SECRET_STORAGE_ALGORITHM_V1=SECRET_STORAGE_ALGORITHM_V1;exports.SecretStorage=class SecretStorage extends _events.EventEmitter{constructor(baseApis,cryptoCallbacks,crossSigningInfo){super(),this._baseApis=baseApis,this._cryptoCallbacks=cryptoCallbacks,this._crossSigningInfo=crossSigningInfo,this._requests={},this._incomingRequests={}}async getDefaultKeyId(){const defaultKey=await this._baseApis.getAccountDataFromServer("m.secret_storage.default_key");return defaultKey?defaultKey.key:null}setDefaultKeyId(keyId){return new Promise(resolve=>{const listener=ev=>{"m.secret_storage.default_key"===ev.getType()&&ev.getContent().key===keyId&&(this._baseApis.removeListener("accountData",listener),resolve())};this._baseApis.on("accountData",listener),this._baseApis.setAccountData("m.secret_storage.default_key",{key:keyId})})}async addKey(algorithm,opts,keyId){const keyData={algorithm:algorithm};switch(opts||(opts={}),opts.name&&(keyData.name=opts.name),algorithm){case SECRET_STORAGE_ALGORITHM_V1:{const decryption=new global.Olm.PkDecryption;try{const{passphrase:passphrase,pubkey:pubkey}=opts;passphrase&&pubkey?(keyData.passphrase=passphrase,keyData.pubkey=pubkey):keyData.pubkey=pubkey||decryption.generate_key()}finally{decryption.free()}break}default:throw new Error(`Unknown key algorithm ${opts.algorithm}`)}if(!keyId)do{keyId=(0,_randomstring.randomString)(32)}while(await this._baseApis.getAccountDataFromServer(`m.secret_storage.key.${keyId}`));return await this._crossSigningInfo.signObject(keyData,"master"),await this._baseApis.setAccountData(`m.secret_storage.key.${keyId}`,keyData),keyId}async signKey(keyId){if(keyId||(keyId=await this.getDefaultKeyId()),!keyId)throw new Error("signKey requires a key ID");const keyInfo=await this._baseApis.getAccountDataFromServer(`m.secret_storage.key.${keyId}`);if(!keyInfo)throw new Error(`Key ${keyId} does not exist in account data`);await this._crossSigningInfo.signObject(keyInfo,"master"),await this._baseApis.setAccountData(`m.secret_storage.key.${keyId}`,keyInfo)}async hasKey(keyId){return keyId||(keyId=await this.getDefaultKeyId()),!!keyId&&!!this._baseApis.getAccountDataFromServer("m.secret_storage.key."+keyId)}async store(name,secret,keys){const encrypted={};if(!keys){const defaultKeyId=await this.getDefaultKeyId();if(!defaultKeyId)throw new Error("No keys specified and no default key present");keys=[defaultKeyId]}if(0===keys.length)throw new Error("Zero keys given to encrypt with!");for(const keyId of keys){const keyInfo=await this._baseApis.getAccountDataFromServer("m.secret_storage.key."+keyId);if(!keyInfo)throw new Error("Unknown key: "+keyId);switch((0,olmlib.pkVerify)(keyInfo,this._crossSigningInfo.getId("master"),this._crossSigningInfo.userId),keyInfo.algorithm){case SECRET_STORAGE_ALGORITHM_V1:{const encryption=new global.Olm.PkEncryption;try{encryption.set_recipient_key(keyInfo.pubkey),encrypted[keyId]=encryption.encrypt(secret)}finally{encryption.free()}break}default:_logger.logger.warn("unknown algorithm for secret storage key "+keyId+": "+keyInfo.algorithm)}}await this._baseApis.setAccountData(name,{encrypted:encrypted})}storePassthrough(name,keyId){return this._baseApis.setAccountData(name,{[keyId]:{passthrough:!0}})}async get(name){const secretInfo=await this._baseApis.getAccountDataFromServer(name);if(!secretInfo)return;if(!secretInfo.encrypted)throw new Error("Content is not encrypted!");const keys={};for(const keyId of Object.keys(secretInfo.encrypted)){const keyInfo=await this._baseApis.getAccountDataFromServer("m.secret_storage.key."+keyId),encInfo=secretInfo.encrypted[keyId];switch(keyInfo.algorithm){case SECRET_STORAGE_ALGORITHM_V1:keyInfo.pubkey&&encInfo.ciphertext&&encInfo.mac&&encInfo.ephemeral&&(keys[keyId]=keyInfo)}}let keyId,decryption;try{[keyId,decryption]=await this._getSecretStorageKey(keys);const encInfo=secretInfo.encrypted[keyId];if(encInfo.passthrough)return decryption.get_private_key();switch(keys[keyId].algorithm){case SECRET_STORAGE_ALGORITHM_V1:return decryption.decrypt(encInfo.ephemeral,encInfo.mac,encInfo.ciphertext)}}finally{decryption&&decryption.free()}}async isStored(name,checkKey){const secretInfo=await this._baseApis.getAccountDataFromServer(name);if(!secretInfo||!secretInfo.encrypted)return!1;void 0===checkKey&&(checkKey=!0);for(const keyId of Object.keys(secretInfo.encrypted)){const keyInfo=await this._baseApis.getAccountDataFromServer("m.secret_storage.key."+keyId);if(!keyInfo)return!1;const encInfo=secretInfo.encrypted[keyId];switch(checkKey&&(0,olmlib.pkVerify)(keyInfo,this._crossSigningInfo.getId("master"),this._crossSigningInfo.userId),keyInfo.algorithm){case SECRET_STORAGE_ALGORITHM_V1:if(keyInfo.pubkey&&encInfo.ciphertext&&encInfo.mac&&encInfo.ephemeral)return!0}}return!1}request(name,devices){const requestId=this._baseApis.makeTxnId(),requestControl=this._requests[requestId]={devices:devices},promise=new Promise((resolve,reject)=>{requestControl.resolve=resolve,requestControl.reject=reject}),requestData={name:name,action:"request",requesting_device_id:this._baseApis.deviceId,request_id:requestId},toDevice={};for(const device of devices)toDevice[device]=requestData;return this._baseApis.sendToDevice("m.secret.request",{[this._baseApis.getUserId()]:toDevice}),{request_id:requestId,promise:promise,cancel:reason=>{const cancelData={action:"request_cancellation",requesting_device_id:this._baseApis.deviceId,request_id:requestId},toDevice={};for(const device of devices)toDevice[device]=cancelData;this._baseApis.sendToDevice("m.secret.request",{[this._baseApis.getUserId()]:toDevice}),requestControl.reject(new Error(reason||"Cancelled"))}}}async _onRequestReceived(event){const sender=event.getSender(),content=event.getContent();if(sender!==this._baseApis.getUserId()||!(content.name&&content.action&&content.requesting_device_id&&content.request_id))return;const deviceId=content.requesting_device_id;if("request_cancellation"===content.action)this._incomingRequests[deviceId]&&this._incomingRequests[deviceId][content.request_id]&&(_logger.logger.info("received request cancellation for secret ("+sender+", "+deviceId+", "+content.request_id+")"),this.baseApis.emit("crypto.secrets.requestCancelled",{user_id:sender,device_id:deviceId,request_id:content.request_id}));else if("request"===content.action){if(deviceId===this._baseApis.deviceId)return;if(_logger.logger.info("received request for secret ("+sender+", "+deviceId+", "+content.request_id+")"),!this._cryptoCallbacks.onSecretRequested)return;const secret=await this._cryptoCallbacks.onSecretRequested({user_id:sender,device_id:deviceId,request_id:content.request_id,name:content.name,device_trust:this._baseApis.checkDeviceTrust(sender,deviceId)});if(secret){const payload={type:"m.secret.send",content:{request_id:content.request_id,secret:secret}},encryptedContent={algorithm:olmlib.OLM_ALGORITHM,sender_key:this._baseApis._crypto._olmDevice.deviceCurve25519Key,ciphertext:{}};await olmlib.ensureOlmSessionsForDevices(this._baseApis._crypto._olmDevice,this._baseApis,{[sender]:[await this._baseApis.getStoredDevice(sender,deviceId)]}),await olmlib.encryptMessageForDevice(encryptedContent.ciphertext,this._baseApis.getUserId(),this._baseApis.deviceId,this._baseApis._crypto._olmDevice,sender,this._baseApis._crypto.getStoredDevice(sender,deviceId),payload);const contentMap={[sender]:{[deviceId]:encryptedContent}};this._baseApis.sendToDevice("m.room.encrypted",contentMap)}}}_onSecretReceived(event){if(event.getSender()!==this._baseApis.getUserId())return;const content=event.getContent();_logger.logger.log("got secret share for request ",content.request_id);const requestControl=this._requests[content.request_id];if(requestControl){const deviceInfo=this._baseApis._crypto._deviceList.getDeviceByIdentityKey(olmlib.OLM_ALGORITHM,event.getSenderKey());if(!deviceInfo)return void _logger.logger.log("secret share from unknown device with key",event.getSenderKey());if(!requestControl.devices.includes(deviceInfo.deviceId))return void _logger.logger.log("unsolicited secret share from device",deviceInfo.deviceId);requestControl.resolve(content.secret)}}async _getSecretStorageKey(keys){if(!this._cryptoCallbacks.getSecretStorageKey)throw new Error("No getSecretStorageKey callback supplied");const returned=await this._cryptoCallbacks.getSecretStorageKey({keys:keys});if(!returned)throw new Error("getSecretStorageKey callback returned falsey");if(returned.length<2)throw new Error("getSecretStorageKey callback returned invalid data");const[keyId,privateKey]=returned;if(!keys[keyId])throw new Error("App returned unknown key from getSecretStorageKey!");switch(keys[keyId].algorithm){case SECRET_STORAGE_ALGORITHM_V1:{const decryption=new global.Olm.PkDecryption;let pubkey;try{pubkey=decryption.init_with_private_key(privateKey)}catch(e){throw decryption.free(),new Error("getSecretStorageKey callback returned invalid key")}if(pubkey!==keys[keyId].pubkey)throw decryption.free(),new Error("getSecretStorageKey callback returned incorrect key");return[keyId,decryption]}default:throw new Error("Unknown key type: "+keys[keyId].algorithm)}}}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.OutgoingRoomKeyRequestManager=void 0;var _logger=__webpack_require__(2),utils=_interopRequireWildcard(__webpack_require__(5));const SEND_KEY_REQUESTS_DELAY_MS=500,ROOM_KEY_REQUEST_STATES={UNSENT:0,SENT:1,CANCELLATION_PENDING:2,CANCELLATION_PENDING_AND_WILL_RESEND:3};function stringifyRequestBody(requestBody){return requestBody.room_id+" / "+requestBody.session_id}function stringifyRecipientList(recipients){return"["+utils.map(recipients,r=>`${r.userId}:${r.deviceId}`).join(",")+"]"}exports.OutgoingRoomKeyRequestManager=class OutgoingRoomKeyRequestManager{constructor(baseApis,deviceId,cryptoStore){this._baseApis=baseApis,this._deviceId=deviceId,this._cryptoStore=cryptoStore,this._sendOutgoingRoomKeyRequestsTimer=null,this._sendOutgoingRoomKeyRequestsRunning=!1,this._clientRunning=!1}start(){this._clientRunning=!0,this._startTimer()}stop(){_logger.logger.log("stopping OutgoingRoomKeyRequestManager"),this._clientRunning=!1}async sendRoomKeyRequest(requestBody,recipients,resend=!1){const req=await this._cryptoStore.getOutgoingRoomKeyRequest(requestBody);if(req)switch(req.state){case ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING_AND_WILL_RESEND:case ROOM_KEY_REQUEST_STATES.UNSENT:return;case ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING:{const state=resend?ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING_AND_WILL_RESEND:ROOM_KEY_REQUEST_STATES.SENT;await this._cryptoStore.updateOutgoingRoomKeyRequest(req.requestId,ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING,{state:state,cancellationTxnId:this._baseApis.makeTxnId()});break}case ROOM_KEY_REQUEST_STATES.SENT:if(resend){const state=ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING_AND_WILL_RESEND,updatedReq=await this._cryptoStore.updateOutgoingRoomKeyRequest(req.requestId,ROOM_KEY_REQUEST_STATES.SENT,{state:state,cancellationTxnId:this._baseApis.makeTxnId(),requestTxnId:this._baseApis.makeTxnId()});if(!updatedReq)return await this.sendRoomKeyRequest(requestBody,recipients,resend);try{await this._sendOutgoingRoomKeyRequestCancellation(updatedReq,!0)}catch(e){_logger.logger.error("Error sending room key request cancellation; will retry later.",e)}}break;default:throw new Error("unhandled state: "+req.state)}else await this._cryptoStore.getOrAddOutgoingRoomKeyRequest({requestBody:requestBody,recipients:recipients,requestId:this._baseApis.makeTxnId(),state:ROOM_KEY_REQUEST_STATES.UNSENT});this._startTimer()}cancelRoomKeyRequest(requestBody){return this._cryptoStore.getOutgoingRoomKeyRequest(requestBody).then(req=>{if(req)switch(req.state){case ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING:case ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING_AND_WILL_RESEND:return;case ROOM_KEY_REQUEST_STATES.UNSENT:return _logger.logger.log("deleting unnecessary room key request for "+stringifyRequestBody(requestBody)),this._cryptoStore.deleteOutgoingRoomKeyRequest(req.requestId,ROOM_KEY_REQUEST_STATES.UNSENT);case ROOM_KEY_REQUEST_STATES.SENT:return this._cryptoStore.updateOutgoingRoomKeyRequest(req.requestId,ROOM_KEY_REQUEST_STATES.SENT,{state:ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING,cancellationTxnId:this._baseApis.makeTxnId()}).then(updatedReq=>{updatedReq?this._sendOutgoingRoomKeyRequestCancellation(updatedReq).catch(e=>{_logger.logger.error("Error sending room key request cancellation; will retry later.",e),this._startTimer()}):_logger.logger.log("Tried to cancel room key request for "+stringifyRequestBody(requestBody)+" but it was already cancelled in another tab")});default:throw new Error("unhandled state: "+req.state)}})}getOutgoingSentRoomKeyRequest(userId,deviceId){return this._cryptoStore.getOutgoingRoomKeyRequestsByTarget(userId,deviceId,[ROOM_KEY_REQUEST_STATES.SENT])}_startTimer(){if(this._sendOutgoingRoomKeyRequestsTimer)return;this._sendOutgoingRoomKeyRequestsTimer=global.setTimeout(()=>{if(this._sendOutgoingRoomKeyRequestsRunning)throw new Error("RoomKeyRequestSend already in progress!");this._sendOutgoingRoomKeyRequestsRunning=!0,this._sendOutgoingRoomKeyRequests().finally(()=>{this._sendOutgoingRoomKeyRequestsRunning=!1}).catch(e=>{_logger.logger.warn(`error in OutgoingRoomKeyRequestManager: ${e}`)})},SEND_KEY_REQUESTS_DELAY_MS)}_sendOutgoingRoomKeyRequests(){return this._clientRunning?(_logger.logger.log("Looking for queued outgoing room key requests"),this._cryptoStore.getOutgoingRoomKeyRequestByState([ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING,ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING_AND_WILL_RESEND,ROOM_KEY_REQUEST_STATES.UNSENT]).then(req=>{if(!req)return _logger.logger.log("No more outgoing room key requests"),void(this._sendOutgoingRoomKeyRequestsTimer=null);let prom;switch(req.state){case ROOM_KEY_REQUEST_STATES.UNSENT:prom=this._sendOutgoingRoomKeyRequest(req);break;case ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING:prom=this._sendOutgoingRoomKeyRequestCancellation(req);break;case ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING_AND_WILL_RESEND:prom=this._sendOutgoingRoomKeyRequestCancellation(req,!0)}return prom.then(()=>this._sendOutgoingRoomKeyRequests()).catch(e=>{_logger.logger.error("Error sending room key request; will retry later.",e),this._sendOutgoingRoomKeyRequestsTimer=null,this._startTimer()})})):(this._sendOutgoingRoomKeyRequestsTimer=null,Promise.resolve())}_sendOutgoingRoomKeyRequest(req){_logger.logger.log(`Requesting keys for ${stringifyRequestBody(req.requestBody)}`+` from ${stringifyRecipientList(req.recipients)}`+`(id ${req.requestId})`);const requestMessage={action:"request",requesting_device_id:this._deviceId,request_id:req.requestId,body:req.requestBody};return this._sendMessageToDevices(requestMessage,req.recipients,req.requestTxnId||req.requestId).then(()=>this._cryptoStore.updateOutgoingRoomKeyRequest(req.requestId,ROOM_KEY_REQUEST_STATES.UNSENT,{state:ROOM_KEY_REQUEST_STATES.SENT}))}_sendOutgoingRoomKeyRequestCancellation(req,andResend){_logger.logger.log("Sending cancellation for key request for "+`${stringifyRequestBody(req.requestBody)} to `+`${stringifyRecipientList(req.recipients)} `+`(cancellation id ${req.cancellationTxnId})`);const requestMessage={action:"request_cancellation",requesting_device_id:this._deviceId,request_id:req.requestId};return this._sendMessageToDevices(requestMessage,req.recipients,req.cancellationTxnId).then(()=>andResend?this._cryptoStore.updateOutgoingRoomKeyRequest(req.requestId,ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING_AND_WILL_RESEND,{state:ROOM_KEY_REQUEST_STATES.UNSENT}):this._cryptoStore.deleteOutgoingRoomKeyRequest(req.requestId,ROOM_KEY_REQUEST_STATES.CANCELLATION_PENDING))}_sendMessageToDevices(message,recipients,txnId){const contentMap={};for(const recip of recipients)contentMap[recip.userId]||(contentMap[recip.userId]={}),contentMap[recip.userId][recip.deviceId]=message;return this._baseApis.sendToDevice("m.room_key_request",contentMap,txnId)}}}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScanQRCode=exports.ShowQRCode=void 0;var _Base=__webpack_require__(407),_Error=__webpack_require__(100);const MATRIXTO_REGEXP=/^(?:https?:\/\/)?(?:www\.)?matrix\.to\/#\/([#@!+][^?]+)\?(.+)$/,KEY_REGEXP=/^key_([^:]+:.+)$/,newQRCodeError=(0,_Error.errorFactory)("m.qr_code.invalid","Invalid QR code");class ShowQRCode extends _Base.VerificationBase{_doVerification(){if(!this._done){const url="https://matrix.to/#/"+this._baseApis.getUserId()+"?device="+encodeURIComponent(this._baseApis.deviceId)+"&action=verify&key_ed25519%3A"+encodeURIComponent(this._baseApis.deviceId)+"="+encodeURIComponent(this._baseApis.getDeviceEd25519Key());this.emit("show_qr_code",{url:url})}}}exports.ShowQRCode=ShowQRCode,ShowQRCode.NAME="m.qr_code.show.v1";class ScanQRCode extends _Base.VerificationBase{static factory(...args){return new ScanQRCode(...args)}async _doVerification(){const match=(await new Promise((resolve,reject)=>{this.emit("scan",{done:resolve,cancel:()=>reject((0,_Error.newUserCancelledError)())})})).match(MATRIXTO_REGEXP);let deviceId;const keys={};if(!match)throw newQRCodeError();const userId=match[1],params=match[2].split("&").map(x=>x.split("=",2).map(decodeURIComponent));let action;for(const[name,value]of params)if("device"===name)deviceId=value;else if("action"===name)action=value;else{const keyMatch=name.match(KEY_REGEXP);keyMatch&&(keys[keyMatch[1]]=value)}if(!deviceId||"verify"!==action||0===Object.keys(keys).length)throw newQRCodeError();if(this.userId){if(this.userId!==userId)throw(0,_Error.newUserMismatchError)({expected:this.userId,actual:userId})}else await new Promise((resolve,reject)=>{this.emit("confirm_user_id",{userId:userId,confirm:resolve,cancel:()=>reject((0,_Error.newUserMismatchError)())})});await this._verifyKeys(userId,keys,(keyId,device,key)=>{if(device.keys[keyId]!==key)throw(0,_Error.newKeyMismatchError)()})}}exports.ScanQRCode=ScanQRCode,ScanQRCode.NAME="m.qr_code.scan.v1"},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0}),exports.SAS=void 0;var _Base=__webpack_require__(407),_anotherJson=_interopRequireDefault(__webpack_require__(235)),_Error=__webpack_require__(100);const EVENTS=["m.key.verification.accept","m.key.verification.key","m.key.verification.mac"];let olmutil;const newMismatchedSASError=(0,_Error.errorFactory)("m.mismatched_sas","Mismatched short authentication string"),newMismatchedCommitmentError=(0,_Error.errorFactory)("m.mismatched_commitment","Mismatched commitment");const emojiMapping=[["","dog"],["","cat"],["","lion"],["","horse"],["","unicorn"],["","pig"],["","elephant"],["","rabbit"],["","panda"],["","rooster"],["","penguin"],["","turtle"],["","fish"],["","octopus"],["","butterfly"],["","flower"],["","tree"],["","cactus"],["","mushroom"],["","globe"],["","moon"],["","cloud"],["","fire"],["","banana"],["","apple"],["","strawberry"],["","corn"],["","pizza"],["","cake"],["","heart"],["","smiley"],["","robot"],["","hat"],["","glasses"],["","spanner"],["","santa"],["","thumbs up"],["","umbrella"],["","hourglass"],["","clock"],["","gift"],["","light bulb"],["","book"],["","pencil"],["","paperclip"],["","scissors"],["","lock"],["","key"],["","hammer"],["","telephone"],["","flag"],["","train"],["","bicycle"],["","aeroplane"],["","rocket"],["","trophy"],["","ball"],["","guitar"],["","trumpet"],["","bell"],["","anchor"],["","headphones"],["","folder"],["","pin"]];const sasGenerators={decimal:function generateDecimalSas(sasBytes){return[1e3+(sasBytes[0]<<5|sasBytes[1]>>3),1e3+((7&sasBytes[1])<<10|sasBytes[2]<<2|sasBytes[3]>>6),1e3+((63&sasBytes[3])<<7|sasBytes[4]>>1)]},emoji:function generateEmojiSas(sasBytes){return[sasBytes[0]>>2,(3&sasBytes[0])<<4|sasBytes[1]>>4,(15&sasBytes[1])<<2|sasBytes[2]>>6,63&sasBytes[2],sasBytes[3]>>2,(3&sasBytes[3])<<4|sasBytes[4]>>4,(15&sasBytes[4])<<2|sasBytes[5]>>6].map(num=>emojiMapping[num])}};function generateSas(sasBytes,methods){const sas={};for(const method of methods)method in sasGenerators&&(sas[method]=sasGenerators[method](sasBytes));return sas}const macMethods={"hkdf-hmac-sha256":"calculate_mac","hmac-sha256":"calculate_mac_long_kdf"},KEY_AGREEMENT_LIST=["curve25519"],HASHES_LIST=["sha256"],MAC_LIST=["hkdf-hmac-sha256","hmac-sha256"],SAS_LIST=Object.keys(sasGenerators),KEY_AGREEMENT_SET=new Set(KEY_AGREEMENT_LIST),HASHES_SET=new Set(HASHES_LIST),MAC_SET=new Set(MAC_LIST),SAS_SET=new Set(SAS_LIST);function intersection(anArray,aSet){return anArray instanceof Array?anArray.filter(x=>aSet.has(x)):[]}class SAS extends _Base.VerificationBase{static get NAME(){return"m.sas.v1"}get events(){return EVENTS}async _doVerification(){return await global.Olm.init(),olmutil=olmutil||new global.Olm.Utility,await this._baseApis.downloadKeys([this.userId]),this.startEvent?await this._doRespondVerification():await this._doSendVerification()}async _doSendVerification(){const type="m.key.verification.start",initialMessage=this._channel.completeContent(type,{method:SAS.NAME,from_device:this._baseApis.deviceId,key_agreement_protocols:KEY_AGREEMENT_LIST,hashes:HASHES_LIST,message_authentication_codes:MAC_LIST,short_authentication_string:SAS_LIST});this._channel.sendCompleted(type,initialMessage);let e=await this._waitForEvent("m.key.verification.accept"),content=e.getContent();const sasMethods=intersection(content.short_authentication_string,SAS_SET);if(!(KEY_AGREEMENT_SET.has(content.key_agreement_protocol)&&HASHES_SET.has(content.hash)&&MAC_SET.has(content.message_authentication_code)&&sasMethods.length))throw(0,_Error.newUnknownMethodError)();if("string"!=typeof content.commitment)throw(0,_Error.newInvalidMessageError)();const macMethod=content.message_authentication_code,hashCommitment=content.commitment,olmSAS=new global.Olm.SAS;try{this._send("m.key.verification.key",{key:olmSAS.get_pubkey()});const commitmentStr=(content=(e=await this._waitForEvent("m.key.verification.key")).getContent()).key+_anotherJson.default.stringify(initialMessage);if(olmutil.sha256(commitmentStr)!==hashCommitment)throw newMismatchedCommitmentError();olmSAS.set_their_key(content.key);const sasInfo="MATRIX_KEY_VERIFICATION_SAS"+this._baseApis.getUserId()+this._baseApis.deviceId+this.userId+this.deviceId+this._channel.transactionId,sasBytes=olmSAS.generate_bytes(sasInfo,6),verifySAS=new Promise((resolve,reject)=>{this.emit("show_sas",{sas:generateSas(sasBytes,sasMethods),confirm:()=>{this._sendMAC(olmSAS,macMethod),resolve()},cancel:()=>reject((0,_Error.newUserCancelledError)()),mismatch:()=>reject(newMismatchedSASError())})});[e]=await Promise.all([this._waitForEvent("m.key.verification.mac").then(e=>(this._expectedEvent="m.key.verification.done",e)),verifySAS]),content=e.getContent(),await this._checkMAC(olmSAS,content,macMethod)}finally{olmSAS.free()}}async _doRespondVerification(){let content=this._channel.completedContentFromEvent(this.startEvent);const keyAgreement=intersection(KEY_AGREEMENT_LIST,new Set(content.key_agreement_protocols))[0],hashMethod=intersection(HASHES_LIST,new Set(content.hashes))[0],macMethod=intersection(MAC_LIST,new Set(content.message_authentication_codes))[0],sasMethods=intersection(content.short_authentication_string,SAS_SET);if(void 0===keyAgreement||void 0===hashMethod||void 0===macMethod||!sasMethods.length)throw(0,_Error.newUnknownMethodError)();const olmSAS=new global.Olm.SAS;try{const commitmentStr=olmSAS.get_pubkey()+_anotherJson.default.stringify(content);this._send("m.key.verification.accept",{key_agreement_protocol:keyAgreement,hash:hashMethod,message_authentication_code:macMethod,short_authentication_string:sasMethods,commitment:olmutil.sha256(commitmentStr)});let e=await this._waitForEvent("m.key.verification.key");content=e.getContent(),olmSAS.set_their_key(content.key),this._send("m.key.verification.key",{key:olmSAS.get_pubkey()});const sasInfo="MATRIX_KEY_VERIFICATION_SAS"+this.userId+this.deviceId+this._baseApis.getUserId()+this._baseApis.deviceId+this._channel.transactionId,sasBytes=olmSAS.generate_bytes(sasInfo,6),verifySAS=new Promise((resolve,reject)=>{this.emit("show_sas",{sas:generateSas(sasBytes,sasMethods),confirm:()=>{this._sendMAC(olmSAS,macMethod),resolve()},cancel:()=>reject((0,_Error.newUserCancelledError)()),mismatch:()=>reject(newMismatchedSASError())})});[e]=await Promise.all([this._waitForEvent("m.key.verification.mac").then(e=>(this._expectedEvent="m.key.verification.done",e)),verifySAS]),content=e.getContent(),await this._checkMAC(olmSAS,content,macMethod)}finally{olmSAS.free()}}_sendMAC(olmSAS,method){const mac={},keyList=[],baseInfo="MATRIX_KEY_VERIFICATION_MAC"+this._baseApis.getUserId()+this._baseApis.deviceId+this.userId+this.deviceId+this._channel.transactionId,deviceKeyId=`ed25519:${this._baseApis.deviceId}`;mac[deviceKeyId]=olmSAS[macMethods[method]](this._baseApis.getDeviceEd25519Key(),baseInfo+deviceKeyId),keyList.push(deviceKeyId);const crossSigningId=this._baseApis.getCrossSigningId();if(crossSigningId){const crossSigningKeyId=`ed25519:${crossSigningId}`;mac[crossSigningKeyId]=olmSAS[macMethods[method]](crossSigningId,baseInfo+crossSigningKeyId),keyList.push(crossSigningKeyId)}const keys=olmSAS[macMethods[method]](keyList.sort().join(","),baseInfo+"KEY_IDS");this._send("m.key.verification.mac",{mac:mac,keys:keys})}async _checkMAC(olmSAS,content,method){const baseInfo="MATRIX_KEY_VERIFICATION_MAC"+this.userId+this.deviceId+this._baseApis.getUserId()+this._baseApis.deviceId+this._channel.transactionId;if(content.keys!==olmSAS[macMethods[method]](Object.keys(content.mac).sort().join(","),baseInfo+"KEY_IDS"))throw(0,_Error.newKeyMismatchError)();await this._verifyKeys(this.userId,content.mac,(keyId,device,keyInfo)=>{if(keyInfo!==olmSAS[macMethods[method]](device.keys[keyId],baseInfo+keyId))throw(0,_Error.newKeyMismatchError)()})}}exports.SAS=SAS}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){var basex=__webpack_require__(921);module.exports=basex("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(module,exports,__webpack_require__){"use strict";var _Buffer=__webpack_require__(922).Buffer;module.exports=function base(ALPHABET){if(ALPHABET.length>=255)throw new TypeError("Alphabet too long");var BASE_MAP=new Uint8Array(256);BASE_MAP.fill(255);for(var i=0;i<ALPHABET.length;i++){var x=ALPHABET.charAt(i),xc=x.charCodeAt(0);if(255!==BASE_MAP[xc])throw new TypeError(x+" is ambiguous");BASE_MAP[xc]=i}var BASE=ALPHABET.length,LEADER=ALPHABET.charAt(0),FACTOR=Math.log(BASE)/Math.log(256),iFACTOR=Math.log(256)/Math.log(BASE);function decodeUnsafe(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return _Buffer.alloc(0);var psz=0;if(" "!==source[psz]){for(var zeroes=0,length=0;source[psz]===LEADER;)zeroes++,psz++;for(var size=(source.length-psz)*FACTOR+1>>>0,b256=new Uint8Array(size);source[psz];){var carry=BASE_MAP[source.charCodeAt(psz)];if(255===carry)return;for(var i=0,it3=size-1;(0!==carry||i<length)&&-1!==it3;it3--,i++)carry+=BASE*b256[it3]>>>0,b256[it3]=carry%256>>>0,carry=carry/256>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,psz++}if(" "!==source[psz]){for(var it4=size-length;it4!==size&&0===b256[it4];)it4++;var vch=_Buffer.allocUnsafe(zeroes+(size-it4));vch.fill(0,0,zeroes);for(var j=zeroes;it4!==size;)vch[j++]=b256[it4++];return vch}}}return{encode:function encode(source){if(!_Buffer.isBuffer(source))throw new TypeError("Expected Buffer");if(0===source.length)return"";for(var zeroes=0,length=0,pbegin=0,pend=source.length;pbegin!==pend&&0===source[pbegin];)pbegin++,zeroes++;for(var size=(pend-pbegin)*iFACTOR+1>>>0,b58=new Uint8Array(size);pbegin!==pend;){for(var carry=source[pbegin],i=0,it1=size-1;(0!==carry||i<length)&&-1!==it1;it1--,i++)carry+=256*b58[it1]>>>0,b58[it1]=carry%BASE>>>0,carry=carry/BASE>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,pbegin++}for(var it2=size-length;it2!==size&&0===b58[it2];)it2++;for(var str=LEADER.repeat(zeroes);it2<size;++it2)str+=ALPHABET.charAt(b58[it2]);return str},decodeUnsafe:decodeUnsafe,decode:function decode(string){var buffer=decodeUnsafe(string);if(buffer)return buffer;throw new Error("Non-base"+BASE+" character")}}}},function(module,exports,__webpack_require__){var buffer=__webpack_require__(234),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestCallbackChannel=void 0;exports.RequestCallbackChannel=class RequestCallbackChannel{constructor(request,channel){this._request=request,this._channel=channel}get transactionId(){return this._channel.transactionId}get needsDoneMessage(){return this._channel.needsDoneMessage}handleEvent(event,request){return this._channel.handleEvent(event,request)}completedContentFromEvent(event){return this._channel.completedContentFromEvent(event)}completeContent(type,content){return this._channel.completeContent(type,content)}async send(type,uncompletedContent){return this._request.handleVerifierSend(type,uncompletedContent),await this._channel.send(type,uncompletedContent)}async sendCompleted(type,content){return this._request.handleVerifierSend(type,content),await this._channel.sendCompleted(type,content)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InRoomChannel=void 0;var _VerificationRequest=__webpack_require__(237);const MESSAGE_TYPE="m.room.message",M_REFERENCE="m.reference",M_RELATES_TO="m.relates_to";class InRoomChannel{constructor(client,roomId,userId){this._client=client,this._roomId=roomId,this._userId=userId,this._requestEventId=null}get needsDoneMessage(){return!0}get transactionId(){return this._requestEventId}static getTimestamp(event){return event.getTs()}static canCreateRequest(type){return type===_VerificationRequest.REQUEST_TYPE}static getTransactionId(event){if(InRoomChannel.getEventType(event)===_VerificationRequest.REQUEST_TYPE)return event.getId();{const relation=event.getRelation();if(relation&&relation.rel_type===M_REFERENCE)return relation.event_id}}static validateEvent(event,client){const txnId=InRoomChannel.getTransactionId(event);if("string"!=typeof txnId||0===txnId.length)return!1;const type=InRoomChannel.getEventType(event),content=event.getContent();if(type===_VerificationRequest.REQUEST_TYPE){if("string"!=typeof content.to||!content.to.length)return!1;const ownUserId=client.getUserId();if(event.getSender()!==ownUserId&&content.to!==ownUserId)return!1}return _VerificationRequest.VerificationRequest.validateEvent(type,event,InRoomChannel.getTimestamp(event),client)}static getEventType(event){const type=event.getType();if(type===MESSAGE_TYPE){const content=event.getContent();if(content){const{msgtype:msgtype}=content;if(msgtype===_VerificationRequest.REQUEST_TYPE)return _VerificationRequest.REQUEST_TYPE}}return type}async handleEvent(event,request){const type=InRoomChannel.getEventType(event);if(event.getRoomId()===this._roomId&&event.getSender()===this._userId)return this._requestEventId||type!==_VerificationRequest.REQUEST_TYPE||(this._requestEventId=event.getId()),await request.handleEvent(type,event,InRoomChannel.getTimestamp(event))}completedContentFromEvent(event){const content=Object.assign({},event.getContent());return content[M_RELATES_TO]=event.getRelation(),content}completeContent(type,content){return content=Object.assign({},content),type!==_VerificationRequest.REQUEST_TYPE&&type!==_VerificationRequest.START_TYPE||(content.from_device=this._client.getDeviceId()),type===_VerificationRequest.REQUEST_TYPE?content={body:this._client.getUserId()+" is requesting to verify your key, but your client does not support in-chat key verification.  You will need to use legacy key verification to verify keys.",msgtype:_VerificationRequest.REQUEST_TYPE,to:this._userId,from_device:content.from_device,methods:content.methods}:content[M_RELATES_TO]={rel_type:M_REFERENCE,event_id:this.transactionId},content}send(type,uncompletedContent){const content=this.completeContent(type,uncompletedContent);return this.sendCompleted(type,content)}async sendCompleted(type,content){let sendType=type;type===_VerificationRequest.REQUEST_TYPE&&(sendType=MESSAGE_TYPE);const response=await this._client.sendEvent(this._roomId,sendType,content);type===_VerificationRequest.REQUEST_TYPE&&(this._requestEventId=response.event_id)}}exports.InRoomChannel=InRoomChannel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToDeviceChannel=void 0;var _randomstring=__webpack_require__(150),_logger=__webpack_require__(2),_VerificationRequest=__webpack_require__(237),_Error=__webpack_require__(100);class ToDeviceChannel{constructor(client,userId,devices,transactionId=null,deviceId=null){this._client=client,this._userId=userId,this._devices=devices,this.transactionId=transactionId,this._deviceId=deviceId}static getEventType(event){return event.getType()}static getTransactionId(event){const content=event.getContent();return content&&content.transaction_id}static canCreateRequest(type){return type===_VerificationRequest.REQUEST_TYPE||type===_VerificationRequest.START_TYPE}static validateEvent(event,client){if(event.isCancelled())return _logger.logger.warn("Ignoring flagged verification request from "+event.getSender()),!1;const content=event.getContent();if(!content)return!1;if(!content.transaction_id)return!1;const type=event.getType();if(type===_VerificationRequest.REQUEST_TYPE){if(!Number.isFinite(content.timestamp))return!1;if(event.getSender()===client.getUserId()&&content.from_device==client.getDeviceId())return!1}return _VerificationRequest.VerificationRequest.validateEvent(type,event,ToDeviceChannel.getTimestamp(event),client)}static getTimestamp(event){const content=event.getContent();return content&&content.timestamp}async handleEvent(event,request){const type=event.getType(),content=event.getContent();if(type===_VerificationRequest.REQUEST_TYPE||type===_VerificationRequest.START_TYPE){this.transactionId||(this.transactionId=content.transaction_id);const deviceId=content.from_device;if(!this._deviceId&&this._devices.includes(deviceId)&&(this._deviceId=deviceId),!this._deviceId||this._deviceId!==deviceId){const cancelContent=this.completeContent((0,_Error.errorFromEvent)((0,_Error.newUnexpectedMessageError)()));return this._sendToDevices(_VerificationRequest.CANCEL_TYPE,cancelContent,[deviceId])}}const wasStarted=request.phase===_VerificationRequest.PHASE_STARTED;await request.handleEvent(event.getType(),event,ToDeviceChannel.getTimestamp(event));const isStarted=request.phase===_VerificationRequest.PHASE_STARTED;if(type===_VerificationRequest.START_TYPE&&!wasStarted&&isStarted&&this._deviceId){const nonChosenDevices=this._devices.filter(d=>d!==this._deviceId);if(nonChosenDevices.length){const message=this.completeContent({code:"m.accepted",reason:"Verification request accepted by another device"});await this._sendToDevices(_VerificationRequest.CANCEL_TYPE,message,nonChosenDevices)}}}completedContentFromEvent(event){return event.getContent()}completeContent(type,content){return content=Object.assign({},content),this.transactionId&&(content.transaction_id=this.transactionId),type!==_VerificationRequest.REQUEST_TYPE&&type!==_VerificationRequest.START_TYPE||(content.from_device=this._client.getDeviceId()),type===_VerificationRequest.REQUEST_TYPE&&(content.timestamp=Date.now()),content}send(type,uncompletedContent={}){type!==_VerificationRequest.REQUEST_TYPE&&type!==_VerificationRequest.START_TYPE||this.transactionId||(this.transactionId=ToDeviceChannel.makeTransactionId());const content=this.completeContent(type,uncompletedContent);return this.sendCompleted(type,content)}sendCompleted(type,content){return type===_VerificationRequest.REQUEST_TYPE?this._sendToDevices(type,content,this._devices):this._sendToDevices(type,content,[this._deviceId])}_sendToDevices(type,content,devices){if(devices.length){const msgMap={};for(const deviceId of devices)msgMap[deviceId]=content;return this._client.sendToDevice(type,{[this._userId]:msgMap})}return Promise.resolve()}static makeTransactionId(){return(0,_randomstring.randomString)(32)}}exports.ToDeviceChannel=ToDeviceChannel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AutoDiscovery=void 0;var _logger=__webpack_require__(2),_url=__webpack_require__(228);class AutoDiscovery{static get ERROR_INVALID(){return"Invalid homeserver discovery response"}static get ERROR_GENERIC_FAILURE(){return"Failed to get autodiscovery configuration from server"}static get ERROR_INVALID_HS_BASE_URL(){return"Invalid base_url for m.homeserver"}static get ERROR_INVALID_HOMESERVER(){return"Homeserver URL does not appear to be a valid Matrix homeserver"}static get ERROR_INVALID_IS_BASE_URL(){return"Invalid base_url for m.identity_server"}static get ERROR_INVALID_IDENTITY_SERVER(){return"Identity server URL does not appear to be a valid identity server"}static get ERROR_INVALID_IS(){return"Invalid identity server discovery response"}static get ERROR_MISSING_WELLKNOWN(){return"No .well-known JSON file found"}static get ERROR_INVALID_JSON(){return"Invalid JSON"}static get ALL_ERRORS(){return[AutoDiscovery.ERROR_INVALID,AutoDiscovery.ERROR_GENERIC_FAILURE,AutoDiscovery.ERROR_INVALID_HS_BASE_URL,AutoDiscovery.ERROR_INVALID_HOMESERVER,AutoDiscovery.ERROR_INVALID_IS_BASE_URL,AutoDiscovery.ERROR_INVALID_IDENTITY_SERVER,AutoDiscovery.ERROR_INVALID_IS,AutoDiscovery.ERROR_MISSING_WELLKNOWN,AutoDiscovery.ERROR_INVALID_JSON]}static get FAIL_ERROR(){return"FAIL_ERROR"}static get FAIL_PROMPT(){return"FAIL_PROMPT"}static get PROMPT(){return"PROMPT"}static get SUCCESS(){return"SUCCESS"}static async fromDiscoveryConfig(wellknown){const clientConfig={"m.homeserver":{state:AutoDiscovery.FAIL_ERROR,error:AutoDiscovery.ERROR_INVALID,base_url:null},"m.identity_server":{state:AutoDiscovery.PROMPT,error:null,base_url:null}};if(!wellknown||!wellknown["m.homeserver"])return _logger.logger.error("No m.homeserver key in config"),clientConfig["m.homeserver"].state=AutoDiscovery.FAIL_PROMPT,clientConfig["m.homeserver"].error=AutoDiscovery.ERROR_INVALID,Promise.resolve(clientConfig);if(!wellknown["m.homeserver"].base_url)return _logger.logger.error("No m.homeserver base_url in config"),clientConfig["m.homeserver"].state=AutoDiscovery.FAIL_PROMPT,clientConfig["m.homeserver"].error=AutoDiscovery.ERROR_INVALID_HS_BASE_URL,Promise.resolve(clientConfig);const hsUrl=this._sanitizeWellKnownUrl(wellknown["m.homeserver"].base_url);if(!hsUrl)return _logger.logger.error("Invalid base_url for m.homeserver"),clientConfig["m.homeserver"].error=AutoDiscovery.ERROR_INVALID_HS_BASE_URL,Promise.resolve(clientConfig);const hsVersions=await this._fetchWellKnownObject(`${hsUrl}/_matrix/client/versions`);if(!hsVersions||!hsVersions.raw.versions)return _logger.logger.error("Invalid /versions response"),clientConfig["m.homeserver"].error=AutoDiscovery.ERROR_INVALID_HOMESERVER,clientConfig["m.homeserver"].base_url=hsUrl,Promise.resolve(clientConfig);clientConfig["m.homeserver"]={state:AutoDiscovery.SUCCESS,error:null,base_url:hsUrl};let isUrl="";if(wellknown["m.identity_server"]){const failingClientConfig={"m.homeserver":clientConfig["m.homeserver"],"m.identity_server":{state:AutoDiscovery.FAIL_PROMPT,error:AutoDiscovery.ERROR_INVALID_IS,base_url:null}};if(!(isUrl=this._sanitizeWellKnownUrl(wellknown["m.identity_server"].base_url)))return _logger.logger.error("Invalid base_url for m.identity_server"),failingClientConfig["m.identity_server"].error=AutoDiscovery.ERROR_INVALID_IS_BASE_URL,Promise.resolve(failingClientConfig);const isResponse=await this._fetchWellKnownObject(`${isUrl}/_matrix/identity/api/v1`);if(!isResponse||!isResponse.raw||"SUCCESS"!==isResponse.action)return _logger.logger.error("Invalid /api/v1 response"),failingClientConfig["m.identity_server"].error=AutoDiscovery.ERROR_INVALID_IDENTITY_SERVER,failingClientConfig["m.identity_server"].base_url=isUrl,Promise.resolve(failingClientConfig)}return isUrl&&isUrl.length>0&&(clientConfig["m.identity_server"]={state:AutoDiscovery.SUCCESS,error:null,base_url:isUrl}),Object.keys(wellknown).map(k=>{if("m.homeserver"===k||"m.identity_server"===k){const notProps=["error","state","base_url"];for(const prop of Object.keys(wellknown[k]))notProps.includes(prop)||(clientConfig[k][prop]=wellknown[k][prop])}else clientConfig[k]=wellknown[k]}),Promise.resolve(clientConfig)}static async findClientConfig(domain){if(!domain||"string"!=typeof domain||0===domain.length)throw new Error("'domain' must be a string of non-zero length");const clientConfig={"m.homeserver":{state:AutoDiscovery.FAIL_ERROR,error:AutoDiscovery.ERROR_INVALID,base_url:null},"m.identity_server":{state:AutoDiscovery.PROMPT,error:null,base_url:null}},wellknown=await this._fetchWellKnownObject(`https://${domain}/.well-known/matrix/client`);return wellknown&&"SUCCESS"===wellknown.action?AutoDiscovery.fromDiscoveryConfig(wellknown.raw):(_logger.logger.error("No response or error when parsing .well-known"),wellknown.reason&&_logger.logger.error(wellknown.reason),"IGNORE"===wellknown.action?clientConfig["m.homeserver"]={state:AutoDiscovery.PROMPT,error:null,base_url:null}:(clientConfig["m.homeserver"].state=AutoDiscovery.FAIL_PROMPT,clientConfig["m.homeserver"].error=AutoDiscovery.ERROR_INVALID),Promise.resolve(clientConfig))}static async getRawClientConfig(domain){if(!domain||"string"!=typeof domain||0===domain.length)throw new Error("'domain' must be a string of non-zero length");const response=await this._fetchWellKnownObject(`https://${domain}/.well-known/matrix/client`);return response&&response.raw||{}}static _sanitizeWellKnownUrl(url){if(!url)return!1;try{let parsed=null;try{parsed=_url.URL?new _url.URL(url):new URL(url)}catch(e){parsed=new URL(url)}if(!parsed||!parsed.hostname)return!1;if("http:"!==parsed.protocol&&"https:"!==parsed.protocol)return!1;const port=parsed.port?`:${parsed.port}`:"",path=parsed.pathname?parsed.pathname:"";let saferUrl=`${parsed.protocol}//${parsed.hostname}${port}${path}`;return saferUrl.endsWith("/")&&(saferUrl=saferUrl.substring(0,saferUrl.length-1)),saferUrl}catch(e){return _logger.logger.error(e),!1}}static async _fetchWellKnownObject(url){return new Promise(function(resolve,reject){const request=__webpack_require__(394).getRequest();if(!request)throw new Error("No request library available");request({method:"GET",uri:url,timeout:5e3},(err,response,body)=>{if(err||response.statusCode<200||response.statusCode>=300){let action="FAIL_PROMPT",reason=(err?err.message:null)||"General failure";return 404===response.statusCode&&(action="IGNORE",reason=AutoDiscovery.ERROR_MISSING_WELLKNOWN),void resolve({raw:{},action:action,reason:reason,error:err})}try{resolve({raw:JSON.parse(body),action:"SUCCESS"})}catch(e){let reason=AutoDiscovery.ERROR_INVALID;"SyntaxError"===e.name&&(reason=AutoDiscovery.ERROR_INVALID_JSON),resolve({raw:{},action:"FAIL_PROMPT",reason:reason,error:e})}})})}}exports.AutoDiscovery=AutoDiscovery},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimelineWindow=TimelineWindow,exports.TimelineIndex=TimelineIndex;var _eventTimeline=__webpack_require__(76);__webpack_require__(2);const debuglog=function(){};function TimelineWindow(client,timelineSet,opts){opts=opts||{},this._client=client,this._timelineSet=timelineSet,this._start=null,this._end=null,this._eventCount=0,this._windowLimit=opts.windowLimit||1e3}function TimelineIndex(timeline,index){this.timeline=timeline,this.index=index}TimelineWindow.prototype.load=function(initialEventId,initialWindowSize){const self=this;initialWindowSize=initialWindowSize||20;const initFields=function(timeline){let eventIndex;const events=timeline.getEvents();if(initialEventId){for(let i=0;i<events.length;i++)if(events[i].getId()==initialEventId){eventIndex=i;break}if(void 0===eventIndex)throw new Error("getEventTimeline result didn't include requested event")}else eventIndex=events.length;const endIndex=Math.min(events.length,eventIndex+Math.ceil(initialWindowSize/2)),startIndex=Math.max(0,endIndex-initialWindowSize);self._start=new TimelineIndex(timeline,startIndex-timeline.getBaseIndex()),self._end=new TimelineIndex(timeline,endIndex-timeline.getBaseIndex()),self._eventCount=endIndex-startIndex};if(initialEventId){const timeline=this._timelineSet.getTimelineForEvent(initialEventId);return timeline?(initFields(timeline),Promise.resolve(timeline)):this._client.getEventTimeline(this._timelineSet,initialEventId).then(initFields)}return initFields(this._timelineSet.getLiveTimeline()),Promise.resolve()},TimelineWindow.prototype.canPaginate=function(direction){let tl;if(direction==_eventTimeline.EventTimeline.BACKWARDS)tl=this._start;else{if(direction!=_eventTimeline.EventTimeline.FORWARDS)throw new Error("Invalid direction '"+direction+"'");tl=this._end}if(!tl)return debuglog("TimelineWindow: no timeline yet"),!1;if(direction==_eventTimeline.EventTimeline.BACKWARDS){if(tl.index>tl.minIndex())return!0}else if(tl.index<tl.maxIndex())return!0;return Boolean(tl.timeline.getNeighbouringTimeline(direction)||tl.timeline.getPaginationToken(direction))},TimelineWindow.prototype.paginate=function(direction,size,makeRequest,requestLimit){let tl;if(void 0===makeRequest&&(makeRequest=!0),void 0===requestLimit&&(requestLimit=5),direction==_eventTimeline.EventTimeline.BACKWARDS)tl=this._start;else{if(direction!=_eventTimeline.EventTimeline.FORWARDS)throw new Error("Invalid direction '"+direction+"'");tl=this._end}if(!tl)return debuglog("TimelineWindow: no timeline yet"),Promise.resolve(!1);if(tl.pendingPaginate)return tl.pendingPaginate;const count=direction==_eventTimeline.EventTimeline.BACKWARDS?tl.retreat(size):tl.advance(size);if(count){this._eventCount+=count,debuglog("TimelineWindow: increased cap by "+count+" (now "+this._eventCount+")");const excess=this._eventCount-this._windowLimit;return excess>0&&this.unpaginate(excess,direction!=_eventTimeline.EventTimeline.BACKWARDS),Promise.resolve(!0)}if(!makeRequest||0===requestLimit)return Promise.resolve(!1);if(!tl.timeline.getPaginationToken(direction))return debuglog("TimelineWindow: no token"),Promise.resolve(!1);debuglog("TimelineWindow: starting request");const self=this,prom=this._client.paginateEventTimeline(tl.timeline,{backwards:direction==_eventTimeline.EventTimeline.BACKWARDS,limit:size}).finally(function(){tl.pendingPaginate=null}).then(function(r){return debuglog("TimelineWindow: request completed with result "+r),!!r&&self.paginate(direction,size,!0,requestLimit-1)});return tl.pendingPaginate=prom,prom},TimelineWindow.prototype.unpaginate=function(delta,startOfTimeline){const tl=startOfTimeline?this._start:this._end;if(delta>this._eventCount||delta<0)throw new Error("Attemting to unpaginate "+delta+" events, but only have "+this._eventCount+" in the timeline");for(;delta>0;){const count=startOfTimeline?tl.advance(delta):tl.retreat(delta);if(count<=0)throw new Error("Unable to unpaginate any further, but still have "+this._eventCount+" events");delta-=count,this._eventCount-=count,debuglog("TimelineWindow.unpaginate: dropped "+count+" (now "+this._eventCount+")")}},TimelineWindow.prototype.getEvents=function(){if(!this._start)return[];const result=[];let timeline=this._start.timeline;for(;;){const events=timeline.getEvents();let startIndex=0,endIndex=events.length;timeline===this._start.timeline&&(startIndex=this._start.index+timeline.getBaseIndex()),timeline===this._end.timeline&&(endIndex=this._end.index+timeline.getBaseIndex());for(let i=startIndex;i<endIndex;i++)result.push(events[i]);if(timeline===this._end.timeline)break;timeline=timeline.getNeighbouringTimeline(_eventTimeline.EventTimeline.FORWARDS)}return result},TimelineIndex.prototype.minIndex=function(){return-1*this.timeline.getBaseIndex()},TimelineIndex.prototype.maxIndex=function(){return this.timeline.getEvents().length-this.timeline.getBaseIndex()},TimelineIndex.prototype.advance=function(delta){if(!delta)return 0;let cappedDelta;if(delta<0){if((cappedDelta=Math.max(delta,this.minIndex()-this.index))<0)return this.index+=cappedDelta,cappedDelta}else if((cappedDelta=Math.min(delta,this.maxIndex()-this.index))>0)return this.index+=cappedDelta,cappedDelta;const neighbour=this.timeline.getNeighbouringTimeline(delta<0?_eventTimeline.EventTimeline.BACKWARDS:_eventTimeline.EventTimeline.FORWARDS);return neighbour?(this.timeline=neighbour,this.index=delta<0?this.maxIndex():this.minIndex(),debuglog("paginate: switched to new neighbour"),this.advance(delta)):0},TimelineIndex.prototype.retreat=function(delta){return-1*this.advance(-1*delta)}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4),_interopRequireDefault=__webpack_require__(32);Object.defineProperty(exports,"__esModule",{value:!0}),exports.InteractiveAuth=InteractiveAuth;var _url=_interopRequireDefault(__webpack_require__(228)),utils=_interopRequireWildcard(__webpack_require__(5)),_logger=__webpack_require__(2);function InteractiveAuth(opts){this._matrixClient=opts.matrixClient,this._data=opts.authData||{},this._requestCallback=opts.doRequest,this._busyChangedCallback=opts.busyChanged,this._stateUpdatedCallback=opts.stateUpdated||opts.startAuthStage,this._resolveFunc=null,this._rejectFunc=null,this._inputs=opts.inputs||{},this._requestEmailTokenCallback=opts.requestEmailToken,opts.sessionId&&(this._data.session=opts.sessionId),this._clientSecret=opts.clientSecret||this._matrixClient.generateClientSecret(),this._emailSid=opts.emailSid,void 0===this._emailSid&&(this._emailSid=null),this._requestingEmailToken=!1,this._chosenFlow=null,this._currentStage=null,this._submitPromise=null}InteractiveAuth.prototype={attemptAuth:function(){return new Promise((resolve,reject)=>{this._resolveFunc=resolve,this._rejectFunc=reject,this._data.flows?this._startNextAuthStage():(this._busyChangedCallback&&this._busyChangedCallback(!0),this._doRequest(this._data).finally(()=>{this._busyChangedCallback&&this._busyChangedCallback(!1)}))})},poll:async function(){if(!this._data.session)return;if(this._submitPromise)return;let authDict={};if("m.login.email.identity"==this._currentStage&&this._emailSid){const creds={sid:this._emailSid,client_secret:this._clientSecret};if(await this._matrixClient.doesServerRequireIdServerParam()){const idServerParsedUrl=_url.default.parse(this._matrixClient.getIdentityServerUrl());creds.id_server=idServerParsedUrl.host}authDict={type:"m.login.email.identity",threepid_creds:creds}}this.submitAuthDict(authDict,!0)},getSessionId:function(){return this._data?this._data.session:void 0},getClientSecret:function(){return this._clientSecret},getStageParams:function(loginType){let params={};return this._data&&this._data.params&&(params=this._data.params),params[loginType]},getChosenFlow(){return this._chosenFlow},submitAuthDict:async function(authData,background){if(!this._resolveFunc)throw new Error("submitAuthDict() called before attemptAuth()");for(!background&&this._busyChangedCallback&&this._busyChangedCallback(!0);this._submitPromise;)try{await this._submitPromise}catch(e){}const auth={session:this._data.session};utils.extend(auth,authData);try{this._submitPromise=this._doRequest(auth,background),await this._submitPromise}finally{this._submitPromise=null,!background&&this._busyChangedCallback&&this._busyChangedCallback(!1)}},getEmailSid:function(){return this._emailSid},setEmailSid:function(sid){this._emailSid=sid},_doRequest:async function(auth,background){try{const result=await this._requestCallback(auth,background);this._resolveFunc(result)}catch(error){const errorFlows=error.data?error.data.flows:null,haveFlows=Boolean(this._data.flows)||Boolean(errorFlows);if(401===error.httpStatus&&error.data&&haveFlows||(background?_logger.logger.log("Background poll request failed doing UI auth: ignoring",error):this._rejectFunc(error)),error.data.flows||error.data.completed||error.data.session||(error.data.flows=this._data.flows,error.data.completed=this._data.completed,error.data.session=this._data.session),this._data=error.data,this._startNextAuthStage(),!this._emailSid&&!this._requestingEmailToken&&this._chosenFlow.stages.includes("m.login.email.identity")){this._requestingEmailToken=!0;try{const requestTokenResult=await this._requestEmailTokenCallback(this._inputs.emailAddress,this._clientSecret,1,this._data.session);this._emailSid=requestTokenResult.sid}catch(e){this._rejectFunc(e)}finally{this._requestingEmailToken=!1}}}},_startNextAuthStage:function(){const nextStage=this._chooseStage();if(!nextStage)throw new Error("No incomplete flows from the server");if(this._currentStage=nextStage,"m.login.dummy"===nextStage)return void this.submitAuthDict({type:"m.login.dummy"});if(this._data.errcode||this._data.error)return void this._stateUpdatedCallback(nextStage,{errcode:this._data.errcode||"",error:this._data.error||""});const stageStatus={};"m.login.email.identity"==nextStage&&(stageStatus.emailSid=this._emailSid),this._stateUpdatedCallback(nextStage,stageStatus)},_chooseStage:function(){null===this._chosenFlow&&(this._chosenFlow=this._chooseFlow()),_logger.logger.log("Active flow => %s",JSON.stringify(this._chosenFlow));const nextStage=this._firstUncompletedStage(this._chosenFlow);return _logger.logger.log("Next stage: %s",nextStage),nextStage},_chooseFlow:function(){const flows=this._data.flows||[],haveEmail=Boolean(this._inputs.emailAddress)||Boolean(this._emailSid),haveMsisdn=Boolean(this._inputs.phoneCountry)&&Boolean(this._inputs.phoneNumber);for(const flow of flows){let flowHasEmail=!1,flowHasMsisdn=!1;for(const stage of flow.stages)"m.login.email.identity"===stage?flowHasEmail=!0:"m.login.msisdn"==stage&&(flowHasMsisdn=!0);if(flowHasEmail==haveEmail&&flowHasMsisdn==haveMsisdn)return flow}const err=new Error("No appropriate authentication flow found");throw err.name="NoAuthFlowFoundError",err.required_stages=[],haveEmail&&err.required_stages.push("m.login.email.identity"),haveMsisdn&&err.required_stages.push("m.login.msisdn"),err.available_flows=flows,err},_firstUncompletedStage:function(flow){const completed=(this._data||{}).completed||[];for(let i=0;i<flow.stages.length;++i){const stageType=flow.stages[i];if(-1===completed.indexOf(stageType))return stageType}}}},function(module,exports,__webpack_require__){"use strict";(function(global){var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexedDBStore=IndexedDBStore;var _memory=__webpack_require__(395),utils=_interopRequireWildcard(__webpack_require__(5)),_events=__webpack_require__(18),_indexeddbLocalBackend=__webpack_require__(930),_indexeddbRemoteBackend=__webpack_require__(931),_user=__webpack_require__(146),_event=__webpack_require__(54),_logger=__webpack_require__(2);function IndexedDBStore(opts){if(_memory.MemoryStore.call(this,opts),!opts.indexedDB)throw new Error("Missing required option: indexedDB");if(opts.workerScript){let workerApi=opts.workerApi;workerApi||(workerApi=global.Worker),this.backend=new _indexeddbRemoteBackend.RemoteIndexedDBStoreBackend(opts.workerScript,opts.dbName,workerApi)}else this.backend=new _indexeddbLocalBackend.LocalIndexedDBStoreBackend(opts.indexedDB,opts.dbName);this.startedUp=!1,this._syncTs=0,this._userModifiedMap={}}function degradable(func,fallback){return async function(...args){try{return await func.call(this,...args)}catch(e){_logger.logger.error("IndexedDBStore failure, degrading to MemoryStore",e),this.emit("degraded",e);try{_logger.logger.log("IndexedDBStore trying to delete degraded data"),await this.backend.clearDatabase(),_logger.logger.log("IndexedDBStore delete after degrading succeeeded")}catch(e){_logger.logger.warn("IndexedDBStore delete after degrading failed",e)}if(Object.setPrototypeOf(this,_memory.MemoryStore.prototype),fallback)return await _memory.MemoryStore.prototype[fallback].call(this,...args)}}}utils.inherits(IndexedDBStore,_memory.MemoryStore),utils.extend(IndexedDBStore.prototype,_events.EventEmitter.prototype),IndexedDBStore.exists=function(indexedDB,dbName){return _indexeddbLocalBackend.LocalIndexedDBStoreBackend.exists(indexedDB,dbName)},IndexedDBStore.prototype.startup=function(){return this.startedUp?(_logger.logger.log("IndexedDBStore.startup: already started"),Promise.resolve()):(_logger.logger.log("IndexedDBStore.startup: connecting to backend"),this.backend.connect().then(()=>(_logger.logger.log("IndexedDBStore.startup: loading presence events"),this.backend.getUserPresenceEvents())).then(userPresenceEvents=>{_logger.logger.log("IndexedDBStore.startup: processing presence events"),userPresenceEvents.forEach(([userId,rawEvent])=>{const u=new _user.User(userId);rawEvent&&u.setPresenceEvent(new _event.MatrixEvent(rawEvent)),this._userModifiedMap[u.userId]=u.getLastModifiedTime(),this.storeUser(u)})}))},IndexedDBStore.prototype.getSavedSync=degradable(function(){return this.backend.getSavedSync()},"getSavedSync"),IndexedDBStore.prototype.isNewlyCreated=degradable(function(){return this.backend.isNewlyCreated()},"isNewlyCreated"),IndexedDBStore.prototype.getSavedSyncToken=degradable(function(){return this.backend.getNextBatchToken()},"getSavedSyncToken"),IndexedDBStore.prototype.deleteAllData=degradable(function(){return _memory.MemoryStore.prototype.deleteAllData.call(this),this.backend.clearDatabase().then(()=>{_logger.logger.log("Deleted indexeddb data.")},err=>{throw _logger.logger.error(`Failed to delete indexeddb data: ${err}`),err})}),IndexedDBStore.prototype.wantsSave=function(){return Date.now()-this._syncTs>3e5},IndexedDBStore.prototype.save=function(force){return force||this.wantsSave()?this._reallySave():Promise.resolve()},IndexedDBStore.prototype._reallySave=degradable(function(){this._syncTs=Date.now();const userTuples=[];for(const u of this.getUsers())this._userModifiedMap[u.userId]!==u.getLastModifiedTime()&&u.events.presence&&(userTuples.push([u.userId,u.events.presence.event]),this._userModifiedMap[u.userId]=u.getLastModifiedTime());return this.backend.syncToDatabase(userTuples)}),IndexedDBStore.prototype.setSyncData=degradable(function(syncData){return this.backend.setSyncData(syncData)},"setSyncData"),IndexedDBStore.prototype.getOutOfBandMembers=degradable(function(roomId){return this.backend.getOutOfBandMembers(roomId)},"getOutOfBandMembers"),IndexedDBStore.prototype.setOutOfBandMembers=degradable(function(roomId,membershipEvents){return _memory.MemoryStore.prototype.setOutOfBandMembers.call(this,roomId,membershipEvents),this.backend.setOutOfBandMembers(roomId,membershipEvents)},"setOutOfBandMembers"),IndexedDBStore.prototype.clearOutOfBandMembers=degradable(function(roomId){return _memory.MemoryStore.prototype.clearOutOfBandMembers.call(this),this.backend.clearOutOfBandMembers(roomId)},"clearOutOfBandMembers"),IndexedDBStore.prototype.getClientOptions=degradable(function(){return this.backend.getClientOptions()},"getClientOptions"),IndexedDBStore.prototype.storeClientOptions=degradable(function(options){return _memory.MemoryStore.prototype.storeClientOptions.call(this,options),this.backend.storeClientOptions(options)},"storeClientOptions")}).call(this,__webpack_require__(0))},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIndexedDBStoreBackend=LocalIndexedDBStoreBackend;var _syncAccumulator=__webpack_require__(410),utils=_interopRequireWildcard(__webpack_require__(5)),IndexedDBHelpers=_interopRequireWildcard(__webpack_require__(403)),_logger=__webpack_require__(2);function selectQuery(store,keyRange,resultMapper){const query=store.openCursor(keyRange);return new Promise((resolve,reject)=>{const results=[];query.onerror=event=>{reject(new Error("Query failed: "+event.target.errorCode))},query.onsuccess=event=>{const cursor=event.target.result;cursor?(results.push(resultMapper(cursor)),cursor.continue()):resolve(results)}})}function txnAsPromise(txn){return new Promise((resolve,reject)=>{txn.oncomplete=function(event){resolve(event)},txn.onerror=function(event){reject(event.target.error)}})}function reqAsEventPromise(req){return new Promise((resolve,reject)=>{req.onsuccess=function(event){resolve(event)},req.onerror=function(event){reject(event.target.error)}})}function reqAsCursorPromise(req){return reqAsEventPromise(req).then(event=>event.target.result)}function LocalIndexedDBStoreBackend(indexedDBInterface,dbName){this.indexedDB=indexedDBInterface,this._dbName="matrix-js-sdk:"+(dbName||"default"),this.db=null,this._disconnected=!0,this._syncAccumulator=new _syncAccumulator.SyncAccumulator,this._isNewlyCreated=!1}LocalIndexedDBStoreBackend.exists=function(indexedDB,dbName){return dbName="matrix-js-sdk:"+(dbName||"default"),IndexedDBHelpers.exists(indexedDB,dbName)},LocalIndexedDBStoreBackend.prototype={connect:function(){if(!this._disconnected)return _logger.logger.log("LocalIndexedDBStoreBackend.connect: already connected or connecting"),Promise.resolve();this._disconnected=!1,_logger.logger.log("LocalIndexedDBStoreBackend.connect: connecting...");const req=this.indexedDB.open(this._dbName,3);return req.onupgradeneeded=ev=>{const db=ev.target.result,oldVersion=ev.oldVersion;_logger.logger.log(`LocalIndexedDBStoreBackend.connect: upgrading from ${oldVersion}`),oldVersion<1&&(this._isNewlyCreated=!0,function createDatabase(db){db.createObjectStore("users",{keyPath:["userId"]}),db.createObjectStore("accountData",{keyPath:["type"]}),db.createObjectStore("sync",{keyPath:["clobber"]})}(db)),oldVersion<2&&function upgradeSchemaV2(db){db.createObjectStore("oob_membership_events",{keyPath:["room_id","state_key"]}).createIndex("room","room_id")}(db),oldVersion<3&&function upgradeSchemaV3(db){db.createObjectStore("client_options",{keyPath:["clobber"]})}(db)},req.onblocked=()=>{_logger.logger.log("can't yet open LocalIndexedDBStoreBackend because it is open elsewhere")},_logger.logger.log("LocalIndexedDBStoreBackend.connect: awaiting connection..."),reqAsEventPromise(req).then(ev=>(_logger.logger.log("LocalIndexedDBStoreBackend.connect: connected"),this.db=ev.target.result,this.db.onversionchange=()=>{this.db.close()},this._init()))},isNewlyCreated:function(){return Promise.resolve(this._isNewlyCreated)},_init:function(){return Promise.all([this._loadAccountData(),this._loadSyncData()]).then(([accountData,syncData])=>{_logger.logger.log("LocalIndexedDBStoreBackend: loaded initial data"),this._syncAccumulator.accumulate({next_batch:syncData.nextBatch,rooms:syncData.roomsData,groups:syncData.groupsData,account_data:{events:accountData}})})},getOutOfBandMembers:function(roomId){return new Promise((resolve,reject)=>{const roomIndex=this.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),range=IDBKeyRange.only(roomId),request=roomIndex.openCursor(range),membershipEvents=[];let oobWritten=!1;request.onsuccess=event=>{const cursor=event.target.result;if(!cursor)return membershipEvents.length||oobWritten?resolve(membershipEvents):resolve(null);const record=cursor.value;record.oob_written?oobWritten=!0:membershipEvents.push(record),cursor.continue()},request.onerror=err=>{reject(err)}}).then(events=>(_logger.logger.log(`LL: got ${events&&events.length}`+` membershipEvents from storage for room ${roomId} ...`),events))},setOutOfBandMembers:async function(roomId,membershipEvents){_logger.logger.log(`LL: backend about to store ${membershipEvents.length}`+` members for ${roomId}`);const tx=this.db.transaction(["oob_membership_events"],"readwrite"),store=tx.objectStore("oob_membership_events");membershipEvents.forEach(e=>{store.put(e)});const markerObject={room_id:roomId,oob_written:!0,state_key:0};store.put(markerObject),await txnAsPromise(tx),_logger.logger.log(`LL: backend done storing for ${roomId}!`)},clearOutOfBandMembers:async function(roomId){const roomIndex=this.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),roomRange=IDBKeyRange.only(roomId),minStateKeyProm=reqAsCursorPromise(roomIndex.openKeyCursor(roomRange,"next")).then(cursor=>cursor&&cursor.primaryKey[1]),maxStateKeyProm=reqAsCursorPromise(roomIndex.openKeyCursor(roomRange,"prev")).then(cursor=>cursor&&cursor.primaryKey[1]),[minStateKey,maxStateKey]=await Promise.all([minStateKeyProm,maxStateKeyProm]),writeStore=this.db.transaction(["oob_membership_events"],"readwrite").objectStore("oob_membership_events"),membersKeyRange=IDBKeyRange.bound([roomId,minStateKey],[roomId,maxStateKey]);_logger.logger.log("LL: Deleting all users + marker in storage for "+`room ${roomId}, with key range:`,[roomId,minStateKey],[roomId,maxStateKey]),await function reqAsPromise(req){return new Promise((resolve,reject)=>{req.onsuccess=()=>resolve(req),req.onerror=err=>reject(err)})}(writeStore.delete(membersKeyRange))},clearDatabase:function(){return new Promise((resolve,reject)=>{_logger.logger.log(`Removing indexeddb instance: ${this._dbName}`);const req=this.indexedDB.deleteDatabase(this._dbName);req.onblocked=()=>{_logger.logger.log(`can't yet delete indexeddb ${this._dbName}`+" because it is open elsewhere")},req.onerror=ev=>{_logger.logger.warn(`unable to delete js-sdk store indexeddb: ${ev.target.error}`),resolve()},req.onsuccess=()=>{_logger.logger.log(`Removed indexeddb instance: ${this._dbName}`),resolve()}})},getSavedSync:function(copy){void 0===copy&&(copy=!0);const data=this._syncAccumulator.getJSON();return data.nextBatch?copy?Promise.resolve(utils.deepCopy(data)):Promise.resolve(data):Promise.resolve(null)},getNextBatchToken:function(){return Promise.resolve(this._syncAccumulator.getNextBatchToken())},setSyncData:function(syncData){return Promise.resolve().then(()=>{this._syncAccumulator.accumulate(syncData)})},syncToDatabase:function(userTuples){const syncData=this._syncAccumulator.getJSON();return Promise.all([this._persistUserPresenceEvents(userTuples),this._persistAccountData(syncData.accountData),this._persistSyncData(syncData.nextBatch,syncData.roomsData,syncData.groupsData)])},_persistSyncData:function(nextBatch,roomsData,groupsData){return _logger.logger.log("Persisting sync data up to ",nextBatch),utils.promiseTry(()=>{const txn=this.db.transaction(["sync"],"readwrite");return txn.objectStore("sync").put({clobber:"-",nextBatch:nextBatch,roomsData:roomsData,groupsData:groupsData}),txnAsPromise(txn)})},_persistAccountData:function(accountData){return utils.promiseTry(()=>{const txn=this.db.transaction(["accountData"],"readwrite"),store=txn.objectStore("accountData");for(let i=0;i<accountData.length;i++)store.put(accountData[i]);return txnAsPromise(txn)})},_persistUserPresenceEvents:function(tuples){return utils.promiseTry(()=>{const txn=this.db.transaction(["users"],"readwrite"),store=txn.objectStore("users");for(const tuple of tuples)store.put({userId:tuple[0],event:tuple[1]});return txnAsPromise(txn)})},getUserPresenceEvents:function(){return utils.promiseTry(()=>{return selectQuery(this.db.transaction(["users"],"readonly").objectStore("users"),void 0,cursor=>[cursor.value.userId,cursor.value.event])})},_loadAccountData:function(){return _logger.logger.log("LocalIndexedDBStoreBackend: loading account data..."),utils.promiseTry(()=>{return selectQuery(this.db.transaction(["accountData"],"readonly").objectStore("accountData"),void 0,cursor=>cursor.value).then(result=>(_logger.logger.log("LocalIndexedDBStoreBackend: loaded account data"),result))})},_loadSyncData:function(){return _logger.logger.log("LocalIndexedDBStoreBackend: loading sync data..."),utils.promiseTry(()=>{return selectQuery(this.db.transaction(["sync"],"readonly").objectStore("sync"),void 0,cursor=>cursor.value).then(results=>(_logger.logger.log("LocalIndexedDBStoreBackend: loaded sync data"),results.length>1&&_logger.logger.warn("loadSyncData: More than 1 sync row found."),results.length>0?results[0]:{}))})},getClientOptions:function(){return Promise.resolve().then(()=>{return selectQuery(this.db.transaction(["client_options"],"readonly").objectStore("client_options"),void 0,cursor=>{if(cursor.value&&cursor.value&&cursor.value.options)return cursor.value.options}).then(results=>results[0])})},storeClientOptions:async function(options){const txn=this.db.transaction(["client_options"],"readwrite");txn.objectStore("client_options").put({clobber:"-",options:options}),await txnAsPromise(txn)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemoteIndexedDBStoreBackend=RemoteIndexedDBStoreBackend;var _logger=__webpack_require__(2),_utils=__webpack_require__(5);function RemoteIndexedDBStoreBackend(workerScript,dbName,workerApi){this._workerScript=workerScript,this._dbName=dbName,this._workerApi=workerApi,this._worker=null,this._nextSeq=0,this._inFlight={},this._startPromise=null}RemoteIndexedDBStoreBackend.prototype={connect:function(){return this._ensureStarted().then(()=>this._doCmd("connect"))},clearDatabase:function(){return this._ensureStarted().then(()=>this._doCmd("clearDatabase"))},isNewlyCreated:function(){return this._doCmd("isNewlyCreated")},getSavedSync:function(){return this._doCmd("getSavedSync")},getNextBatchToken:function(){return this._doCmd("getNextBatchToken")},setSyncData:function(syncData){return this._doCmd("setSyncData",[syncData])},syncToDatabase:function(users){return this._doCmd("syncToDatabase",[users])},getOutOfBandMembers:function(roomId){return this._doCmd("getOutOfBandMembers",[roomId])},setOutOfBandMembers:function(roomId,membershipEvents){return this._doCmd("setOutOfBandMembers",[roomId,membershipEvents])},clearOutOfBandMembers:function(roomId){return this._doCmd("clearOutOfBandMembers",[roomId])},getClientOptions:function(){return this._doCmd("getClientOptions")},storeClientOptions:function(options){return this._doCmd("storeClientOptions",[options])},getUserPresenceEvents:function(){return this._doCmd("getUserPresenceEvents")},_ensureStarted:function(){return null===this._startPromise&&(this._worker=new this._workerApi(this._workerScript),this._worker.onmessage=this._onWorkerMessage.bind(this),this._startPromise=this._doCmd("_setupWorker",[this._dbName]).then(()=>{_logger.logger.log("IndexedDB worker is ready")})),this._startPromise},_doCmd:function(cmd,args){return Promise.resolve().then(()=>{const seq=this._nextSeq++,def=(0,_utils.defer)();return this._inFlight[seq]=def,this._worker.postMessage({command:cmd,seq:seq,args:args}),def.promise})},_onWorkerMessage:function(ev){const msg=ev.data;if("cmd_success"==msg.command||"cmd_fail"==msg.command){if(void 0===msg.seq)return void _logger.logger.error("Got reply from worker with no seq");const def=this._inFlight[msg.seq];if(void 0===def)return void _logger.logger.error("Got reply for unknown seq "+msg.seq);if(delete this._inFlight[msg.seq],"cmd_success"==msg.command)def.resolve(msg.result);else{const error=new Error(msg.error.message);error.name=msg.error.name,def.reject(error)}}else _logger.logger.warn("Unrecognised message from worker: "+msg)}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(4);Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebStorageSessionStore=WebStorageSessionStore;var utils=_interopRequireWildcard(__webpack_require__(5)),_logger=__webpack_require__(2);const DEBUG=!1,E2E_PREFIX="session.e2e.";function WebStorageSessionStore(webStore){if(this.store=webStore,!(utils.isFunction(webStore.getItem)&&utils.isFunction(webStore.setItem)&&utils.isFunction(webStore.removeItem)&&utils.isFunction(webStore.key)&&"number"==typeof webStore.length))throw new Error("Supplied webStore does not meet the WebStorage API interface")}WebStorageSessionStore.prototype={removeEndToEndAccount:function(){this.store.removeItem(KEY_END_TO_END_ACCOUNT)},getEndToEndAccount:function(){return this.store.getItem(KEY_END_TO_END_ACCOUNT)},getAllEndToEndDevices:function(){const prefix=keyEndToEndDevicesForUser(""),devices={};for(let i=0;i<this.store.length;++i){const key=this.store.key(i),userId=key.substr(prefix.length);key.startsWith(prefix)&&(devices[userId]=getJsonItem(this.store,key))}return devices},getEndToEndDeviceTrackingStatus:function(){return getJsonItem(this.store,KEY_END_TO_END_DEVICE_LIST_TRACKING_STATUS)},getEndToEndDeviceSyncToken:function(){return getJsonItem(this.store,KEY_END_TO_END_DEVICE_SYNC_TOKEN)},removeEndToEndDeviceData:function(){removeByPrefix(this.store,keyEndToEndDevicesForUser("")),removeByPrefix(this.store,KEY_END_TO_END_DEVICE_LIST_TRACKING_STATUS),removeByPrefix(this.store,KEY_END_TO_END_DEVICE_SYNC_TOKEN)},getEndToEndSessions:function(deviceKey){return getJsonItem(this.store,keyEndToEndSessions(deviceKey))},getAllEndToEndSessions:function(){const deviceKeys=getKeysWithPrefix(this.store,keyEndToEndSessions("")),results={};for(const k of deviceKeys){results[k.substr(keyEndToEndSessions("").length)]=getJsonItem(this.store,k)}return results},removeAllEndToEndSessions:function(){removeByPrefix(this.store,keyEndToEndSessions(""))},getAllEndToEndInboundGroupSessionKeys:function(){const prefix=E2E_PREFIX+"inboundgroupsessions/",result=[];for(let i=0;i<this.store.length;i++){const key=this.store.key(i);key.startsWith(prefix)&&result.push({senderKey:key.substr(prefix.length,43),sessionId:key.substr(prefix.length+44)})}return result},getEndToEndInboundGroupSession:function(senderKey,sessionId){const key=function keyEndToEndInboundGroupSession(senderKey,sessionId){return E2E_PREFIX+"inboundgroupsessions/"+senderKey+"/"+sessionId}(senderKey,sessionId);return this.store.getItem(key)},removeAllEndToEndInboundGroupSessions:function(){removeByPrefix(this.store,E2E_PREFIX+"inboundgroupsessions/")},getAllEndToEndRooms:function(){const roomKeys=getKeysWithPrefix(this.store,keyEndToEndRoom("")),results={};for(const k of roomKeys){results[k.substr(keyEndToEndRoom("").length)]=getJsonItem(this.store,k)}return results},removeAllEndToEndRooms:function(){removeByPrefix(this.store,keyEndToEndRoom(""))},setLocalTrustedBackupPubKey:function(pubkey){this.store.setItem(KEY_END_TO_END_TRUSTED_BACKUP_PUBKEY,pubkey)},getLocalTrustedBackupPubKey:function(){return this.store.getItem(KEY_END_TO_END_TRUSTED_BACKUP_PUBKEY)}};const KEY_END_TO_END_ACCOUNT=E2E_PREFIX+"account",KEY_END_TO_END_DEVICE_SYNC_TOKEN=E2E_PREFIX+"device_sync_token",KEY_END_TO_END_DEVICE_LIST_TRACKING_STATUS=E2E_PREFIX+"device_tracking",KEY_END_TO_END_TRUSTED_BACKUP_PUBKEY=E2E_PREFIX+"trusted_backup_pubkey";function keyEndToEndDevicesForUser(userId){return E2E_PREFIX+"devices/"+userId}function keyEndToEndSessions(deviceKey){return E2E_PREFIX+"sessions/"+deviceKey}function keyEndToEndRoom(roomId){return E2E_PREFIX+"rooms/"+roomId}function getJsonItem(store,key){try{return JSON.parse(store.getItem(key))}catch(e){debuglog("Failed to get key %s: %s",key,e),debuglog(e.stack)}return null}function getKeysWithPrefix(store,prefix){const results=[];for(let i=0;i<store.length;++i){const key=store.key(i);key.startsWith(prefix)&&results.push(key)}return results}function removeByPrefix(store,prefix){const toRemove=[];for(let i=0;i<store.length;++i){const key=store.key(i);key.startsWith(prefix)&&toRemove.push(key)}for(const key of toRemove)store.removeItem(key)}function debuglog(){DEBUG&&_logger.logger.log(...arguments)}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var XHR=XMLHttpRequest;if(!XHR)throw new Error("missing XMLHttpRequest");function request(options,callback){if("function"!=typeof callback)throw new Error("Bad callback given: "+callback);if(!options)throw new Error("No options given");var options_onResponse=options.onResponse;if((options="string"==typeof options?{uri:options}:JSON.parse(JSON.stringify(options))).onResponse=options_onResponse,options.verbose&&(request.log=function getLogger(){var level,i,logger={},levels=["trace","debug","info","warn","error"];for(i=0;i<levels.length;i++)logger[level=levels[i]]=noop,"undefined"!=typeof console&&console&&console[level]&&(logger[level]=formatted(console,level));return logger}()),options.url&&(options.uri=options.url,delete options.url),!options.uri&&""!==options.uri)throw new Error("options.uri is a required argument");if("string"!=typeof options.uri)throw new Error("options.uri must be a string");for(var unsupported_options=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],i=0;i<unsupported_options.length;i++)if(options[unsupported_options[i]])throw new Error("options."+unsupported_options[i]+" is not supported");if(options.callback=callback,options.method=options.method||"GET",options.headers=options.headers||{},options.body=options.body||null,options.timeout=options.timeout||request.DEFAULT_TIMEOUT,options.headers.host)throw new Error("Options.headers.host is not supported");options.json&&(options.headers.accept=options.headers.accept||"application/json","GET"!==options.method&&(options.headers["content-type"]="application/json"),"boolean"!=typeof options.json?options.body=JSON.stringify(options.json):"string"!=typeof options.body&&(options.body=JSON.stringify(options.body)));var serialize=function(obj){var str=[];for(var p in obj)obj.hasOwnProperty(p)&&str.push(encodeURIComponent(p)+"="+encodeURIComponent(obj[p]));return str.join("&")};if(options.qs){var qs="string"==typeof options.qs?options.qs:serialize(options.qs);-1!==options.uri.indexOf("?")?options.uri=options.uri+"&"+qs:options.uri=options.uri+"?"+qs}if(options.form){if("string"==typeof options.form)throw"form name unsupported";if("POST"===options.method){var encoding=(options.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(options.headers["content-type"]=encoding,encoding){case"application/x-www-form-urlencoded":options.body=serialize(options.form).replace(/%20/g,"+");break;case"multipart/form-data":var multi=function(obj){var result={};result.boundry="-------------------------------"+Math.floor(1e9*Math.random());var lines=[];for(var p in obj)obj.hasOwnProperty(p)&&lines.push("--"+result.boundry+'\nContent-Disposition: form-data; name="'+p+'"\n\n'+obj[p]+"\n");return lines.push("--"+result.boundry+"--"),result.body=lines.join(""),result.length=result.body.length,result.type="multipart/form-data; boundary="+result.boundry,result}(options.form);options.body=multi.body,options.headers["content-type"]=multi.type;break;default:throw new Error("unsupported encoding:"+encoding)}}}return options.onResponse=options.onResponse||noop,!0===options.onResponse&&(options.onResponse=callback,options.callback=noop),!options.headers.authorization&&options.auth&&(options.headers.authorization="Basic "+function b64_enc(data){var o1,o2,o3,h1,h2,h3,h4,bits,b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,ac=0,enc="",tmp_arr=[];if(!data)return data;do{o1=data.charCodeAt(i++),o2=data.charCodeAt(i++),o3=data.charCodeAt(i++),h1=(bits=o1<<16|o2<<8|o3)>>18&63,h2=bits>>12&63,h3=bits>>6&63,h4=63&bits,tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4)}while(i<data.length);switch(enc=tmp_arr.join(""),data.length%3){case 1:enc=enc.slice(0,-2)+"==";break;case 2:enc=enc.slice(0,-1)+"="}return enc}(options.auth.username+":"+options.auth.password)),function run_xhr(options){var xhr=new XHR,timed_out=!1,is_cors=function is_crossDomain(url){var ajaxLocation,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{ajaxLocation=location.href}catch(e){(ajaxLocation=document.createElement("a")).href="",ajaxLocation=ajaxLocation.href}var ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],parts=rurl.exec(url.toLowerCase());return!(!parts||parts[1]==ajaxLocParts[1]&&parts[2]==ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?80:443))==(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?80:443)))}(options.uri),supports_cors="withCredentials"in xhr;if(req_seq+=1,xhr.seq_id=req_seq,xhr.id=req_seq+": "+options.method+" "+options.uri,xhr._id=xhr.id,is_cors&&!supports_cors){var cors_err=new Error("Browser does not support cross-origin request: "+options.uri);return cors_err.cors="unsupported",options.callback(cors_err,xhr)}xhr.timeoutTimer=setTimeout(function too_late(){timed_out=!0;var er=new Error("ETIMEDOUT");return er.code="ETIMEDOUT",er.duration=options.timeout,request.log.error("Timeout",{id:xhr._id,milliseconds:options.timeout}),options.callback(er,xhr)},options.timeout);var did={response:!1,loading:!1,end:!1};return xhr.onreadystatechange=function on_state_change(event){if(timed_out)return request.log.debug("Ignoring timed out state change",{state:xhr.readyState,id:xhr.id});if(request.log.debug("State change",{state:xhr.readyState,id:xhr.id,timed_out:timed_out}),xhr.readyState===XHR.OPENED)for(var key in request.log.debug("Request started",{id:xhr.id}),options.headers)xhr.setRequestHeader(key,options.headers[key]);else xhr.readyState===XHR.HEADERS_RECEIVED?on_response():xhr.readyState===XHR.LOADING?(on_response(),on_loading()):xhr.readyState===XHR.DONE&&(on_response(),on_loading(),function on_end(){if(!did.end){if(did.end=!0,request.log.debug("Request done",{id:xhr.id}),xhr.body=xhr.responseText,options.json)try{xhr.body=JSON.parse(xhr.responseText)}catch(er){return options.callback(er,xhr)}options.callback(null,xhr,xhr.body)}}())},xhr.open(options.method,options.uri,!0),is_cors&&(xhr.withCredentials=!!options.withCredentials),xhr.send(options.body),xhr;function on_response(){if(!did.response){if(did.response=!0,request.log.debug("Got response",{id:xhr.id,status:xhr.status}),clearTimeout(xhr.timeoutTimer),xhr.statusCode=xhr.status,is_cors&&0==xhr.statusCode){var cors_err=new Error("CORS request rejected: "+options.uri);return cors_err.cors="rejected",did.loading=!0,did.end=!0,options.callback(cors_err,xhr)}options.onResponse(null,xhr)}}function on_loading(){did.loading||(did.loading=!0,request.log.debug("Response body loading",{id:xhr.id}))}}(options)}request.log={trace:noop,debug:noop,info:noop,warn:noop,error:noop};var req_seq=0;function noop(){}function formatted(obj,method){return function formatted_logger(str,context){return"object"==typeof context&&(str+=" "+JSON.stringify(context)),obj[method].call(obj,str)}}return request.withCredentials=!1,request.DEFAULT_TIMEOUT=18e4,request.defaults=function(options,requester){var def=function(method){return function(params,callback){for(var i in params="string"==typeof params?{uri:params}:JSON.parse(JSON.stringify(params)),options)void 0===params[i]&&(params[i]=options[i]);return method(params,callback)}},de=def(request);return de.get=def(request.get),de.post=def(request.post),de.put=def(request.put),de.head=def(request.head),de},["get","put","post","head"].forEach(function(shortcut){var method=shortcut.toUpperCase();request[shortcut.toLowerCase()]=function(opts){"string"==typeof opts?opts={method:method,uri:opts}:(opts=JSON.parse(JSON.stringify(opts))).method=method;var args=[opts].concat(Array.prototype.slice.apply(arguments,[1]));return request.apply(this,args)}}),request.couch=function(options,callback){return"string"==typeof options&&(options={uri:options}),options.json=!0,options.body&&(options.json=options.body),delete options.body,callback=callback||noop,request(options,function couch_handler(er,resp,body){if(er)return callback(er,resp,body);if((resp.statusCode<200||resp.statusCode>299)&&body.error){for(var key in er=new Error("CouchDB error: "+(body.error.reason||body.error.error)),body)er[key]=body[key];return callback(er,resp,body)}return callback(er,resp,body)})},request})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(935),parse=__webpack_require__(936),formats=__webpack_require__(412);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(411),formats=__webpack_require__(412),arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}},toISO=Date.prototype.toISOString,defaults={delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly){var obj=object;if("function"==typeof filter)obj=filter(prefix,obj);else if(obj instanceof Date)obj=serializeDate(obj);else if(null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder):prefix;obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder))+"="+formatter(encoder(obj,defaults.encoder))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(Array.isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(values=Array.isArray(obj)?values.concat(stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)):values.concat(stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)))}return values};module.exports=function(object,opts){var obj=object,options=opts?utils.assign({},opts):{};if(null!==options.encoder&&void 0!==options.encoder&&"function"!=typeof options.encoder)throw new TypeError("Encoder has to be a function.");var delimiter=void 0===options.delimiter?defaults.delimiter:options.delimiter,strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:defaults.strictNullHandling,skipNulls="boolean"==typeof options.skipNulls?options.skipNulls:defaults.skipNulls,encode="boolean"==typeof options.encode?options.encode:defaults.encode,encoder="function"==typeof options.encoder?options.encoder:defaults.encoder,sort="function"==typeof options.sort?options.sort:null,allowDots=void 0!==options.allowDots&&options.allowDots,serializeDate="function"==typeof options.serializeDate?options.serializeDate:defaults.serializeDate,encodeValuesOnly="boolean"==typeof options.encodeValuesOnly?options.encodeValuesOnly:defaults.encodeValuesOnly;if(void 0===options.format)options.format=formats.default;else if(!Object.prototype.hasOwnProperty.call(formats.formatters,options.format))throw new TypeError("Unknown format option provided.");var objKeys,filter,formatter=formats.formatters[options.format];"function"==typeof options.filter?obj=(filter=options.filter)("",obj):Array.isArray(options.filter)&&(objKeys=filter=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=options.arrayFormat in arrayPrefixGenerators?options.arrayFormat:"indices"in options?options.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),sort&&objKeys.sort(sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(keys=keys.concat(stringify(obj[key],key,generateArrayPrefix,strictNullHandling,skipNulls,encode?encoder:null,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)))}var joined=keys.join(delimiter),prefix=!0===options.addQueryPrefix?"?":"";return joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(411),has=Object.prototype.hasOwnProperty,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:utils.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},parseKeys=function parseQueryStringKeys(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options){for(var leaf=val,i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root)obj=(obj=[]).concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:obj[cleanRoot]=leaf}leaf=obj}return leaf}(keys,val,options)}};module.exports=function(str,opts){var options=opts?utils.assign({},opts):{};if(null!==options.decoder&&void 0!==options.decoder&&"function"!=typeof options.decoder)throw new TypeError("Decoder has to be a function.");if(options.ignoreQueryPrefix=!0===options.ignoreQueryPrefix,options.delimiter="string"==typeof options.delimiter||utils.isRegExp(options.delimiter)?options.delimiter:defaults.delimiter,options.depth="number"==typeof options.depth?options.depth:defaults.depth,options.arrayLimit="number"==typeof options.arrayLimit?options.arrayLimit:defaults.arrayLimit,options.parseArrays=!1!==options.parseArrays,options.decoder="function"==typeof options.decoder?options.decoder:defaults.decoder,options.allowDots="boolean"==typeof options.allowDots?options.allowDots:defaults.allowDots,options.plainObjects="boolean"==typeof options.plainObjects?options.plainObjects:defaults.plainObjects,options.allowPrototypes="boolean"==typeof options.allowPrototypes?options.allowPrototypes:defaults.allowPrototypes,options.parameterLimit="number"==typeof options.parameterLimit?options.parameterLimit:defaults.parameterLimit,options.strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:defaults.strictNullHandling,""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function parseQueryStringValues(str,options){for(var obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),i=0;i<parts.length;++i){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder),val=options.decoder(part.slice(pos+1),defaults.decoder)),has.call(obj,key)?obj[key]=[].concat(obj[key]).concat(val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},function(module,exports,__webpack_require__){var rng=__webpack_require__(938),bytesToUuid=__webpack_require__(413);module.exports=function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports){var getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function whatwgRNG(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function mathRNG(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports,__webpack_require__){var v35=__webpack_require__(940),sha1=__webpack_require__(941);module.exports=v35("v5",80,sha1)},function(module,exports,__webpack_require__){var bytesToUuid=__webpack_require__(413);module.exports=function(name,version,hashfunc){var generateUUID=function(value,namespace,buf,offset){var off=buf&&offset||0;if("string"==typeof value&&(value=function stringToBytes(str){str=unescape(encodeURIComponent(str));for(var bytes=new Array(str.length),i=0;i<str.length;i++)bytes[i]=str.charCodeAt(i);return bytes}(value)),"string"==typeof namespace&&(namespace=function uuidToBytes(uuid){var bytes=[];return uuid.replace(/[a-fA-F0-9]{2}/g,function(hex){bytes.push(parseInt(hex,16))}),bytes}(namespace)),!Array.isArray(value))throw TypeError("value must be an array of bytes");if(!Array.isArray(namespace)||16!==namespace.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var bytes=hashfunc(namespace.concat(value));if(bytes[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf)for(var idx=0;idx<16;++idx)buf[off+idx]=bytes[idx];return buf||bytesToUuid(bytes)};try{generateUUID.name=name}catch(err){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}},function(module,exports,__webpack_require__){"use strict";function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:return x^y^z;case 2:return x&y^x&z^y&z;case 3:return x^y^z}}function ROTL(x,n){return x<<n|x>>>32-n}module.exports=function sha1(bytes){var K=[1518500249,1859775393,2400959708,3395469782],H=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof bytes){var msg=unescape(encodeURIComponent(bytes));bytes=new Array(msg.length);for(var i=0;i<msg.length;i++)bytes[i]=msg.charCodeAt(i)}bytes.push(128);var l=bytes.length/4+2,N=Math.ceil(l/16),M=new Array(N);for(i=0;i<N;i++){M[i]=new Array(16);for(var j=0;j<16;j++)M[i][j]=bytes[64*i+4*j]<<24|bytes[64*i+4*j+1]<<16|bytes[64*i+4*j+2]<<8|bytes[64*i+4*j+3]}for(M[N-1][14]=8*(bytes.length-1)/Math.pow(2,32),M[N-1][14]=Math.floor(M[N-1][14]),M[N-1][15]=8*(bytes.length-1)&4294967295,i=0;i<N;i++){for(var W=new Array(80),t=0;t<16;t++)W[t]=M[i][t];for(t=16;t<80;t++)W[t]=ROTL(W[t-3]^W[t-8]^W[t-14]^W[t-16],1);var a=H[0],b=H[1],c=H[2],d=H[3],e=H[4];for(t=0;t<80;t++){var s=Math.floor(t/20),T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[t]>>>0;e=d,d=c,c=ROTL(b,30)>>>0,b=a,a=T}H[0]=H[0]+a>>>0,H[1]=H[1]+b>>>0,H[2]=H[2]+c>>>0,H[3]=H[3]+d>>>0,H[4]=H[4]+e>>>0}return[H[0]>>24&255,H[0]>>16&255,H[0]>>8&255,255&H[0],H[1]>>24&255,H[1]>>16&255,H[1]>>8&255,255&H[1],H[2]>>24&255,H[2]>>16&255,H[2]>>8&255,255&H[2],H[3]>>24&255,H[3]>>16&255,H[3]>>8&255,255&H[3],H[4]>>24&255,H[4]>>16&255,H[4]>>8&255,255&H[4]]}},,function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){return void 0===memo&&(memo=Boolean(window&&document&&document.all&&!window.atob)),memo}}(),getTarget=function getTarget(){var memo={};return function memorize(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),stylesInDom={};function modulesToDom(moduleId,list,options){for(var i=0;i<list.length;i++){var part={css:list[i][1],media:list[i][2],sourceMap:list[i][3]};stylesInDom[moduleId][i]?stylesInDom[moduleId][i](part):stylesInDom[moduleId].push(addStyle(part,options))}}function insertStyleElement(options){var style=document.createElement("style"),attributes=options.attributes||{};if(void 0===attributes.nonce){var nonce=__webpack_require__.nc;nonce&&(attributes.nonce=nonce)}if(Object.keys(attributes).forEach(function(key){style.setAttribute(key,attributes[key])}),"function"==typeof options.insert)options.insert(style);else{var target=getTarget(options.insert||"head");if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}return style}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}var singleton=null,singletonCounter=0;function addStyle(obj,options){var style,update,remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else style=insertStyleElement(options),update=function applyToTag(style,options,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media?style.setAttribute("media",media):style.removeAttribute("media"),sourceMap&&btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}.bind(null,style,options),remove=function remove(){!function removeStyleElement(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style)}(style)};return update(obj),function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(moduleId,list,options){return(options=options||{}).singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE()),moduleId=options.base?moduleId+options.base:moduleId,list=list||[],stylesInDom[moduleId]||(stylesInDom[moduleId]=[]),modulesToDom(moduleId,list,options),function update(newList){if(newList=newList||[],"[object Array]"===Object.prototype.toString.call(newList)){stylesInDom[moduleId]||(stylesInDom[moduleId]=[]),modulesToDom(moduleId,newList,options);for(var j=newList.length;j<stylesInDom[moduleId].length;j++)stylesInDom[moduleId][j]();stylesInDom[moduleId].length=newList.length,0===stylesInDom[moduleId].length&&delete stylesInDom[moduleId]}}}},,function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];return list.toString=function toString(){return this.map(function(item){var content=function cssWithMappingToString(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")});return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}(item,useSourceMap);return item[2]?"@media ".concat(item[2]," {").concat(content,"}"):content}).join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var i=0;i<modules.length;i++){var item=[].concat(modules[i]);mediaQuery&&(item[2]?item[2]="".concat(mediaQuery," and ").concat(item[2]):item[2]=mediaQuery),list.push(item)}},list}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_templateObject=function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["",""],["",""]);var TemplateTag_TemplateTag=function(){function TemplateTag(){for(var _this=this,_len=arguments.length,transformers=Array(_len),_key=0;_key<_len;_key++)transformers[_key]=arguments[_key];return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TemplateTag),this.tag=function(strings){for(var _len2=arguments.length,expressions=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)expressions[_key2-1]=arguments[_key2];return"function"==typeof strings?_this.interimTag.bind(_this,strings):"string"==typeof strings?_this.transformEndResult(strings):(strings=strings.map(_this.transformString.bind(_this)),_this.transformEndResult(strings.reduce(_this.processSubstitutions.bind(_this,expressions))))},transformers.length>0&&Array.isArray(transformers[0])&&(transformers=transformers[0]),this.transformers=transformers.map(function(transformer){return"function"==typeof transformer?transformer():transformer}),this.tag}return _createClass(TemplateTag,[{key:"interimTag",value:function interimTag(previousTag,template){for(var _len3=arguments.length,substitutions=Array(_len3>2?_len3-2:0),_key3=2;_key3<_len3;_key3++)substitutions[_key3-2]=arguments[_key3];return this.tag(_templateObject,previousTag.apply(void 0,[template].concat(substitutions)))}},{key:"processSubstitutions",value:function processSubstitutions(substitutions,resultSoFar,remainingPart){var substitution=this.transformSubstitution(substitutions.shift(),resultSoFar);return"".concat(resultSoFar,substitution,remainingPart)}},{key:"transformString",value:function transformString(str){return this.transformers.reduce(function cb(res,transform){return transform.onString?transform.onString(res):res},str)}},{key:"transformSubstitution",value:function transformSubstitution(substitution,resultSoFar){return this.transformers.reduce(function cb(res,transform){return transform.onSubstitution?transform.onSubstitution(res,resultSoFar):res},substitution)}},{key:"transformEndResult",value:function transformEndResult(endResult){return this.transformers.reduce(function cb(res,transform){return transform.onEndResult?transform.onEndResult(res):res},endResult)}}]),TemplateTag}(),trimResultTransformer_trimResultTransformer=function trimResultTransformer(){var side=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function onEndResult(endResult){if(""===side)return endResult.trim();if("start"===(side=side.toLowerCase())||"left"===side)return endResult.replace(/^\s*/,"");if("end"===side||"right"===side)return endResult.replace(/\s*$/,"");throw new Error("Side not supported: "+side)}}};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var stripIndentTransformer_stripIndentTransformer=function stripIndentTransformer(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function onEndResult(endResult){if("initial"===type){var match=endResult.match(/^[^\S\n]*(?=\S)/gm),indent=match&&Math.min.apply(Math,_toConsumableArray(match.map(function(el){return el.length})));if(indent){var regexp=new RegExp("^.{"+indent+"}","gm");return endResult.replace(regexp,"")}return endResult}if("all"===type)return endResult.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+type)}}},replaceResultTransformer_replaceResultTransformer=function replaceResultTransformer(replaceWhat,replaceWith){return{onEndResult:function onEndResult(endResult){if(null==replaceWhat||null==replaceWith)throw new Error("replaceResultTransformer requires at least 2 arguments.");return endResult.replace(replaceWhat,replaceWith)}}},replaceSubstitutionTransformer_replaceSubstitutionTransformer=function replaceSubstitutionTransformer(replaceWhat,replaceWith){return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(null==replaceWhat||null==replaceWith)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==substitution?substitution:substitution.toString().replace(replaceWhat,replaceWith)}}},replaceStringTransformer_replaceStringTransformer=function replaceStringTransformer(replaceWhat,replaceWith){return{onString:function onString(str){if(null==replaceWhat||null==replaceWith)throw new Error("replaceStringTransformer requires at least 2 arguments.");return str.replace(replaceWhat,replaceWith)}}},defaults={separator:"",conjunction:"",serial:!1},inlineArrayTransformer_inlineArrayTransformer=function inlineArrayTransformer(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaults;return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(Array.isArray(substitution)){var arrayLength=substitution.length,separator=opts.separator,conjunction=opts.conjunction,serial=opts.serial,indent=resultSoFar.match(/(\n?[^\S\n]+)$/);if(substitution=indent?substitution.join(separator+indent[1]):substitution.join(separator+" "),conjunction&&arrayLength>1){var separatorIndex=substitution.lastIndexOf(separator);substitution=substitution.slice(0,separatorIndex)+(serial?separator:"")+" "+conjunction+substitution.slice(separatorIndex+1)}}return substitution}}},splitStringTransformer_splitStringTransformer=function splitStringTransformer(splitBy){return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(null==splitBy||"string"!=typeof splitBy)throw new Error("You need to specify a string character to split by.");return"string"==typeof substitution&&substitution.includes(splitBy)&&(substitution=substitution.split(splitBy)),substitution}}},isValidValue=function isValidValue(x){return null!=x&&!Number.isNaN(x)&&"boolean"!=typeof x},removeNonPrintingValuesTransformer_removeNonPrintingValuesTransformer=function removeNonPrintingValuesTransformer(){return{onSubstitution:function onSubstitution(substitution){return Array.isArray(substitution)?substitution.filter(isValidValue):isValidValue(substitution)?substitution:""}}},commaLists_commaLists=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:","}),stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),commaListsAnd_commaListsAnd=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:",",conjunction:"and"}),stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),commaListsOr_commaListsOr=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:",",conjunction:"or"}),stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),html_html=new TemplateTag_TemplateTag(splitStringTransformer_splitStringTransformer("\n"),removeNonPrintingValuesTransformer_removeNonPrintingValuesTransformer,inlineArrayTransformer_inlineArrayTransformer,stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),safeHtml_safeHtml=new TemplateTag_TemplateTag(splitStringTransformer_splitStringTransformer("\n"),inlineArrayTransformer_inlineArrayTransformer,stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer,replaceSubstitutionTransformer_replaceSubstitutionTransformer(/&/g,"&amp;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/</g,"&lt;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/>/g,"&gt;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/"/g,"&quot;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/'/g,"&#x27;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/`/g,"&#x60;")),oneLine_oneLine=new TemplateTag_TemplateTag(replaceResultTransformer_replaceResultTransformer(/(?:\n(?:\s*))+/g," "),trimResultTransformer_trimResultTransformer),oneLineTrim_oneLineTrim=new TemplateTag_TemplateTag(replaceResultTransformer_replaceResultTransformer(/(?:\n\s*)/g,""),trimResultTransformer_trimResultTransformer),oneLineCommaLists_oneLineCommaLists=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:","}),replaceResultTransformer_replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer_trimResultTransformer),oneLineCommaListsOr_oneLineCommaListsOr=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:",",conjunction:"or"}),replaceResultTransformer_replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer_trimResultTransformer),oneLineCommaListsAnd_oneLineCommaListsAnd=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:",",conjunction:"and"}),replaceResultTransformer_replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer_trimResultTransformer),inlineLists_inlineLists=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer,stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),oneLineInlineLists_oneLineInlineLists=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer,replaceResultTransformer_replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer_trimResultTransformer),stripIndent_stripIndent=new TemplateTag_TemplateTag(stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),stripIndents_stripIndents=new TemplateTag_TemplateTag(stripIndentTransformer_stripIndentTransformer("all"),trimResultTransformer_trimResultTransformer);__webpack_require__.d(__webpack_exports__,"TemplateTag",function(){return TemplateTag_TemplateTag}),__webpack_require__.d(__webpack_exports__,"trimResultTransformer",function(){return trimResultTransformer_trimResultTransformer}),__webpack_require__.d(__webpack_exports__,"stripIndentTransformer",function(){return stripIndentTransformer_stripIndentTransformer}),__webpack_require__.d(__webpack_exports__,"replaceResultTransformer",function(){return replaceResultTransformer_replaceResultTransformer}),__webpack_require__.d(__webpack_exports__,"replaceSubstitutionTransformer",function(){return replaceSubstitutionTransformer_replaceSubstitutionTransformer}),__webpack_require__.d(__webpack_exports__,"replaceStringTransformer",function(){return replaceStringTransformer_replaceStringTransformer}),__webpack_require__.d(__webpack_exports__,"inlineArrayTransformer",function(){return inlineArrayTransformer_inlineArrayTransformer}),__webpack_require__.d(__webpack_exports__,"splitStringTransformer",function(){return splitStringTransformer_splitStringTransformer}),__webpack_require__.d(__webpack_exports__,"removeNonPrintingValuesTransformer",function(){return removeNonPrintingValuesTransformer_removeNonPrintingValuesTransformer}),__webpack_require__.d(__webpack_exports__,"commaLists",function(){return commaLists_commaLists}),__webpack_require__.d(__webpack_exports__,"commaListsAnd",function(){return commaListsAnd_commaListsAnd}),__webpack_require__.d(__webpack_exports__,"commaListsOr",function(){return commaListsOr_commaListsOr}),__webpack_require__.d(__webpack_exports__,"html",function(){return html_html}),__webpack_require__.d(__webpack_exports__,"codeBlock",function(){return html_html}),__webpack_require__.d(__webpack_exports__,"source",function(){return html_html}),__webpack_require__.d(__webpack_exports__,"safeHtml",function(){return safeHtml_safeHtml}),__webpack_require__.d(__webpack_exports__,"oneLine",function(){return oneLine_oneLine}),__webpack_require__.d(__webpack_exports__,"oneLineTrim",function(){return oneLineTrim_oneLineTrim}),__webpack_require__.d(__webpack_exports__,"oneLineCommaLists",function(){return oneLineCommaLists_oneLineCommaLists}),__webpack_require__.d(__webpack_exports__,"oneLineCommaListsOr",function(){return oneLineCommaListsOr_oneLineCommaListsOr}),__webpack_require__.d(__webpack_exports__,"oneLineCommaListsAnd",function(){return oneLineCommaListsAnd_oneLineCommaListsAnd}),__webpack_require__.d(__webpack_exports__,"inlineLists",function(){return inlineLists_inlineLists}),__webpack_require__.d(__webpack_exports__,"oneLineInlineLists",function(){return oneLineInlineLists_oneLineInlineLists}),__webpack_require__.d(__webpack_exports__,"stripIndent",function(){return stripIndent_stripIndent}),__webpack_require__.d(__webpack_exports__,"stripIndents",function(){return stripIndents_stripIndents})},,function(module,__webpack_exports__,__webpack_require__){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function isObjectObject(o){return!0===
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function isObject(val){return null!=val&&"object"==typeof val&&!1===Array.isArray(val)}(o)&&"[object Object]"===Object.prototype.toString.call(o)}function isPlainObject(o){var ctor,prot;return!1!==isObjectObject(o)&&("function"==typeof(ctor=o.constructor)&&(!1!==isObjectObject(prot=ctor.prototype)&&!1!==prot.hasOwnProperty("isPrototypeOf")))}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return isPlainObject})},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(226);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(151),react_dom_default=__webpack_require__.n(react_dom),TransitionGroupContext=react_default.a.createContext(null),UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",Transition_Transition=function(_React$Component){function Transition(props,context){var _this;_this=_React$Component.call(this,props,context)||this;var initialStatus,appear=context&&!context.isMounting?props.enter:props.appear;return _this.appearStatus=null,props.in?appear?(initialStatus=EXITED,_this.appearStatus=ENTERING):initialStatus=ENTERED:initialStatus=props.unmountOnExit||props.mountOnEnter?UNMOUNTED:EXITED,_this.state={status:initialStatus},_this.nextCallback=null,_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}(Transition,_React$Component),Transition.getDerivedStateFromProps=function getDerivedStateFromProps(_ref,prevState){return _ref.in&&prevState.status===UNMOUNTED?{status:EXITED}:null};var _proto=Transition.prototype;return _proto.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},_proto.componentDidUpdate=function componentDidUpdate(prevProps){var nextStatus=null;if(prevProps!==this.props){var status=this.state.status;this.props.in?status!==ENTERING&&status!==ENTERED&&(nextStatus=ENTERING):status!==ENTERING&&status!==ENTERED||(nextStatus="exiting")}this.updateStatus(!1,nextStatus)},_proto.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},_proto.getTimeouts=function getTimeouts(){var exit,enter,appear,timeout=this.props.timeout;return exit=enter=appear=timeout,null!=timeout&&"number"!=typeof timeout&&(exit=timeout.exit,enter=timeout.enter,appear=void 0!==timeout.appear?timeout.appear:enter),{exit:exit,enter:enter,appear:appear}},_proto.updateStatus=function updateStatus(mounting,nextStatus){if(void 0===mounting&&(mounting=!1),null!==nextStatus){this.cancelNextCallback();var node=react_dom_default.a.findDOMNode(this);nextStatus===ENTERING?this.performEnter(node,mounting):this.performExit(node)}else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},_proto.performEnter=function performEnter(node,mounting){var _this2=this,enter=this.props.enter,appearing=this.context?this.context.isMounting:mounting,timeouts=this.getTimeouts(),enterTimeout=appearing?timeouts.appear:timeouts.enter;mounting||enter?(this.props.onEnter(node,appearing),this.safeSetState({status:ENTERING},function(){_this2.props.onEntering(node,appearing),_this2.onTransitionEnd(node,enterTimeout,function(){_this2.safeSetState({status:ENTERED},function(){_this2.props.onEntered(node,appearing)})})})):this.safeSetState({status:ENTERED},function(){_this2.props.onEntered(node)})},_proto.performExit=function performExit(node){var _this3=this,exit=this.props.exit,timeouts=this.getTimeouts();exit?(this.props.onExit(node),this.safeSetState({status:"exiting"},function(){_this3.props.onExiting(node),_this3.onTransitionEnd(node,timeouts.exit,function(){_this3.safeSetState({status:EXITED},function(){_this3.props.onExited(node)})})})):this.safeSetState({status:EXITED},function(){_this3.props.onExited(node)})},_proto.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},_proto.safeSetState=function safeSetState(nextState,callback){callback=this.setNextCallback(callback),this.setState(nextState,callback)},_proto.setNextCallback=function setNextCallback(callback){var _this4=this,active=!0;return this.nextCallback=function(event){active&&(active=!1,_this4.nextCallback=null,callback(event))},this.nextCallback.cancel=function(){active=!1},this.nextCallback},_proto.onTransitionEnd=function onTransitionEnd(node,timeout,handler){this.setNextCallback(handler);var doesNotHaveTimeoutOrListener=null==timeout&&!this.props.addEndListener;node&&!doesNotHaveTimeoutOrListener?(this.props.addEndListener&&this.props.addEndListener(node,this.nextCallback),null!=timeout&&setTimeout(this.nextCallback,timeout)):setTimeout(this.nextCallback,0)},_proto.render=function render(){var status=this.state.status;if(status===UNMOUNTED)return null;var _this$props=this.props,children=_this$props.children,childProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_this$props,["children"]);if(delete childProps.in,delete childProps.mountOnEnter,delete childProps.unmountOnExit,delete childProps.appear,delete childProps.enter,delete childProps.exit,delete childProps.timeout,delete childProps.addEndListener,delete childProps.onEnter,delete childProps.onEntering,delete childProps.onEntered,delete childProps.onExit,delete childProps.onExiting,delete childProps.onExited,"function"==typeof children)return react_default.a.createElement(TransitionGroupContext.Provider,{value:null},children(status,childProps));var child=react_default.a.Children.only(children);return react_default.a.createElement(TransitionGroupContext.Provider,{value:null},react_default.a.cloneElement(child,childProps))},Transition}(react_default.a.Component);function noop(){}Transition_Transition.contextType=TransitionGroupContext,Transition_Transition.propTypes={},Transition_Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},Transition_Transition.UNMOUNTED=0,Transition_Transition.EXITED=1,Transition_Transition.ENTERING=2,Transition_Transition.ENTERED=3,Transition_Transition.EXITING=4;__webpack_exports__.a=Transition_Transition}]]);
//# sourceMappingURL=vendors~main.496cc49b4760162914ef.bundle.js.map